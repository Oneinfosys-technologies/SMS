import{m as I,r as o,o as p,q as g,w as t,d as k,e,y as V,l as A,u as l,b as D,s as u,t as i,a as h,v as U,F as B,f as L,h as M,j as N}from"./app-DCfJDSeM.js";const q={class:"grid grid-cols-3 gap-6"},O={class:"col-span-3 sm:col-span-1"},E={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",emits:["hide"],setup(m,{emit:C}){const v=C,_={course:"",institute:"",affiliatedTo:""},d=I({..._});return($,s)=>{const c=o("BaseInput"),y=o("FilterForm");return p(),g(y,{"init-form":_,form:d,onHide:s[3]||(s[3]=n=>v("hide"))},{default:t(()=>[k("div",q,[k("div",O,[e(c,{type:"text",modelValue:d.course,"onUpdate:modelValue":s[0]||(s[0]=n=>d.course=n),name:"course",label:$.$trans("student.qualification.props.course")},null,8,["modelValue","label"])]),k("div",E,[e(c,{type:"text",modelValue:d.institute,"onUpdate:modelValue":s[1]||(s[1]=n=>d.institute=n),name:"institute",label:$.$trans("student.qualification.props.institute")},null,8,["modelValue","label"])]),k("div",z,[e(c,{type:"text",modelValue:d.affiliatedTo,"onUpdate:modelValue":s[2]||(s[2]=n=>d.affiliatedTo=n),name:"affiliatedTo",label:$.$trans("student.qualification.props.affiliated_to")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},J={name:"StudentQualificationList"},W=Object.assign(J,{props:{student:{type:Object,default(){return{}}}},setup(m){const C=L(),v=M(),_=N("emitter");let d=["filter"];V("student:edit")&&d.unshift("create");const $="student/qualification/",s=A(!1),c=I({}),y=n=>{Object.assign(c,n)};return(n,r)=>{const w=o("PageHeaderAction"),T=o("PageHeader"),S=o("ParentTransition"),f=o("DataCell"),b=o("FloatingMenuItem"),H=o("FloatingMenu"),P=o("DataRow"),Q=o("BaseButton"),R=o("DataTable"),j=o("ListItem");return p(),g(j,{"init-url":$,uuid:l(C).params.uuid,onSetItems:y},{header:t(()=>[m.student.uuid?(p(),g(T,{key:0,title:n.$trans("student.qualification.qualification"),navs:[{label:n.$trans("student.student"),path:"Student"},{label:m.student.contact.name,path:{name:"StudentShow",params:{uuid:m.student.uuid}}}]},{default:t(()=>[e(w,{url:`students/${m.student.uuid}/qualifications/`,name:"StudentQualification",title:n.$trans("student.qualification.qualification"),actions:l(d),"dropdown-actions":["print","pdf","excel"],onToggleFilter:r[0]||(r[0]=a=>s.value=!s.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):D("",!0)]),filter:t(()=>[e(S,{appear:"",visibility:s.value},{default:t(()=>[e(G,{onRefresh:r[1]||(r[1]=a=>l(_).emit("listItems")),onHide:r[2]||(r[2]=a=>s.value=!1)})]),_:1},8,["visibility"])]),default:t(()=>[e(S,{appear:"",visibility:!0},{default:t(()=>[e(R,{header:c.headers,meta:c.meta,module:"student.qualification",onRefresh:r[4]||(r[4]=a=>l(_).emit("listItems"))},{actionButton:t(()=>[l(V)("student:edit")?(p(),g(Q,{key:0,onClick:r[3]||(r[3]=a=>l(v).push({name:"StudentQualificationCreate"}))},{default:t(()=>[u(i(n.$trans("global.add",{attribute:n.$trans("student.qualification.qualification")})),1)]),_:1})):D("",!0)]),default:t(()=>[(p(!0),h(B,null,U(c.data,a=>(p(),g(P,{key:a.uuid},{default:t(()=>[e(f,{name:"course"},{default:t(()=>[u(i(a.course),1)]),_:2},1024),e(f,{name:"institute"},{default:t(()=>[u(i(a.institute),1)]),_:2},1024),e(f,{name:"level"},{default:t(()=>[u(i(a.level.name),1)]),_:2},1024),e(f,{name:"startDate"},{default:t(()=>[u(i(a.startDate.formatted),1)]),_:2},1024),e(f,{name:"endDate"},{default:t(()=>[u(i(a.endDate.formatted),1)]),_:2},1024),e(f,{name:"result"},{default:t(()=>[u(i(a.result),1)]),_:2},1024),e(f,{name:"createdAt"},{default:t(()=>[u(i(a.createdAt.formatted),1)]),_:2},1024),e(f,{name:"action"},{default:t(()=>[e(H,null,{default:t(()=>[e(b,{icon:"fas fa-arrow-circle-right",onClick:F=>l(v).push({name:"StudentQualificationShow",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:t(()=>[u(i(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),l(V)("student:edit")?(p(),h(B,{key:0},[e(b,{icon:"fas fa-edit",onClick:F=>l(v).push({name:"StudentQualificationEdit",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:t(()=>[u(i(n.$trans("general.edit")),1)]),_:2},1032,["onClick"]),e(b,{icon:"fas fa-copy",onClick:F=>l(v).push({name:"StudentQualificationDuplicate",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:t(()=>[u(i(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),e(b,{icon:"fas fa-trash",onClick:F=>l(_).emit("deleteItem",{uuid:m.student.uuid,moduleUuid:a.uuid})},{default:t(()=>[u(i(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{W as default};
