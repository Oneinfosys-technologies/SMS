import{m as w,r as u,o as m,q as g,w as t,d as S,e,y,l as L,u as s,b as F,s as i,t as d,a as B,v as M,F as I,f as N,h as O,j as U}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(l,{emit:D}){const c=D,f={title:""},p=w({...f});return(k,r)=>{const _=u("BaseInput"),b=u("FilterForm");return m(),g(b,{"init-form":f,form:p,onHide:r[1]||(r[1]=a=>c("hide"))},{default:t(()=>[S("div",E,[S("div",q,[e(_,{type:"text",modelValue:p.title,"onUpdate:modelValue":r[0]||(r[0]=a=>p.title=a),name:"title",label:k.$trans("student.document.props.title")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},G={name:"StudentDocumentList"},K=Object.assign(G,{props:{student:{type:Object,default(){return{}}}},setup(l){const D=N(),c=O(),f=U("emitter");let p=["filter"];y("student:edit")&&p.unshift("create");const k="student/document/",r=L(!1),_=w({}),b=a=>{Object.assign(_,a)};return(a,o)=>{const V=u("PageHeaderAction"),H=u("PageHeader"),h=u("ParentTransition"),v=u("DataCell"),$=u("FloatingMenuItem"),P=u("FloatingMenu"),R=u("DataRow"),T=u("BaseButton"),j=u("DataTable"),A=u("ListItem");return m(),g(A,{"init-url":k,uuid:s(D).params.uuid,onSetItems:b},{header:t(()=>[l.student.uuid?(m(),g(H,{key:0,title:a.$trans("student.document.document"),navs:[{label:a.$trans("student.student"),path:"Student"},{label:l.student.contact.name,path:{name:"StudentShow",params:{uuid:l.student.uuid}}}]},{default:t(()=>[e(V,{url:`students/${l.student.uuid}/documents/`,name:"StudentDocument",title:a.$trans("student.document.document"),actions:s(p),"dropdown-actions":["print","pdf","excel"],onToggleFilter:o[0]||(o[0]=n=>r.value=!r.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):F("",!0)]),filter:t(()=>[e(h,{appear:"",visibility:r.value},{default:t(()=>[e(z,{onRefresh:o[1]||(o[1]=n=>s(f).emit("listItems")),onHide:o[2]||(o[2]=n=>r.value=!1)})]),_:1},8,["visibility"])]),default:t(()=>[e(h,{appear:"",visibility:!0},{default:t(()=>[e(j,{header:_.headers,meta:_.meta,module:"student.document",onRefresh:o[4]||(o[4]=n=>s(f).emit("listItems"))},{actionButton:t(()=>[s(y)("student:edit")?(m(),g(T,{key:0,onClick:o[3]||(o[3]=n=>s(c).push({name:"StudentDocumentCreate"}))},{default:t(()=>[i(d(a.$trans("global.add",{attribute:a.$trans("student.document.document")})),1)]),_:1})):F("",!0)]),default:t(()=>[(m(!0),B(I,null,M(_.data,n=>(m(),g(R,{key:n.uuid},{default:t(()=>[e(v,{name:"title"},{default:t(()=>[i(d(n.title),1)]),_:2},1024),e(v,{name:"type"},{default:t(()=>[i(d(n.type.name),1)]),_:2},1024),e(v,{name:"startDate"},{default:t(()=>[i(d(n.startDate.formatted),1)]),_:2},1024),e(v,{name:"endDate"},{default:t(()=>[i(d(n.endDate.formatted),1)]),_:2},1024),e(v,{name:"createdAt"},{default:t(()=>[i(d(n.createdAt.formatted),1)]),_:2},1024),e(v,{name:"action"},{default:t(()=>[e(P,null,{default:t(()=>[e($,{icon:"fas fa-arrow-circle-right",onClick:C=>s(c).push({name:"StudentDocumentShow",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:t(()=>[i(d(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),s(y)("student:edit")?(m(),B(I,{key:0},[e($,{icon:"fas fa-edit",onClick:C=>s(c).push({name:"StudentDocumentEdit",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:t(()=>[i(d(a.$trans("general.edit")),1)]),_:2},1032,["onClick"]),e($,{icon:"fas fa-copy",onClick:C=>s(c).push({name:"StudentDocumentDuplicate",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:t(()=>[i(d(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),e($,{icon:"fas fa-trash",onClick:C=>s(f).emit("deleteItem",{uuid:l.student.uuid,moduleUuid:n.uuid})},{default:t(()=>[i(d(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):F("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{K as default};
