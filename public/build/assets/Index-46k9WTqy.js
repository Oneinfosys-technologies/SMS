import{f as P,m as w,n as R,r as a,o as r,q as c,w as e,d as G,e as s,b as $,y as F,l as H,u as o,s as u,t as d,a as j,v as q,F as N,h as U,j as E}from"./app-DCfJDSeM.js";const O={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(V,{emit:h}){const p=P(),y=h,k={name:"",feeGroups:[]},_=w({...k}),l=w({feeGroups:[],isLoaded:!p.query.feeGroups});return R(async()=>{l.feeGroups=p.query.feeGroups?p.query.feeGroups.split(","):[],l.isLoaded=!0}),(m,f)=>{const n=a("BaseInput"),i=a("BaseSelectSearch"),B=a("FilterForm");return r(),c(B,{"init-form":k,form:_,multiple:["feeGroups"],onHide:f[2]||(f[2]=g=>y("hide"))},{default:e(()=>[G("div",O,[G("div",z,[s(n,{type:"text",modelValue:_.name,"onUpdate:modelValue":f[0]||(f[0]=g=>_.name=g),name:"name",label:m.$trans("finance.fee_head.props.name")},null,8,["modelValue","label"])]),G("div",J,[l.isLoaded?(r(),c(i,{key:0,multiple:"",name:"feeGroups",label:m.$trans("global.select",{attribute:m.$trans("finance.fee_group.fee_group")}),modelValue:_.feeGroups,"onUpdate:modelValue":f[1]||(f[1]=g=>_.feeGroups=g),"value-prop":"uuid","init-search":l.feeGroups,"search-action":"finance/feeGroup/list"},null,8,["label","modelValue","init-search"])):$("",!0)])])]),_:1},8,["form"])}}},Q={name:"FinanceFeeHeadList"},X=Object.assign(Q,{setup(V){const h=U(),p=E("emitter");let y=["filter"];F("fee-head:create")&&y.unshift("create");let k=[];F("fee-head:export")&&(k=["print","pdf","excel"]);const _="finance/feeHead/",l=H(!1),m=w({}),f=n=>{Object.assign(m,n)};return(n,i)=>{const B=a("PageHeaderAction"),g=a("PageHeader"),I=a("ParentTransition"),D=a("TextMuted"),b=a("DataCell"),C=a("FloatingMenuItem"),T=a("FloatingMenu"),L=a("DataRow"),M=a("BaseButton"),S=a("DataTable"),A=a("ListItem");return r(),c(A,{"init-url":_,onSetItems:f},{header:e(()=>[s(g,{title:n.$trans("finance.fee_head.fee_head"),navs:[{label:n.$trans("finance.finance"),path:"Finance"}]},{default:e(()=>[s(B,{url:"finance/fee-heads/",name:"FinanceFeeHead",title:n.$trans("finance.fee_head.fee_head"),actions:o(y),"dropdown-actions":o(k),onToggleFilter:i[0]||(i[0]=t=>l.value=!l.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[s(I,{appear:"",visibility:l.value},{default:e(()=>[s(K,{onRefresh:i[1]||(i[1]=t=>o(p).emit("listItems")),onHide:i[2]||(i[2]=t=>l.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[s(I,{appear:"",visibility:!0},{default:e(()=>[s(S,{header:m.headers,meta:m.meta,module:"finance.fee_head",onRefresh:i[4]||(i[4]=t=>o(p).emit("listItems"))},{actionButton:e(()=>[o(F)("fee-head:create")?(r(),c(M,{key:0,onClick:i[3]||(i[3]=t=>o(h).push({name:"FinanceFeeHeadCreate"}))},{default:e(()=>[u(d(n.$trans("global.add",{attribute:n.$trans("finance.fee_head.fee_head")})),1)]),_:1})):$("",!0)]),default:e(()=>[(r(!0),j(N,null,q(m.data,t=>(r(),c(L,{key:t.uuid},{default:e(()=>[s(b,{name:"name"},{default:e(()=>[u(d(t.name)+" ",1),t.type.value?(r(),c(D,{key:0,block:""},{default:e(()=>[u(d(t.type.label),1)]),_:2},1024)):$("",!0)]),_:2},1024),s(b,{name:"feeGroup"},{default:e(()=>{var v;return[u(d(((v=t.group)==null?void 0:v.name)||"-"),1)]}),_:2},1024),s(b,{name:"createdAt"},{default:e(()=>[u(d(t.createdAt.formatted),1)]),_:2},1024),s(b,{name:"action"},{default:e(()=>[s(T,null,{default:e(()=>[s(C,{icon:"fas fa-arrow-circle-right",onClick:v=>o(h).push({name:"FinanceFeeHeadShow",params:{uuid:t.uuid}})},{default:e(()=>[u(d(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(F)("fee-head:edit")?(r(),c(C,{key:0,icon:"fas fa-edit",onClick:v=>o(h).push({name:"FinanceFeeHeadEdit",params:{uuid:t.uuid}})},{default:e(()=>[u(d(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):$("",!0),o(F)("fee-head:create")?(r(),c(C,{key:1,icon:"fas fa-copy",onClick:v=>o(h).push({name:"FinanceFeeHeadDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[u(d(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):$("",!0),o(F)("fee-head:delete")?(r(),c(C,{key:2,icon:"fas fa-trash",onClick:v=>o(p).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[u(d(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{X as default};
