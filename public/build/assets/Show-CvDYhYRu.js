import{m as q,G,l as z,a as J,e as a,w as t,u as n,F as K,r as o,o as f,q as $,s as r,t as u,d as m,y as T,b as L,i as Q,f as W,h as X}from"./app-DCfJDSeM.js";const Y={class:"space-y-4"},Z={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},x=["innerHTML"],ee=["innerHTML"],te=["innerHTML"],ae=["innerHTML"],se={class:"grid grid-cols-2 gap-6"},oe={class:"col-span-2 sm:col-span-1"},le={class:"col-span-2 sm:col-span-1"},ne={name:"EmployeeLeaveRequestShow"},ie=Object.assign(ne,{setup(re){Q();const b=W(),B=X(),S={},V={status:"",comment:""},y="employee/leave/request/",R=q({statuses:[]}),_=G(y),p=q({...V}),v=z(!1),s=q({...S}),h=e=>{Object.assign(R,e)},H=e=>{Object.assign(s,e)},w=()=>{v.value=!0};return(e,l)=>{const E=o("PageHeaderAction"),M=o("PageHeader"),c=o("ListItemView"),k=o("ListContainerVertical"),g=o("BaseCard"),C=o("BaseBadge"),d=o("BaseDataView"),P=o("ListMedia"),I=o("BaseButton"),A=o("ShowButton"),F=o("BaseSelect"),D=o("BaseTextarea"),N=o("FormAction"),U=o("DetailLayoutVertical"),j=o("ShowItem"),O=o("ParentTransition");return f(),J(K,null,[a(M,{title:e.$trans(n(b).meta.trans,{attribute:e.$trans(n(b).meta.label)}),navs:[{label:e.$trans("employee.leave.leave"),path:"EmployeeLeave"},{label:e.$trans("employee.leave.request.request"),path:"EmployeeLeaveRequestList"}]},{default:t(()=>[a(E,{name:"EmployeeLeaveRequest",title:e.$trans("employee.leave.request.request"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),a(O,{appear:"",visibility:!0},{default:t(()=>[a(j,{"init-url":y,uuid:n(b).params.uuid,onSetItem:H,onRedirectTo:l[5]||(l[5]=i=>n(B).push({name:"EmployeeLeaveRequest"})),refresh:v.value,onRefreshed:l[6]||(l[6]=i=>v.value=!1)},{default:t(()=>[s.uuid?(f(),$(U,{key:0},{detail:t(()=>[a(g,{"no-padding":"","no-content-padding":""},{title:t(()=>[r(u(e.$trans("global.detail",{attribute:e.$trans("employee.employee")})),1)]),default:t(()=>[a(k,null,{default:t(()=>[a(c,{label:e.$trans("employee.props.name")},{default:t(()=>[r(u(s.employee.name),1)]),_:1},8,["label"]),a(c,{label:e.$trans("employee.props.code_number")},{default:t(()=>[r(u(s.employee.codeNumber),1)]),_:1},8,["label"]),a(c,{label:e.$trans("employee.department.department")},{default:t(()=>[r(u(s.employee.department),1)]),_:1},8,["label"]),a(c,{label:e.$trans("employee.designation.designation")},{default:t(()=>[r(u(s.employee.designation),1)]),_:1},8,["label"]),a(c,{label:e.$trans("employee.employment_status.employment_status")},{default:t(()=>[r(u(s.employee.employmentStatus),1)]),_:1},8,["label"])]),_:1})]),_:1})]),default:t(()=>[m("div",Y,[a(g,null,{title:t(()=>[r(u(e.$trans("employee.leave.request.request"))+" ",1),a(C,{label:s.status.label,design:s.status.color},null,8,["label","design"])]),footer:t(()=>[a(A,null,{default:t(()=>[n(T)("leave-request:edit")&&s.status.value=="requested"?(f(),$(I,{key:0,design:"primary",onClick:l[0]||(l[0]=i=>n(B).push({name:"EmployeeLeaveRequestEdit",params:{uuid:s.uuid}}))},{default:t(()=>[r(u(e.$trans("general.edit")),1)]),_:1})):L("",!0)]),_:1})]),default:t(()=>[m("dl",Z,[a(d,{label:e.$trans("employee.leave.request.props.period")},{default:t(()=>[m("div",{innerHTML:s.period},null,8,x)]),_:1},8,["label"]),a(d,{label:e.$trans("employee.leave.request.props.duration")},{default:t(()=>[m("div",{innerHTML:s.duration},null,8,ee)]),_:1},8,["label"]),a(d,{class:"col-span-1 sm:col-span-2",label:e.$trans("employee.leave.request.props.reason")},{default:t(()=>[m("div",{innerHTML:s.reason},null,8,te)]),_:1},8,["label"]),a(d,{class:"col-span-1 sm:col-span-2",label:e.$trans("employee.leave.request.props.comment")},{default:t(()=>[m("div",{innerHTML:s.comment},null,8,ae)]),_:1},8,["label"]),a(d,{label:e.$trans("general.created_at")},{default:t(()=>[r(u(s.createdAt.formatted),1)]),_:1},8,["label"]),a(d,{label:e.$trans("general.updated_at")},{default:t(()=>[r(u(s.updatedAt.formatted),1)]),_:1},8,["label"]),a(d,{class:"col-span-1 sm:col-span-2"},{default:t(()=>[a(P,{media:s.media,url:`/app/employee/leave/requests/${s.uuid}/`},null,8,["media","url"])]),_:1})])]),_:1}),n(T)("leave-request:action")?(f(),$(g,{key:0},{title:t(()=>[r(u(e.$trans("employee.leave.request.action")),1)]),default:t(()=>[a(N,{"no-card":"","keep-adding":!1,"init-url":y,"pre-requisites":!0,onSetPreRequisites:h,uuid:s.uuid,"no-data-fetch":!0,action:"status","init-form":V,form:p,"after-submit":w},{default:t(()=>[m("div",se,[m("div",oe,[a(F,{name:"status",label:e.$trans("global.select",{attribute:e.$trans("employee.leave.request.props.status")}),modelValue:p.status,"onUpdate:modelValue":l[1]||(l[1]=i=>p.status=i),options:R.statuses,error:n(_).status,"onUpdate:error":l[2]||(l[2]=i=>n(_).status=i)},null,8,["label","modelValue","options","error"])]),m("div",le,[a(D,{modelValue:p.comment,"onUpdate:modelValue":l[3]||(l[3]=i=>p.comment=i),name:"comment",label:e.$trans("employee.leave.request.props.comment"),error:n(_).comment,"onUpdate:error":l[4]||(l[4]=i=>n(_).comment=i)},null,8,["modelValue","label","error"])])])]),_:1},8,["uuid","form"])]),_:1})):L("",!0)])]),_:1})):L("",!0)]),_:1},8,["uuid","refresh"])]),_:1})],64)}}});export{ie as default};
