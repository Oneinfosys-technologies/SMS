import{f as L,m as F,n as U,r as s,o as p,q as v,w as e,d as $,e as t,y as C,l as N,u as l,s as d,t as m,b as R,a as O,v as E,F as z,h as G,j as J}from"./app-DCfJDSeM.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(S,{emit:f}){L();const V=f,_=S,I={name:"",code:"",inventory:"",place:"",stockCategories:[]},i=F({...I}),y=F({inventories:_.preRequisites.inventories,stockCategories:_.preRequisites.stockCategories,places:_.preRequisites.places}),k=F({isLoaded:!0});return U(async()=>{k.isLoaded=!0}),(c,a)=>{const q=s("BaseInput"),n=s("BaseSelect"),r=s("FilterForm");return p(),v(r,{"init-form":I,form:i,multiple:["stockCategories"],onHide:a[5]||(a[5]=u=>V("hide"))},{default:e(()=>[$("div",K,[$("div",Q,[t(q,{type:"text",modelValue:i.name,"onUpdate:modelValue":a[0]||(a[0]=u=>i.name=u),name:"name",label:c.$trans("inventory.stock_item.props.name")},null,8,["modelValue","label"])]),$("div",W,[t(q,{type:"text",modelValue:i.code,"onUpdate:modelValue":a[1]||(a[1]=u=>i.code=u),name:"code",label:c.$trans("inventory.stock_item.props.code")},null,8,["modelValue","label"])]),$("div",X,[t(n,{modelValue:i.inventory,"onUpdate:modelValue":a[2]||(a[2]=u=>i.inventory=u),name:"inventory",label:c.$trans("inventory.inventory"),"label-prop":"name","value-prop":"uuid",options:y.inventories},null,8,["modelValue","label","options"])]),$("div",Y,[t(n,{multiple:"",modelValue:i.stockCategories,"onUpdate:modelValue":a[3]||(a[3]=u=>i.stockCategories=u),name:"stockCategories",label:c.$trans("inventory.stock_category.stock_category"),"label-prop":"name","value-prop":"uuid",options:y.categories},null,8,["modelValue","label","options"])]),$("div",Z,[t(n,{modelValue:i.place,"onUpdate:modelValue":a[4]||(a[4]=u=>i.place=u),name:"place",label:c.$trans("inventory.stock_item.props.place"),"label-prop":"fullName","value-prop":"uuid",options:y.places},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},ee={name:"InventoryStockItemList"},ne=Object.assign(ee,{setup(S){const f=G(),V=J("emitter");let _=["filter"];C("stock-item:create")&&_.unshift("create");let I=[];C("stock-item:export")&&(I=["print","pdf","excel"]);const i="inventory/stockItem/",y=F({categories:[],places:[]}),k=N(!1),c=F({}),a=n=>{Object.assign(y,n)},q=n=>{Object.assign(c,n)};return(n,r)=>{const u=s("PageHeaderAction"),P=s("PageHeader"),w=s("ParentTransition"),D=s("TextMuted"),g=s("DataCell"),B=s("FloatingMenuItem"),T=s("FloatingMenu"),M=s("DataRow"),j=s("BaseButton"),A=s("DataTable"),H=s("ListItem");return p(),v(H,{"init-url":i,"pre-requisites":!0,onSetPreRequisites:a,onSetItems:q},{header:e(()=>[t(P,{title:n.$trans("inventory.stock_item.stock_item"),navs:[{label:n.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(u,{url:"inventory/stock-items/",name:"InventoryStockItem",title:n.$trans("inventory.stock_item.stock_item"),actions:l(_),"dropdown-actions":l(I),onToggleFilter:r[0]||(r[0]=o=>k.value=!k.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(w,{appear:"",visibility:k.value},{default:e(()=>[t(x,{onRefresh:r[1]||(r[1]=o=>l(V).emit("listItems")),"pre-requisites":y,onHide:r[2]||(r[2]=o=>k.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(w,{appear:"",visibility:!0},{default:e(()=>[t(A,{header:c.headers,meta:c.meta,module:"inventory.stock_item",onRefresh:r[4]||(r[4]=o=>l(V).emit("listItems"))},{actionButton:e(()=>[l(C)("stock-item:create")?(p(),v(j,{key:0,onClick:r[3]||(r[3]=o=>l(f).push({name:"InventoryStockItemCreate"}))},{default:e(()=>[d(m(n.$trans("global.add",{attribute:n.$trans("inventory.stock_item.stock_item")})),1)]),_:1})):R("",!0)]),default:e(()=>[(p(!0),O(z,null,E(c.data,o=>(p(),v(M,{key:o.uuid},{default:e(()=>[t(g,{name:"name"},{default:e(()=>[d(m(o.name)+" ",1),t(D,{block:""},{default:e(()=>[d(m(o.code),1)]),_:2},1024)]),_:2},1024),t(g,{name:"category"},{default:e(()=>[d(m(o.category.name)+" ",1),t(D,{block:""},{default:e(()=>{var b,h;return[d(m((h=(b=o.category)==null?void 0:b.inventory)==null?void 0:h.name),1)]}),_:2},1024)]),_:2},1024),t(g,{name:"quantity"},{default:e(()=>[d(m(o.quantity),1)]),_:2},1024),t(g,{name:"unit"},{default:e(()=>[d(m(o.unit),1)]),_:2},1024),t(g,{name:"createdAt"},{default:e(()=>[d(m(o.createdAt.formatted),1)]),_:2},1024),t(g,{name:"action"},{default:e(()=>[t(T,null,{default:e(()=>[t(B,{icon:"fas fa-arrow-circle-right",onClick:b=>l(f).push({name:"InventoryStockItemShow",params:{uuid:o.uuid}})},{default:e(()=>[d(m(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),l(C)("stock-item:edit")?(p(),v(B,{key:0,icon:"fas fa-edit",onClick:b=>l(f).push({name:"InventoryStockItemEdit",params:{uuid:o.uuid}})},{default:e(()=>[d(m(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):R("",!0),l(C)("stock-item:create")?(p(),v(B,{key:1,icon:"fas fa-copy",onClick:b=>l(f).push({name:"InventoryStockItemDuplicate",params:{uuid:o.uuid}})},{default:e(()=>[d(m(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):R("",!0),l(C)("stock-item:delete")?(p(),v(B,{key:2,icon:"fas fa-trash",onClick:b=>l(V).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[d(m(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):R("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ne as default};
