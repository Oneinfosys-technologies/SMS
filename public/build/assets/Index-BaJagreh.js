import{f as M,m as B,n as j,r as c,o as _,q as v,w as l,d as f,e as s,b as V,y as q,l as A,u as y,s as d,t as u,a as H,v as E,F as O,h as z,j as J}from"./app-DCfJDSeM.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},ee={class:"col-span-3 sm:col-span-1"},te={class:"col-span-3 sm:col-span-1"},ae={class:"col-span-3 sm:col-span-1"},se={class:"col-span-3 sm:col-span-1"},le={class:"col-span-3 sm:col-span-1"},oe={class:"col-span-3 sm:col-span-1"},ne={class:"col-span-3 sm:col-span-1"},re={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(F,{emit:D}){const m=M(),S=D,$=F,C={firstName:"",lastName:"",gender:"",email:"",birthStartDate:"",birthEndDate:"",startDate:"",endDate:"",bloodGroups:[],maritalStatuses:[],religions:[],categories:[],castes:[],source:"",address:""},e=B({...C}),h=B({genders:$.preRequisites.genders,bloodGroups:$.preRequisites.bloodGroups,maritalStatuses:$.preRequisites.maritalStatuses}),r=B({isLoaded:!(m.query.religions||m.query.castes||m.query.categories)});return j(async()=>{r.bloodGroups=m.query.bloodGroups?m.query.bloodGroups.split(","):[],r.maritalStatuses=m.query.maritalStatuses?m.query.maritalStatuses.split(","):[],r.religions=m.query.religions?m.query.religions.split(","):[],r.categories=m.query.categories?m.query.categories.split(","):[],r.castes=m.query.castes?m.query.castes.split(","):[],r.isLoaded=!0}),(n,t)=>{const i=c("BaseInput"),b=c("BaseSelect"),k=c("BaseSelectSearch"),N=c("DatePicker"),U=c("FilterForm");return _(),v(U,{"init-form":C,form:e,multiple:["bloodGroups","maritalStatuses","religions","castes","categories"],onHide:t[15]||(t[15]=a=>S("hide"))},{default:l(()=>[f("div",K,[f("div",Q,[s(i,{type:"text",modelValue:e.firstName,"onUpdate:modelValue":t[0]||(t[0]=a=>e.firstName=a),name:"firstName",label:n.$trans("contact.props.first_name")},null,8,["modelValue","label"])]),f("div",W,[s(i,{type:"text",modelValue:e.lastName,"onUpdate:modelValue":t[1]||(t[1]=a=>e.lastName=a),name:"lastName",label:n.$trans("contact.props.last_name")},null,8,["modelValue","label"])]),f("div",X,[s(b,{modelValue:e.gender,"onUpdate:modelValue":t[2]||(t[2]=a=>e.gender=a),name:"gender",label:n.$trans("contact.props.gender"),options:h.genders},null,8,["modelValue","label","options"])]),f("div",Y,[s(b,{multiple:"",modelValue:e.bloodGroups,"onUpdate:modelValue":t[3]||(t[3]=a=>e.bloodGroups=a),name:"bloodGroups",label:n.$trans("contact.props.blood_group"),options:h.bloodGroups},null,8,["modelValue","label","options"])]),f("div",Z,[s(b,{multiple:"",modelValue:e.maritalStatuses,"onUpdate:modelValue":t[4]||(t[4]=a=>e.maritalStatuses=a),name:"maritalStatuses",label:n.$trans("contact.props.marital_status"),options:h.maritalStatuses},null,8,["modelValue","label","options"])]),f("div",x,[r.isLoaded?(_(),v(k,{key:0,multiple:"",name:"religions",label:n.$trans("global.select",{attribute:n.$trans("contact.religion.religion")}),modelValue:e.religions,"onUpdate:modelValue":t[5]||(t[5]=a=>e.religions=a),"label-props":"name","value-prop":"uuid","init-search":r.religions,"search-action":"option/list","additional-search-query":{type:"religion"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",ee,[r.isLoaded?(_(),v(k,{key:0,multiple:"",name:"castes",label:n.$trans("global.select",{attribute:n.$trans("contact.caste.caste")}),modelValue:e.castes,"onUpdate:modelValue":t[6]||(t[6]=a=>e.castes=a),"label-props":"name","value-prop":"uuid","init-search":r.castes,"search-action":"option/list","additional-search-query":{type:"member_caste"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",te,[r.isLoaded?(_(),v(k,{key:0,multiple:"",name:"categories",label:n.$trans("global.select",{attribute:n.$trans("contact.category.category")}),modelValue:e.categories,"onUpdate:modelValue":t[7]||(t[7]=a=>e.categories=a),"label-props":"name","value-prop":"uuid","init-search":r.categories,"search-action":"option/list","additional-search-query":{type:"member_category"}},null,8,["label","modelValue","init-search"])):V("",!0)]),f("div",ae,[s(i,{type:"text",modelValue:e.email,"onUpdate:modelValue":t[8]||(t[8]=a=>e.email=a),name:"email",label:n.$trans("contact.props.email")},null,8,["modelValue","label"])]),f("div",se,[s(N,{start:e.birthStartDate,"onUpdate:start":t[9]||(t[9]=a=>e.birthStartDate=a),end:e.birthEndDate,"onUpdate:end":t[10]||(t[10]=a=>e.birthEndDate=a),name:"birthDateBetween",as:"range",label:n.$trans("global.date_between",{attribute:n.$trans("contact.props.birth_date")})},null,8,["start","end","label"])]),f("div",le,[s(N,{start:e.startDate,"onUpdate:start":t[11]||(t[11]=a=>e.startDate=a),end:e.endDate,"onUpdate:end":t[12]||(t[12]=a=>e.endDate=a),name:"dateBetween",as:"range",label:n.$trans("global.date_between",{attribute:n.$trans("general.created_at")})},null,8,["start","end","label"])]),f("div",oe,[s(i,{type:"text",modelValue:e.source,"onUpdate:modelValue":t[13]||(t[13]=a=>e.source=a),name:"source",label:n.$trans("contact.props.source")},null,8,["modelValue","label"])]),f("div",ne,[s(i,{type:"text",modelValue:e.address,"onUpdate:modelValue":t[14]||(t[14]=a=>e.address=a),name:"address",label:n.$trans("contact.props.address.address")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},ie={name:"ContactList"},ue=Object.assign(ie,{setup(F){const D=z(),m=J("emitter");let S=["filter"];q("contact:create")&&S.unshift("create"),q("contact:config")&&S.push("config");let $=[];q("contact:export")&&($=["print","pdf","excel"]);const C="contact/",e=A(!1),h=B({genders:[]}),r=B({}),n=i=>{Object.assign(r,i)},t=i=>{Object.assign(h,i)};return(i,b)=>{const k=c("PageHeaderAction"),N=c("PageHeader"),U=c("ParentTransition"),a=c("BaseBadge"),g=c("DataCell"),G=c("TextMuted"),w=c("FloatingMenuItem"),R=c("FloatingMenu"),I=c("DataRow"),P=c("BaseButton"),L=c("DataTable"),T=c("ListItem");return _(),v(T,{"pre-requisites":!0,onSetPreRequisites:t,"init-url":C,onSetItems:n},{header:l(()=>[s(N,{title:i.$trans("contact.contact"),navs:[{label:i.$trans("contact.contact"),path:"Contact"}]},{default:l(()=>[s(k,{url:"contacts/",name:"Contact",title:i.$trans("contact.contact"),actions:y(S),"dropdown-actions":y($),headers:r.headers,onToggleFilter:b[0]||(b[0]=o=>e.value=!e.value)},null,8,["title","actions","dropdown-actions","headers"])]),_:1},8,["title","navs"])]),filter:l(()=>[s(U,{appear:"",visibility:e.value},{default:l(()=>[s(re,{"pre-requisites":h,onRefresh:b[1]||(b[1]=o=>y(m).emit("listItems")),onHide:b[2]||(b[2]=o=>e.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:l(()=>[s(U,{appear:"",visibility:!0},{default:l(()=>[s(L,{header:r.headers,meta:r.meta,module:"contact",onRefresh:b[4]||(b[4]=o=>y(m).emit("listItems"))},{actionButton:l(()=>[y(q)("contact:create")?(_(),v(P,{key:0,onClick:b[3]||(b[3]=o=>y(D).push({name:"ContactCreate"}))},{default:l(()=>[d(u(i.$trans("global.add",{attribute:i.$trans("contact.contact")})),1)]),_:1})):V("",!0)]),default:l(()=>[(_(!0),H(O,null,E(r.data,o=>(_(),v(I,{key:o.uuid},{default:l(()=>[s(g,{name:"name"},{default:l(()=>[d(u(o.name)+" ",1),o.source.value?(_(),v(a,{key:0,label:o.source.label},null,8,["label"])):V("",!0)]),_:2},1024),s(g,{name:"gender"},{default:l(()=>[d(u(o.gender.label),1)]),_:2},1024),s(g,{name:"birthDate"},{default:l(()=>[d(u(o.birthDate.formatted),1)]),_:2},1024),s(g,{name:"contactNumber"},{default:l(()=>[d(u(o.contactNumber)+" ",1),o.email?(_(),v(G,{key:0,block:""},{default:l(()=>[d(u(o.email),1)]),_:2},1024)):V("",!0)]),_:2},1024),s(g,{name:"fatherName"},{default:l(()=>[d(u(o.fatherName),1)]),_:2},1024),s(g,{name:"motherName"},{default:l(()=>[d(u(o.motherName),1)]),_:2},1024),s(g,{name:"bloodGroup"},{default:l(()=>{var p;return[d(u(((p=o.bloodGroup)==null?void 0:p.label)||"-"),1)]}),_:2},1024),s(g,{name:"maritalStatus"},{default:l(()=>{var p;return[d(u(((p=o.maritalStatus)==null?void 0:p.label)||"-"),1)]}),_:2},1024),s(g,{name:"religion"},{default:l(()=>{var p;return[d(u(((p=o.religion)==null?void 0:p.name)||"-"),1)]}),_:2},1024),s(g,{name:"category"},{default:l(()=>{var p;return[d(u(((p=o.category)==null?void 0:p.name)||"-"),1)]}),_:2},1024),s(g,{name:"caste"},{default:l(()=>{var p;return[d(u(((p=o.caste)==null?void 0:p.name)||"-"),1)]}),_:2},1024),s(g,{name:"address"},{default:l(()=>[d(u(o.address),1)]),_:2},1024),s(g,{name:"createdAt"},{default:l(()=>[d(u(o.createdAt.formatted),1)]),_:2},1024),s(g,{name:"action"},{default:l(()=>[s(R,null,{default:l(()=>[s(w,{icon:"fas fa-arrow-circle-right",onClick:p=>y(D).push({name:"ContactShow",params:{uuid:o.uuid}})},{default:l(()=>[d(u(i.$trans("general.show")),1)]),_:2},1032,["onClick"]),y(q)("contact:create")?(_(),v(w,{key:0,icon:"fas fa-copy",onClick:p=>y(D).push({name:"ContactDuplicate",params:{uuid:o.uuid}})},{default:l(()=>[d(u(i.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):V("",!0),y(q)("contact:delete")?(_(),v(w,{key:1,icon:"fas fa-trash",onClick:p=>y(m).emit("deleteItem",{uuid:o.uuid})},{default:l(()=>[d(u(i.$trans("general.delete")),1)]),_:2},1032,["onClick"])):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ue as default};
