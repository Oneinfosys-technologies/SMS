import{f as L,m as y,n as P,r as i,o as u,q as d,w as e,d as w,e as s,y as _,l as R,u as o,s as l,t as m,b as k,a as T,v as M,F as j,h as N,j as S}from"./app-DCfJDSeM.js";const U={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(B,{emit:c}){L();const b=c,g={name:""},p=y({...g}),C=y({isLoaded:!0});return P(async()=>{C.isLoaded=!0}),(f,r)=>{const F=i("BaseInput"),t=i("FilterForm");return u(),d(t,{"init-form":g,form:p,multiple:[],onHide:r[1]||(r[1]=a=>b("hide"))},{default:e(()=>[w("div",U,[w("div",q,[s(F,{type:"text",modelValue:p.name,"onUpdate:modelValue":r[0]||(r[0]=a=>p.name=a),name:"name",label:f.$trans("exam.observation.props.name")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},G={name:"ExamObservationList"},K=Object.assign(G,{setup(B){const c=N(),b=S("emitter");let g=["filter"];_("observation:create")&&g.unshift("create");let p=[];_("observation:export")&&(p=["print","pdf","excel"]);const C="exam/observation/",f=R(!1),r=y({}),F=t=>{Object.assign(r,t)};return(t,a)=>{const I=i("PageHeaderAction"),D=i("PageHeader"),h=i("ParentTransition"),$=i("DataCell"),x=i("FloatingMenuItem"),E=i("FloatingMenu"),O=i("DataRow"),V=i("BaseButton"),A=i("DataTable"),H=i("ListItem");return u(),d(H,{"init-url":C,onSetItems:F},{header:e(()=>[s(D,{title:t.$trans("exam.observation.observation"),navs:[{label:t.$trans("exam.exam"),path:"Exam"}]},{default:e(()=>[s(I,{url:"exam/observations/",name:"ExamObservation",title:t.$trans("exam.observation.observation"),actions:o(g),"dropdown-actions":o(p),onToggleFilter:a[0]||(a[0]=n=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[s(h,{appear:"",visibility:f.value},{default:e(()=>[s(z,{onRefresh:a[1]||(a[1]=n=>o(b).emit("listItems")),onHide:a[2]||(a[2]=n=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[s(h,{appear:"",visibility:!0},{default:e(()=>[s(A,{header:r.headers,meta:r.meta,module:"exam.observation",onRefresh:a[4]||(a[4]=n=>o(b).emit("listItems"))},{actionButton:e(()=>[o(_)("exam-observation:create")?(u(),d(V,{key:0,onClick:a[3]||(a[3]=n=>o(c).push({name:"ExamObservationCreate"}))},{default:e(()=>[l(m(t.$trans("global.add",{attribute:t.$trans("exam.observation.observation")})),1)]),_:1})):k("",!0)]),default:e(()=>[(u(!0),T(j,null,M(r.data,n=>(u(),d(O,{key:n.uuid},{default:e(()=>[s($,{name:"name"},{default:e(()=>[l(m(n.name),1)]),_:2},1024),s($,{name:"grade"},{default:e(()=>{var v;return[l(m(((v=n.grade)==null?void 0:v.name)||"-"),1)]}),_:2},1024),s($,{name:"createdAt"},{default:e(()=>[l(m(n.createdAt.formatted),1)]),_:2},1024),s($,{name:"action"},{default:e(()=>[s(E,null,{default:e(()=>[s(x,{icon:"fas fa-arrow-circle-right",onClick:v=>o(c).push({name:"ExamObservationShow",params:{uuid:n.uuid}})},{default:e(()=>[l(m(t.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(_)("exam-observation:edit")?(u(),d(x,{key:0,icon:"fas fa-edit",onClick:v=>o(c).push({name:"ExamObservationEdit",params:{uuid:n.uuid}})},{default:e(()=>[l(m(t.$trans("general.edit")),1)]),_:2},1032,["onClick"])):k("",!0),o(_)("exam-observation:create")?(u(),d(x,{key:1,icon:"fas fa-copy",onClick:v=>o(c).push({name:"ExamObservationDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[l(m(t.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):k("",!0),o(_)("exam-observation:delete")?(u(),d(x,{key:2,icon:"fas fa-trash",onClick:v=>o(b).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[l(m(t.$trans("general.delete")),1)]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{K as default};
