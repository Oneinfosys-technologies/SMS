import{f as P,h as y,i as F,m as I,n as T,r as n,o as v,q as B,w as e,e as t,s as c,t as m,d as k,l as q,u as g,a as M,v as O,b as N,F as H,j as S}from"./app-DCfJDSeM.js";const U={class:"grid grid-cols-3 gap-6"},A={class:"col-span-3 sm:col-span-1"},E={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["refresh","hide"],setup(L,{emit:C}){const r=P(),b=y();F();const l=C,i={search:""},u=I({...i}),s=()=>{Object.assign(u,i),a(),l("hide")};T(async()=>{Object.assign(u,{search:r.query.search})});const a=async()=>{await b.push({name:r.name,query:{...r.query,...u}}),l("refresh")};return(d,f)=>{const p=n("BaseInput"),_=n("BaseButton"),$=n("BaseCard");return v(),B($,null,{footer:e(()=>[t(_,{design:"error",class:"mr-4",onClick:s},{default:e(()=>[c(m(d.$trans("general.cancel")),1)]),_:1}),t(_,{onClick:a},{default:e(()=>[c(m(d.$trans("general.filter")),1)]),_:1})]),default:e(()=>[k("div",U,[k("div",A,[t(p,{type:"text",modelValue:u.search,"onUpdate:modelValue":f[0]||(f[0]=h=>u.search=h),name:"search",label:d.$trans("general.search")},null,8,["modelValue","label"])])])]),_:1})}}},z={name:"LocaleList"},J=Object.assign(z,{setup(L){const C=y();F();const r=S("emitter"),b="config/locale/",l=q(!1),i=I({}),u=s=>{Object.assign(i,s)};return(s,a)=>{const d=n("PageHeaderAction"),f=n("ParentTransition"),p=n("DataCell"),_=n("FloatingMenuItem"),$=n("FloatingMenu"),h=n("DataRow"),D=n("BaseButton"),R=n("DataTable"),j=n("ListItem"),V=n("ConfigPage");return v(),B(V,{"no-background":""},{action:e(()=>[t(d,{name:"ConfigLocale",title:s.$trans("config.locale.locale"),actions:["create","filter"],onToggleFilter:a[0]||(a[0]=o=>l.value=!l.value)},null,8,["title"])]),default:e(()=>[t(j,{class:"sm:-mt-4","init-url":b,onSetItems:u},{filter:e(()=>[t(f,{appear:"",visibility:l.value},{default:e(()=>[t(E,{onRefresh:a[1]||(a[1]=o=>g(r).emit("listItems")),onHide:a[2]||(a[2]=o=>l.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(f,{appear:"",visibility:!0},{default:e(()=>[t(R,{header:i.headers,meta:i.meta,module:"config.locale",onRefresh:a[4]||(a[4]=o=>g(r).emit("listItems"))},{actionButton:e(()=>[t(D,{onClick:a[3]||(a[3]=o=>g(C).push({name:"LocaleCreate"}))},{default:e(()=>[c(m(s.$trans("global.add",{attribute:s.$trans("config.locale.locale")})),1)]),_:1})]),default:e(()=>[(v(!0),M(H,null,O(i.data,o=>(v(),B(h,{key:o.uuid},{default:e(()=>[t(p,{name:"name"},{default:e(()=>[c(m(o.name),1)]),_:2},1024),t(p,{name:"code"},{default:e(()=>[c(m(o.code),1)]),_:2},1024),t(p,{name:"action"},{default:e(()=>[o.isDefault?N("",!0):(v(),B($,{key:0},{default:e(()=>[t(_,{icon:"fas fa-edit",onClick:w=>g(C).push({name:"ConfigLocaleEdit",params:{uuid:o.uuid}})},{default:e(()=>[c(m(s.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(_,{icon:"fas fa-trash",onClick:w=>g(r).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[c(m(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})]),_:1})}}});export{J as default};
