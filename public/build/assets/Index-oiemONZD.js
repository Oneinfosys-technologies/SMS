import{f as A,m as V,n as H,r as l,o as _,q as g,w as e,d as y,e as t,y as k,l as L,u as i,s as u,t as d,b as B,a as P,v as O,F as E,h as z,j as G}from"./app-DCfJDSeM.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(w,{emit:h}){A();const $=h,b=w,I={codeNumber:"",voucherNumber:"",startDate:"",endDate:"",inventory:"",vendors:[],places:[]},a=V({...I}),v=V({vendors:b.preRequisites.vendors,inventories:b.preRequisites.inventories,places:b.preRequisites.places}),D=V({isLoaded:!0});return H(async()=>{D.isLoaded=!0}),(c,n)=>{const N=l("BaseInput"),s=l("BaseSelect"),p=l("DatePicker"),F=l("FilterForm");return _(),g(F,{"init-form":I,form:a,multiple:["vendors","places"],onHide:n[7]||(n[7]=r=>$("hide"))},{default:e(()=>[y("div",J,[y("div",K,[t(N,{type:"text",modelValue:a.codeNumber,"onUpdate:modelValue":n[0]||(n[0]=r=>a.codeNumber=r),name:"codeNumber",label:c.$trans("inventory.stock_purchase.props.code_number")},null,8,["modelValue","label"])]),y("div",Q,[t(N,{type:"text",modelValue:a.voucherNumber,"onUpdate:modelValue":n[1]||(n[1]=r=>a.voucherNumber=r),name:"voucherNumber",label:c.$trans("inventory.stock_purchase.props.voucher_number")},null,8,["modelValue","label"])]),y("div",W,[t(s,{modelValue:a.inventory,"onUpdate:modelValue":n[2]||(n[2]=r=>a.inventory=r),name:"inventory","label-prop":"name","value-prop":"uuid",label:c.$trans("inventory.inventory"),options:v.inventories},null,8,["modelValue","label","options"])]),y("div",X,[t(s,{multiple:"",modelValue:a.vendors,"onUpdate:modelValue":n[3]||(n[3]=r=>a.vendors=r),name:"vendors","label-prop":"name","value-prop":"uuid",label:c.$trans("inventory.vendor"),options:v.vendors},null,8,["modelValue","label","options"])]),y("div",Y,[t(s,{multiple:"",modelValue:a.places,"onUpdate:modelValue":n[4]||(n[4]=r=>a.places=r),name:"places","label-prop":"fullname","value-prop":"uuid",label:c.$trans("inventory.place"),options:v.places},null,8,["modelValue","label","options"])]),y("div",Z,[t(p,{start:a.startDate,"onUpdate:start":n[5]||(n[5]=r=>a.startDate=r),end:a.endDate,"onUpdate:end":n[6]||(n[6]=r=>a.endDate=r),name:"dateBetween",as:"range",label:c.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},ee={name:"InventoryStockPurchaseList"},ne=Object.assign(ee,{setup(w){const h=z(),$=G("emitter");let b=["filter"];k("inventory:config")&&b.push("config"),k("stock-purchase:create")&&b.unshift("create");let I=[];k("stock-purchase:export")&&(I=["print","pdf","excel"]);const a="inventory/stockPurchase/",v=L(!1),D=V({inventories:[],vendors:[],places:[]}),c=V({}),n=s=>{Object.assign(D,s)},N=s=>{Object.assign(c,s)};return(s,p)=>{const F=l("PageHeaderAction"),r=l("PageHeader"),R=l("ParentTransition"),S=l("TextMuted"),f=l("DataCell"),C=l("FloatingMenuItem"),q=l("FloatingMenu"),T=l("DataRow"),U=l("BaseButton"),M=l("DataTable"),j=l("ListItem");return _(),g(j,{"init-url":a,"pre-requisites":!0,onSetPreRequisites:n,onSetItems:N},{header:e(()=>[t(r,{title:s.$trans("inventory.stock_purchase.stock_purchase"),navs:[{label:s.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(F,{url:"inventory/stock-purchases/",name:"InventoryStockPurchase",title:s.$trans("inventory.stock_purchase.stock_purchase"),actions:i(b),"dropdown-actions":i(I),"config-path":"InventoryConfig",onToggleFilter:p[0]||(p[0]=o=>v.value=!v.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(R,{appear:"",visibility:v.value},{default:e(()=>[t(x,{onRefresh:p[1]||(p[1]=o=>i($).emit("listItems")),"pre-requisites":D,onHide:p[2]||(p[2]=o=>v.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(R,{appear:"",visibility:!0},{default:e(()=>[t(M,{header:c.headers,meta:c.meta,module:"inventory.stock_purchase",onRefresh:p[4]||(p[4]=o=>i($).emit("listItems"))},{actionButton:e(()=>[i(k)("stock-purchase:create")?(_(),g(U,{key:0,onClick:p[3]||(p[3]=o=>i(h).push({name:"InventoryStockPurchaseCreate"}))},{default:e(()=>[u(d(s.$trans("global.add",{attribute:s.$trans("inventory.stock_purchase.stock_purchase")})),1)]),_:1})):B("",!0)]),default:e(()=>[(_(!0),P(E,null,O(c.data,o=>(_(),g(T,{key:o.uuid},{default:e(()=>[t(f,{name:"codeNumber"},{default:e(()=>[u(d(o.codeNumber)+" ",1),t(S,{block:""},{default:e(()=>{var m;return[u(d((m=o.inventory)==null?void 0:m.name),1)]}),_:2},1024)]),_:2},1024),t(f,{name:"voucherNumber"},{default:e(()=>[u(d(o.voucherNumber),1)]),_:2},1024),t(f,{name:"vendor"},{default:e(()=>[u(d(o.vendor.name),1)]),_:2},1024),t(f,{name:"date"},{default:e(()=>[u(d(o.date.formatted),1)]),_:2},1024),t(f,{name:"total"},{default:e(()=>[u(d(o.total.formatted),1)]),_:2},1024),t(f,{name:"place"},{default:e(()=>{var m;return[u(d(((m=o.place)==null?void 0:m.fullName)||"-"),1)]}),_:2},1024),t(f,{name:"createdAt"},{default:e(()=>[u(d(o.createdAt.formatted),1)]),_:2},1024),t(f,{name:"action"},{default:e(()=>[t(q,null,{default:e(()=>[t(C,{icon:"fas fa-arrow-circle-right",onClick:m=>i(h).push({name:"InventoryStockPurchaseShow",params:{uuid:o.uuid}})},{default:e(()=>[u(d(s.$trans("general.show")),1)]),_:2},1032,["onClick"]),i(k)("stock-purchase:edit")?(_(),g(C,{key:0,icon:"fas fa-edit",onClick:m=>i(h).push({name:"InventoryStockPurchaseEdit",params:{uuid:o.uuid}})},{default:e(()=>[u(d(s.$trans("general.edit")),1)]),_:2},1032,["onClick"])):B("",!0),i(k)("stock-purchase:create")?(_(),g(C,{key:1,icon:"fas fa-copy",onClick:m=>i(h).push({name:"InventoryStockPurchaseDuplicate",params:{uuid:o.uuid}})},{default:e(()=>[u(d(s.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):B("",!0),i(k)("stock-purchase:delete")?(_(),g(C,{key:2,icon:"fas fa-trash",onClick:m=>i($).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[u(d(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ne as default};
