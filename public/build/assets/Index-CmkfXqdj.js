import{m as V,r as l,o as u,q as c,w as e,d as B,e as n,y as f,l as w,u as o,s as p,t as d,b as I,a as M,v as N,F as S,h as U,j as O}from"./app-DCfJDSeM.js";const q={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(E,{emit:v}){const y=v,g={name:"",alias:""},i=V({...g});return(b,s)=>{const m=l("BaseInput"),_=l("FilterForm");return u(),c(_,{"init-form":g,form:i,onHide:s[2]||(s[2]=$=>y("hide"))},{default:e(()=>[B("div",q,[B("div",z,[n(m,{type:"text",modelValue:i.name,"onUpdate:modelValue":s[0]||(s[0]=$=>i.name=$),name:"name",label:b.$trans("employee.department.props.name")},null,8,["modelValue","label"])]),B("div",G,[n(m,{type:"text",modelValue:i.alias,"onUpdate:modelValue":s[1]||(s[1]=$=>i.alias=$),name:"alias",label:b.$trans("employee.department.props.alias")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"EmployeeDepartmentList"},W=Object.assign(K,{setup(E){const v=U(),y=O("emitter");let g=["filter"];f("department:create")&&g.unshift("create");let i=[];f("department:export")&&(i=["print","pdf","excel"]),f("department:create")&&i.unshift("import");const b="employee/department/",s=w(!1),m=w(!1),_=V({}),$=r=>{Object.assign(_,r)};return(r,t)=>{const H=l("PageHeaderAction"),T=l("PageHeader"),A=l("BaseImport"),D=l("ParentTransition"),k=l("DataCell"),C=l("FloatingMenuItem"),P=l("FloatingMenu"),h=l("DataRow"),R=l("BaseButton"),j=l("DataTable"),L=l("ListItem");return u(),c(L,{"init-url":b,onSetItems:$},{header:e(()=>[n(T,{title:r.$trans("employee.department.department"),navs:[{label:r.$trans("employee.employee"),path:"Employee"}]},{default:e(()=>[n(H,{url:"employee/departments/",name:"EmployeeDepartment",title:r.$trans("employee.department.department"),actions:o(g),"dropdown-actions":o(i),onToggleFilter:t[0]||(t[0]=a=>s.value=!s.value),onToggleImport:t[1]||(t[1]=a=>m.value=!m.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),import:e(()=>[n(D,{appear:"",visibility:m.value},{default:e(()=>[n(A,{path:"employee/departments/import",onCancelled:t[2]||(t[2]=a=>m.value=!1),onHide:t[3]||(t[3]=a=>m.value=!1),onCompleted:t[4]||(t[4]=a=>o(y).emit("listItems"))})]),_:1},8,["visibility"])]),filter:e(()=>[n(D,{appear:"",visibility:s.value},{default:e(()=>[n(J,{onRefresh:t[5]||(t[5]=a=>o(y).emit("listItems")),onHide:t[6]||(t[6]=a=>s.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(D,{appear:"",visibility:!0},{default:e(()=>[n(j,{header:_.headers,meta:_.meta,module:"employee.department",onRefresh:t[8]||(t[8]=a=>o(y).emit("listItems"))},{actionButton:e(()=>[o(f)("department:create")?(u(),c(R,{key:0,onClick:t[7]||(t[7]=a=>o(v).push({name:"EmployeeDepartmentCreate"}))},{default:e(()=>[p(d(r.$trans("global.add",{attribute:r.$trans("employee.department.department")})),1)]),_:1})):I("",!0)]),default:e(()=>[(u(!0),M(S,null,N(_.data,a=>(u(),c(h,{key:a.uuid},{default:e(()=>[n(k,{name:"name"},{default:e(()=>[p(d(a.name),1)]),_:2},1024),n(k,{name:"alias"},{default:e(()=>[p(d(a.alias),1)]),_:2},1024),n(k,{name:"createdAt"},{default:e(()=>[p(d(a.createdAt.formatted),1)]),_:2},1024),n(k,{name:"action"},{default:e(()=>[n(P,null,{default:e(()=>[n(C,{icon:"fas fa-arrow-circle-right",onClick:F=>o(v).push({name:"EmployeeDepartmentShow",params:{uuid:a.uuid}})},{default:e(()=>[p(d(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(f)("department:edit")?(u(),c(C,{key:0,icon:"fas fa-edit",onClick:F=>o(v).push({name:"EmployeeDepartmentEdit",params:{uuid:a.uuid}})},{default:e(()=>[p(d(r.$trans("general.edit")),1)]),_:2},1032,["onClick"])):I("",!0),o(f)("department:create")?(u(),c(C,{key:1,icon:"fas fa-copy",onClick:F=>o(v).push({name:"EmployeeDepartmentDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[p(d(r.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):I("",!0),o(f)("department:delete")?(u(),c(C,{key:2,icon:"fas fa-trash",onClick:F=>o(y).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[p(d(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):I("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
