import{G as T,c as k,m as q,a as m,e as a,w as l,F as P,r as d,o as i,d as S,u as n,q as h,b as _,s as f,t as c,i as L,h as N}from"./app-DCfJDSeM.js";const A={class:"space-y-6"},E={key:2},G={key:3},H={key:4},V="auth/password/",D={__name:"Password",setup(I){const v=L(),g=N(),t=T(V),p=k(()=>v.getters["auth/password/isPasswordRequestSent"]),u=k(()=>v.getters["auth/password/isResetTokenConfirmed"]),B=k(()=>u.value?"resetPassword":p.value?"resetTokenConfirm":"passwordRequest"),y={email:"",code:"",newPassword:"",newPasswordConfirmation:""},s=q({...y}),C=()=>{s.newPassword&&(Object.assign(s,y),g.push({name:"Login"}))};return(r,e)=>{const U=d("GuestHeader"),w=d("BaseInput"),$=d("BaseLink"),b=d("BaseButton"),F=d("FormAction"),R=d("ParentTransition");return i(),m(P,null,[a(U,{label:r.$trans("auth.password.password_title")},null,8,["label"]),a(R,{appear:"",visibility:!0},{default:l(()=>[a(F,{"no-card":"","no-action-button":"","init-url":V,"init-form":y,form:s,action:B.value,"stay-on":"","after-submit":C},{default:l(()=>[S("div",A,[a(w,{type:"text","leading-icon":"fas fa-envelope",modelValue:s.email,"onUpdate:modelValue":e[0]||(e[0]=o=>s.email=o),name:"email",label:r.$trans("auth.password.props.email"),error:n(t).email,"onUpdate:error":e[1]||(e[1]=o=>n(t).email=o),readonly:p.value||u.value,autofocus:""},null,8,["modelValue","label","error","readonly"]),p.value?(i(),h(w,{key:0,type:"text","leading-icon":"fas fa-keyboard",modelValue:s.code,"onUpdate:modelValue":e[2]||(e[2]=o=>s.code=o),name:"code",label:r.$trans("auth.password.props.code"),error:n(t).code,"onUpdate:error":e[3]||(e[3]=o=>n(t).code=o),readonly:u.value},null,8,["modelValue","label","error","readonly"])):_("",!0),u.value?(i(),m(P,{key:1},[a(w,{type:"password","leading-icon":"fas fa-key",modelValue:s.newPassword,"onUpdate:modelValue":e[4]||(e[4]=o=>s.newPassword=o),name:"newPassword",label:r.$trans("auth.password.props.new_password"),error:n(t).newPassword,"onUpdate:error":e[5]||(e[5]=o=>n(t).newPassword=o)},null,8,["modelValue","label","error"]),a(w,{type:"password","leading-icon":"fas fa-key",modelValue:s.newPasswordConfirmation,"onUpdate:modelValue":e[6]||(e[6]=o=>s.newPasswordConfirmation=o),name:"newPasswordConfirmation",label:r.$trans("auth.password.props.new_password_confirmation"),error:n(t).newPasswordConfirmation,"onUpdate:error":e[7]||(e[7]=o=>n(t).newPasswordConfirmation=o)},null,8,["modelValue","label","error"])],64)):_("",!0),a($,{to:"Login"},{default:l(()=>[f(c(r.$trans("auth.login.login_title")),1)]),_:1}),u.value?(i(),m("div",E,[a(b,{type:"submit",block:""},{default:l(()=>[f(c(r.$trans("auth.password.reset_password")),1)]),_:1})])):p.value?(i(),m("div",G,[a(b,{type:"submit",block:""},{default:l(()=>[f(c(r.$trans("auth.password.verify_token")),1)]),_:1})])):(i(),m("div",H,[a(b,{type:"submit",block:""},{default:l(()=>[f(c(r.$trans("auth.password.request_password")),1)]),_:1})]))])]),_:1},8,["form","action"])]),_:1})],64)}}};export{D as default};
