import{m as k,G as q,l as J,J as z,a as v,q as l,w as a,u as t,b as p,e as u,F as f,r as c,o as r,y as b,s as o,t as s,d as T,v as I,i as K,f as Q,h as W,j as L}from"./app-DCfJDSeM.js";const X={key:0,class:"flex items-center justify-center mb-10"},Y=["src"],Z={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-4"},tt=["innerHTML"],et={name:"TripShow"},rt=Object.assign(et,{setup(it){K();const d=Q(),w=W(),i=L("$trans"),A=L("emitter");let $=["list"];const S={},H={},B="activity/trip/";k({}),q(B),k({...H});const g=J(!1),e=k({...S}),M=_=>{Object.assign(e,_)},h=_=>e.audiences.filter(n=>n.type===_),D=()=>d.name=="ActivityTripParticipantList"?`activity/trips/${e.uuid}/participants/`:`activity/trips/${e.uuid}/`,V=()=>d.name=="ActivityTripParticipantList"?["print","pdf","excel"]:[];return z(()=>d.params.uuid,_=>{g.value=!0}),(_,n)=>{const P=c("BaseButton"),C=c("DropdownItem"),j=c("PageHeaderAction"),R=c("PageHeader"),E=c("BaseTab"),F=c("BaseBadge"),m=c("BaseDataView"),x=c("TextMuted"),G=c("BaseCard"),N=c("router-view"),O=c("ShowItem"),U=c("ParentTransition");return r(),v(f,null,[e.uuid?(r(),l(R,{key:0,title:t(i)(t(d).meta.trans,{attribute:t(i)(t(d).meta.label)}),navs:[{label:t(i)("activity.activity"),path:"Activity"},{label:t(i)("activity.trip.trip"),path:"ActivityTripList"},{label:e.titleExcerpt,path:{name:"ActivityTripShow",params:{uuid:e.uuid}}}]},{default:a(()=>[u(j,{url:D(),name:"ActivityTrip",title:t(i)("activity.trip.trip"),actions:t($),"dropdown-actions":V()},{dropdown:a(()=>[t(b)("trip:manage")?(r(),l(C,{key:0,icon:"fas fa-pencil",onClick:n[2]||(n[2]=y=>t(w).push({name:"ActivityTripEdit",params:{uuid:e.uuid}}))},{default:a(()=>[o(s(t(i)("global.edit",{attribute:t(i)("activity.trip.trip")})),1)]),_:1})):p("",!0),t(b)("trip:manage")?(r(),l(C,{key:1,icon:"fas fa-trash",onClick:n[3]||(n[3]=y=>t(A).emit("showDeleteItem",{uuid:e.uuid}))},{default:a(()=>[o(s(t(i)("global.delete",{attribute:t(i)("activity.trip.trip")})),1)]),_:1})):p("",!0),t(d).name=="ActivityTripParticipantList"?(r(),v(f,{key:2},[],64)):p("",!0)]),default:a(()=>[t(d).name=="ActivityTripParticipantList"&&t(b)("trip:manage")?(r(),l(P,{key:0,design:"white",onClick:n[0]||(n[0]=y=>t(A).emit("addTripParticipant",{trip:e}))},{default:a(()=>[o(s(t(i)("global.add",{attribute:t(i)("activity.trip.participant.participants")})),1)]),_:1})):p("",!0),t(d).name=="ActivityTripMediaList"&&t(b)("trip:manage")?(r(),l(P,{key:1,design:"white",onClick:n[1]||(n[1]=y=>t(A).emit("addActivityTripMedia"))},{default:a(()=>[o(s(t(i)("global.add",{attribute:t(i)("activity.trip.media.media")})),1)]),_:1})):p("",!0)]),_:1},8,["url","title","actions","dropdown-actions"])]),_:1},8,["title","navs"])):p("",!0),u(U,{appear:"",visibility:!0},{default:a(()=>[u(O,{"init-url":B,uuid:t(d).params.uuid,onSetItem:M,onRedirectTo:n[5]||(n[5]=y=>t(w).push({name:"ActivityTrip"})),refresh:g.value,onRefreshed:n[6]||(n[6]=y=>g.value=!1)},{default:a(()=>[e?(r(),l(E,{key:0,tabs:[{name:"ActivityTripShowGeneral",icon:"fas fa-home",label:t(i)("general.detail"),path:"ActivityTripShowGeneral"},{name:"ActivityTripParticipant",icon:"fas fa-users",label:t(i)("activity.trip.participant.participants"),count:e.participantsCount,path:"ActivityTripParticipantList"},{name:"ActivityTripMedia",icon:"fas fa-paperclip",label:t(i)("activity.trip.media.media"),count:e.mediaCount,path:"ActivityTripMediaList"}]},null,8,["tabs"])):p("",!0),e.uuid&&t(d).name=="ActivityTripShowGeneral"?(r(),l(G,{key:1},{title:a(()=>[o(s(e.title)+" ",1),e.type?(r(),l(F,{key:0,design:e.type.color?"custom":"",color:e.type.color},{default:a(()=>[o(s(e.type.name),1)]),_:1},8,["design","color"])):p("",!0)]),action:a(()=>n[7]||(n[7]=[T("div",{class:"space-x-2"},null,-1)])),default:a(()=>[e.coverImage?(r(),v("div",X,[T("img",{class:"rounded-tl-lg rounded-tr-lg",src:e.coverImage},null,8,Y)])):p("",!0),T("dl",Z,[u(m,{label:t(i)("activity.trip.props.venue")},{default:a(()=>[o(s(e.venue),1)]),_:1},8,["label"]),u(m,{label:t(i)("activity.trip.props.audience")},{default:a(()=>[o(s(e.studentAudienceType.label)+" ",1),(r(!0),v(f,null,I(h("student"),y=>(r(),l(x,{block:""},{default:a(()=>[o(s(y.name),1)]),_:2},1024))),256))]),_:1},8,["label"]),u(m,{label:t(i)("activity.trip.props.audience")},{default:a(()=>[e.employeeAudienceType.value?(r(),v(f,{key:0},[o(s(e.employeeAudienceType.label)+" ",1),(r(!0),v(f,null,I(h("employee"),y=>(r(),l(x,{block:""},{default:a(()=>[o(s(y.name),1)]),_:2},1024))),256))],64)):(r(),v(f,{key:1},[o("-")],64))]),_:1},8,["label"]),u(m,{label:t(i)("activity.trip.props.fee")},{default:a(()=>[o(s(e.fee.formatted),1)]),_:1},8,["label"]),t(b)("trip:manage")?(r(),l(m,{key:0,label:t(i)("activity.trip.participants_count")},{default:a(()=>[o(s(e.participantsCount),1)]),_:1},8,["label"])):p("",!0),u(m,{label:t(i)("activity.trip.props.duration")},{default:a(()=>[o(s(e.duration),1)]),_:1},8,["label"]),u(m,{label:t(i)("activity.trip.props.period")},{default:a(()=>[o(s(e.durationInDetail),1)]),_:1},8,["label"]),u(m,{class:"col-span-1 sm:col-span-4"},{default:a(()=>[T("div",{innerHTML:e.summary},null,8,tt)]),_:1}),u(m,{label:t(i)("general.created_at")},{default:a(()=>[o(s(e.createdAt.formatted),1)]),_:1},8,["label"]),u(m,{label:t(i)("general.updated_at")},{default:a(()=>[o(s(e.updatedAt.formatted),1)]),_:1},8,["label"])])]),_:1})):p("",!0),e.uuid?(r(),l(N,{key:2,trip:e,onRefresh:n[4]||(n[4]=y=>g.value=!0)},null,8,["trip"])):p("",!0)]),_:1},8,["uuid","refresh"])]),_:1})],64)}}});export{rt as default};
