import{m as B,r as i,o as p,q as m,w as e,d as F,e as t,y as v,l as H,u as s,s as l,t as d,b as k,a as j,v as L,F as M,h as U,j as S}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},O={class:"col-span-3 sm:col-span-1"},q={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(R,{emit:f}){const b=f,g={letterNumber:"",startDate:"",endDate:""},u=B({...g});return($,o)=>{const _=i("BaseInput"),D=i("DatePicker"),r=i("FilterForm");return p(),m(r,{"init-form":g,form:u,multiple:[],onHide:o[3]||(o[3]=n=>b("hide"))},{default:e(()=>[F("div",E,[F("div",O,[t(_,{type:"text",modelValue:u.letterNumber,"onUpdate:modelValue":o[0]||(o[0]=n=>u.letterNumber=n),name:"letterNumber",label:$.$trans("reception.correspondence.props.letter_number")},null,8,["modelValue","label"])]),F("div",q,[t(D,{start:u.startDate,"onUpdate:start":o[1]||(o[1]=n=>u.startDate=n),end:u.endDate,"onUpdate:end":o[2]||(o[2]=n=>u.endDate=n),name:"dateBetween",as:"range",label:$.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},G={name:"ReceptionCorrespondenceList"},K=Object.assign(G,{setup(R){const f=U(),b=S("emitter");let g=["filter"];v("correspondence:create")&&g.unshift("create");let u=[];v("correspondence:export")&&(u=["print","pdf","excel"]);const $="reception/correspondence/",o=H(!1),_=B({}),D=r=>{Object.assign(_,r)};return(r,n)=>{const I=i("PageHeaderAction"),N=i("PageHeader"),w=i("ParentTransition"),c=i("DataCell"),C=i("FloatingMenuItem"),h=i("FloatingMenu"),P=i("DataRow"),T=i("BaseButton"),V=i("DataTable"),A=i("ListItem");return p(),m(A,{"init-url":$,onSetItems:D},{header:e(()=>[t(N,{title:r.$trans("reception.correspondence.correspondence"),navs:[{label:r.$trans("reception.reception"),path:"Reception"}]},{default:e(()=>[t(I,{url:"reception/correspondences/",name:"ReceptionCorrespondence",title:r.$trans("reception.correspondence.correspondence"),actions:s(g),"dropdown-actions":s(u),onToggleFilter:n[0]||(n[0]=a=>o.value=!o.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(w,{appear:"",visibility:o.value},{default:e(()=>[t(z,{onRefresh:n[1]||(n[1]=a=>s(b).emit("listItems")),onHide:n[2]||(n[2]=a=>o.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(w,{appear:"",visibility:!0},{default:e(()=>[t(V,{header:_.headers,meta:_.meta,module:"reception.correspondence",onRefresh:n[4]||(n[4]=a=>s(b).emit("listItems"))},{actionButton:e(()=>[s(v)("correspondence:create")?(p(),m(T,{key:0,onClick:n[3]||(n[3]=a=>s(f).push({name:"ReceptionCorrespondenceCreate"}))},{default:e(()=>[l(d(r.$trans("global.add",{attribute:r.$trans("reception.correspondence.correspondence")})),1)]),_:1})):k("",!0)]),default:e(()=>[(p(!0),j(M,null,L(_.data,a=>(p(),m(P,{key:a.uuid},{default:e(()=>[t(c,{name:"type"},{default:e(()=>[l(d(a.type.label),1)]),_:2},1024),t(c,{name:"letterNumber"},{default:e(()=>[l(d(a.letterNumber),1)]),_:2},1024),t(c,{name:"mode"},{default:e(()=>[l(d(a.mode.label),1)]),_:2},1024),t(c,{name:"sender"},{default:e(()=>[l(d(a.senderTitle),1)]),_:2},1024),t(c,{name:"receiver"},{default:e(()=>[l(d(a.receiverTitle),1)]),_:2},1024),t(c,{name:"date"},{default:e(()=>[l(d(a.date.formatted),1)]),_:2},1024),t(c,{name:"createdAt"},{default:e(()=>[l(d(a.createdAt.formatted),1)]),_:2},1024),t(c,{name:"action"},{default:e(()=>[t(h,null,{default:e(()=>[t(C,{icon:"fas fa-arrow-circle-right",onClick:y=>s(f).push({name:"ReceptionCorrespondenceShow",params:{uuid:a.uuid}})},{default:e(()=>[l(d(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),s(v)("correspondence:edit")?(p(),m(C,{key:0,icon:"fas fa-edit",onClick:y=>s(f).push({name:"ReceptionCorrespondenceEdit",params:{uuid:a.uuid}})},{default:e(()=>[l(d(r.$trans("general.edit")),1)]),_:2},1032,["onClick"])):k("",!0),s(v)("correspondence:create")?(p(),m(C,{key:1,icon:"fas fa-copy",onClick:y=>s(f).push({name:"ReceptionCorrespondenceDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[l(d(r.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):k("",!0),s(v)("correspondence:delete")?(p(),m(C,{key:2,icon:"fas fa-trash",onClick:y=>s(b).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[l(d(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{K as default};
