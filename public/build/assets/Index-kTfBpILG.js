import{f as N,m as F,n as j,r as o,o as c,q as _,w as e,d as C,e as t,y as h,l as U,u as r,s as l,t as d,b as D,a as O,v as S,F as E,h as q,j as z}from"./app-DCfJDSeM.js";import{_ as G}from"./ModuleDropdown-CAwsQhjt.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={__name:"Filter",emits:["hide"],setup(B,{emit:v}){N();const $=v,k={title:"",startDate:"",endDate:""},u=F({...k}),T=F({isLoaded:!0});return j(async()=>{T.isLoaded=!0}),(p,s)=>{const y=o("BaseInput"),n=o("DatePicker"),i=o("FilterForm");return c(),_(i,{"init-form":k,form:u,multiple:[],onHide:s[3]||(s[3]=m=>$("hide"))},{default:e(()=>[C("div",J,[C("div",K,[t(y,{type:"text",modelValue:u.title,"onUpdate:modelValue":s[0]||(s[0]=m=>u.title=m),name:"title",label:p.$trans("transport.vehicle.document.props.title")},null,8,["modelValue","label"])]),C("div",Q,[t(n,{start:u.startDate,"onUpdate:start":s[1]||(s[1]=m=>u.startDate=m),end:u.endDate,"onUpdate:end":s[2]||(s[2]=m=>u.endDate=m),name:"dateBetween",as:"range",label:p.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},X={name:"TransportVehicleDocumentList"},x=Object.assign(X,{setup(B){const v=q(),$=z("emitter");let k=["filter"];h("vehicle-document:create")&&k.unshift("create");let u=[];h("vehicle-document:export")&&(u=["print","pdf","excel"]);const T="transport/vehicle/document/",p=U(!1),s=F({}),y=n=>{Object.assign(s,n)};return(n,i)=>{const m=o("PageHeaderAction"),I=o("PageHeader"),V=o("ParentTransition"),P=o("TextMuted"),f=o("DataCell"),b=o("FloatingMenuItem"),M=o("FloatingMenu"),A=o("DataRow"),H=o("BaseButton"),L=o("DataTable"),R=o("ListItem");return c(),_(R,{"init-url":T,onSetItems:y},{header:e(()=>[t(I,{title:n.$trans("transport.vehicle.document.document"),navs:[{label:n.$trans("transport.transport"),path:"Transport"},{label:n.$trans("transport.vehicle.vehicle"),path:"TransportVehicle"}]},{default:e(()=>[t(m,{url:"transport/vehicle/documents/",name:"TransportVehicleDocument",title:n.$trans("transport.vehicle.document.document"),actions:r(k),"dropdown-actions":r(u),onToggleFilter:i[0]||(i[0]=a=>p.value=!p.value)},{moduleOption:e(()=>[t(G)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(V,{appear:"",visibility:p.value},{default:e(()=>[t(W,{onRefresh:i[1]||(i[1]=a=>r($).emit("listItems")),onHide:i[2]||(i[2]=a=>p.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(V,{appear:"",visibility:!0},{default:e(()=>[t(L,{header:s.headers,meta:s.meta,module:"transport.vehicle.document",onRefresh:i[4]||(i[4]=a=>r($).emit("listItems"))},{actionButton:e(()=>[r(h)("vehicle-document:create")?(c(),_(H,{key:0,onClick:i[3]||(i[3]=a=>r(v).push({name:"TransportVehicleDocumentCreate"}))},{default:e(()=>[l(d(n.$trans("global.add",{attribute:n.$trans("transport.vehicle.document.document")})),1)]),_:1})):D("",!0)]),default:e(()=>[(c(!0),O(E,null,S(s.data,a=>(c(),_(A,{key:a.uuid},{default:e(()=>[t(f,{name:"vehicle"},{default:e(()=>{var g;return[l(d((g=a.vehicle)==null?void 0:g.name)+" ",1),t(P,{block:""},{default:e(()=>{var w;return[l(d((w=a.vehicle)==null?void 0:w.registrationNumber),1)]}),_:2},1024)]}),_:2},1024),t(f,{name:"title"},{default:e(()=>[l(d(a.title),1)]),_:2},1024),t(f,{name:"type"},{default:e(()=>[l(d(a.type.name),1)]),_:2},1024),t(f,{name:"startDate"},{default:e(()=>[l(d(a.startDate.formatted),1)]),_:2},1024),t(f,{name:"endDate"},{default:e(()=>[l(d(a.endDate.formatted),1)]),_:2},1024),t(f,{name:"createdAt"},{default:e(()=>[l(d(a.createdAt.formatted),1)]),_:2},1024),t(f,{name:"action"},{default:e(()=>[t(M,null,{default:e(()=>[t(b,{icon:"fas fa-arrow-circle-right",onClick:g=>r(v).push({name:"TransportVehicleDocumentShow",params:{uuid:a.uuid}})},{default:e(()=>[l(d(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),r(h)("vehicle-document:edit")?(c(),_(b,{key:0,icon:"fas fa-edit",onClick:g=>r(v).push({name:"TransportVehicleDocumentEdit",params:{uuid:a.uuid}})},{default:e(()=>[l(d(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):D("",!0),r(h)("vehicle-document:create")?(c(),_(b,{key:1,icon:"fas fa-copy",onClick:g=>r(v).push({name:"TransportVehicleDocumentDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[l(d(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):D("",!0),r(h)("vehicle-document:delete")?(c(),_(b,{key:2,icon:"fas fa-trash",onClick:g=>r($).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[l(d(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{x as default};
