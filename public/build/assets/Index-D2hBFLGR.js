import{f as H,m as D,n as L,r as o,o as f,q as y,w as e,d as I,e as t,y as _,l as U,u as i,s as d,t as m,b as F,a as A,v as O,F as E,h as z,j as G}from"./app-DCfJDSeM.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(N,{emit:k}){H();const g=k,b=N,$={codeNumber:"",startDate:"",endDate:"",inventory:"",places:[]},r=D({...$}),v=D({inventories:b.preRequisites.inventories,places:b.preRequisites.places}),C=D({isLoaded:!0});return L(async()=>{C.isLoaded=!0}),(c,s)=>{const w=o("BaseInput"),n=o("BaseSelect"),l=o("DatePicker"),V=o("FilterForm");return f(),y(V,{"init-form":$,form:r,multiple:["places"],onHide:s[5]||(s[5]=u=>g("hide"))},{default:e(()=>[I("div",J,[I("div",K,[t(w,{type:"text",modelValue:r.codeNumber,"onUpdate:modelValue":s[0]||(s[0]=u=>r.codeNumber=u),name:"codeNumber",label:c.$trans("inventory.stock_adjustment.props.code_number")},null,8,["modelValue","label"])]),I("div",Q,[t(n,{modelValue:r.inventory,"onUpdate:modelValue":s[1]||(s[1]=u=>r.inventory=u),name:"inventory","label-prop":"name","value-prop":"uuid",label:c.$trans("inventory.inventory"),options:v.inventories},null,8,["modelValue","label","options"])]),I("div",W,[t(n,{multiple:"",modelValue:r.places,"onUpdate:modelValue":s[2]||(s[2]=u=>r.places=u),name:"places","label-prop":"fullName","value-prop":"uuid",label:c.$trans("inventory.place"),options:v.places},null,8,["modelValue","label","options"])]),I("div",X,[t(l,{start:r.startDate,"onUpdate:start":s[3]||(s[3]=u=>r.startDate=u),end:r.endDate,"onUpdate:end":s[4]||(s[4]=u=>r.endDate=u),name:"dateBetween",as:"range",label:c.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},Z={name:"InventoryStockAdjustmentList"},ee=Object.assign(Z,{setup(N){const k=z(),g=G("emitter");let b=["filter"];_("inventory:config")&&b.push("config"),_("stock-adjustment:create")&&b.unshift("create");let $=[];_("stock-adjustment:export")&&($=["print","pdf","excel"]);const r="inventory/stockAdjustment/",v=U(!1),C=D({inventories:[],places:[]}),c=D({}),s=n=>{Object.assign(C,n)},w=n=>{Object.assign(c,n)};return(n,l)=>{const V=o("PageHeaderAction"),u=o("PageHeader"),R=o("ParentTransition"),S=o("TextMuted"),j=o("DataCell"),B=o("FloatingMenuItem"),q=o("FloatingMenu"),P=o("DataRow"),h=o("BaseButton"),T=o("DataTable"),M=o("ListItem");return f(),y(M,{"init-url":r,"pre-requisites":!0,onSetPreRequisites:s,onSetItems:w},{header:e(()=>[t(u,{title:n.$trans("inventory.stock_adjustment.stock_adjustment"),navs:[{label:n.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(V,{url:"inventory/stock-adjustments/",name:"InventoryStockAdjustment",title:n.$trans("inventory.stock_adjustment.stock_adjustment"),actions:i(b),"dropdown-actions":i($),"config-path":"InventoryConfig",onToggleFilter:l[0]||(l[0]=a=>v.value=!v.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(R,{appear:"",visibility:v.value},{default:e(()=>[t(Y,{onRefresh:l[1]||(l[1]=a=>i(g).emit("listItems")),"pre-requisites":C,onHide:l[2]||(l[2]=a=>v.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(R,{appear:"",visibility:!0},{default:e(()=>[t(T,{header:c.headers,meta:c.meta,module:"inventory.stock_adjustment",onRefresh:l[4]||(l[4]=a=>i(g).emit("listItems"))},{actionButton:e(()=>[i(_)("stock-adjustment:create")?(f(),y(h,{key:0,onClick:l[3]||(l[3]=a=>i(k).push({name:"InventoryStockAdjustmentCreate"}))},{default:e(()=>[d(m(n.$trans("global.add",{attribute:n.$trans("inventory.stock_adjustment.stock_adjustment")})),1)]),_:1})):F("",!0)]),default:e(()=>[(f(!0),A(E,null,O(c.data,a=>(f(),y(P,{key:a.uuid},{default:e(()=>[t(j,{name:"codeNumber"},{default:e(()=>[d(m(a.codeNumber)+" ",1),t(S,{block:""},{default:e(()=>{var p;return[d(m((p=a.inventory)==null?void 0:p.name),1)]}),_:2},1024)]),_:2},1024),t(j,{name:"date"},{default:e(()=>[d(m(a.date.formatted),1)]),_:2},1024),t(j,{name:"place"},{default:e(()=>{var p;return[d(m(((p=a.place)==null?void 0:p.fullName)||"-"),1)]}),_:2},1024),t(j,{name:"createdAt"},{default:e(()=>[d(m(a.createdAt.formatted),1)]),_:2},1024),t(j,{name:"action"},{default:e(()=>[t(q,null,{default:e(()=>[t(B,{icon:"fas fa-arrow-circle-right",onClick:p=>i(k).push({name:"InventoryStockAdjustmentShow",params:{uuid:a.uuid}})},{default:e(()=>[d(m(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),i(_)("stock-adjustment:edit")?(f(),y(B,{key:0,icon:"fas fa-edit",onClick:p=>i(k).push({name:"InventoryStockAdjustmentEdit",params:{uuid:a.uuid}})},{default:e(()=>[d(m(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):F("",!0),i(_)("stock-adjustment:create")?(f(),y(B,{key:1,icon:"fas fa-copy",onClick:p=>i(k).push({name:"InventoryStockAdjustmentDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[d(m(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):F("",!0),i(_)("stock-adjustment:delete")?(f(),y(B,{key:2,icon:"fas fa-trash",onClick:p=>i(g).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[d(m(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):F("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ee as default};
