import{f as q,m as I,n as N,r as o,o as f,q as v,w as e,d as A,e as t,l as O,u as d,s as i,t as l,a as U,v as E,b as V,F as z,h as G,j as J}from"./app-DCfJDSeM.js";const K={class:"grid grid-cols-3 gap-6"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(h,{emit:c}){q();const _=c,b={name:""},m=I({...b}),B=I({isLoaded:!0});return N(async()=>{B.isLoaded=!0}),(g,r)=>{const u=o("BaseInput"),F=o("BaseSelect"),w=o("FilterForm");return f(),v(w,{"init-form":b,form:m,multiple:[],onHide:r[2]||(r[2]=p=>_("hide"))},{default:e(()=>[A("div",K,[A("div",Q,[t(u,{type:"text",modelValue:m.name,"onUpdate:modelValue":r[0]||(r[0]=p=>m.name=p),name:"name",label:g.$trans("academic.id_card.template.props.name")},null,8,["modelValue","label"])]),A("div",W,[t(F,{modelValue:m.for,"onUpdate:modelValue":r[1]||(r[1]=p=>m.for=p),name:"for",label:g.$trans("academic.id_card.template.props.for"),options:h.preRequisites.for},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},Y={name:"AcademicIdCardTemplateList"},x=Object.assign(Y,{setup(h){q();const c=G(),_=J("emitter");let b=["create","filter"],m=["print","pdf","excel"];const B="academic/idCardTemplate/",g=I({for:[]}),r=O(!1),u=I({}),F=a=>{Object.assign(u,a)},w=a=>{Object.assign(g,a)},p=a=>{window.open(`/app/academic/id-card-templates/${a.uuid}/export?action=print`)};return(a,s)=>{const y=o("BaseButton"),D=o("PageHeaderAction"),P=o("PageHeader"),R=o("ParentTransition"),k=o("DataCell"),T=o("BaseBadge"),M=o("TextMuted"),$=o("FloatingMenuItem"),j=o("FloatingMenu"),H=o("DataRow"),L=o("DataTable"),S=o("ListItem");return f(),v(S,{"init-url":B,"pre-requisites":!0,onSetPreRequisites:w,onSetItems:F},{header:e(()=>[t(P,{title:a.$trans("academic.id_card.template.template"),navs:[{label:a.$trans("academic.academic"),path:"Academic"}]},{default:e(()=>[t(D,{url:"academic/id-card-templates/",name:"AcademicIdCardTemplate",title:a.$trans("academic.id_card.template.template"),actions:d(b),"dropdown-actions":d(m),onToggleFilter:s[1]||(s[1]=n=>r.value=!r.value)},{default:e(()=>[t(y,{design:"white",onClick:s[0]||(s[0]=n=>d(c).push({name:"AcademicIdCard"}))},{default:e(()=>[i(l(a.$trans("academic.id_card.id_card")),1)]),_:1})]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(R,{appear:"",visibility:r.value},{default:e(()=>[t(X,{onRefresh:s[2]||(s[2]=n=>d(_).emit("listItems")),"pre-requisites":g,onHide:s[3]||(s[3]=n=>r.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(R,{appear:"",visibility:!0},{default:e(()=>[t(L,{header:u.headers,meta:u.meta,module:"academic.id_card.template",onRefresh:s[5]||(s[5]=n=>d(_).emit("listItems"))},{actionButton:e(()=>[t(y,{onClick:s[4]||(s[4]=n=>d(c).push({name:"AcademicIdCardTemplateCreate"}))},{default:e(()=>[i(l(a.$trans("global.add",{attribute:a.$trans("academic.id_card.template.template")})),1)]),_:1})]),default:e(()=>[(f(!0),U(z,null,E(u.data,n=>(f(),v(H,{key:n.uuid},{default:e(()=>[t(k,{name:"name"},{default:e(()=>[i(l(n.name),1)]),_:2},1024),t(k,{name:"for"},{default:e(()=>[i(l(n.for.label)+" ",1),n.hasCustomTemplateFile?(f(),v(T,{key:0,design:"info"},{default:e(()=>[i(l(a.$trans("academic.id_card.template.props.custom_template_file")),1)]),_:1})):V("",!0),n.hasCustomTemplateFile?(f(),v(M,{key:1,block:""},{default:e(()=>[i(l(n.customTemplateFileName),1)]),_:2},1024)):V("",!0)]),_:2},1024),t(k,{name:"createdAt"},{default:e(()=>[i(l(n.createdAt.formatted),1)]),_:2},1024),t(k,{name:"action"},{default:e(()=>[t(j,null,{default:e(()=>[t($,{icon:"fas fa-arrow-circle-right",onClick:C=>d(c).push({name:"AcademicIdCardTemplateShow",params:{uuid:n.uuid}})},{default:e(()=>[i(l(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),t($,{icon:"fas fa-print",onClick:C=>p(n)},{default:e(()=>[i(l(a.$trans("general.print")),1)]),_:2},1032,["onClick"]),t($,{icon:"fas fa-edit",onClick:C=>d(c).push({name:"AcademicIdCardTemplateEdit",params:{uuid:n.uuid}})},{default:e(()=>[i(l(a.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t($,{icon:"fas fa-copy",onClick:C=>d(c).push({name:"AcademicIdCardTemplateDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[i(l(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t($,{icon:"fas fa-trash",onClick:C=>d(_).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[i(l(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{x as default};
