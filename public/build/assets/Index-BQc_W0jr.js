import{m as D,r as u,o as m,q as $,w as e,d as B,e as t,y as F,l as L,u as s,b as y,s as i,t as d,a as I,v as M,F as w,f as N,h as O,j as U}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(l,{emit:k}){const f=k,c={name:""},p=D({...c});return(b,r)=>{const _=u("BaseInput"),h=u("FilterForm");return m(),$(h,{"init-form":c,form:p,onHide:r[1]||(r[1]=a=>f("hide"))},{default:e(()=>[B("div",E,[B("div",q,[t(_,{type:"text",modelValue:p.name,"onUpdate:modelValue":r[0]||(r[0]=a=>p.name=a),name:"name",label:b.$trans("finance.fee_head.props.name")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},G={name:"StudentCustomFeeList"},K=Object.assign(G,{props:{student:{type:Object,default(){return{}}}},setup(l){const k=N(),f=O(),c=U("emitter");let p=["filter"];F("fee:edit")&&p.unshift("create");const b="student/customFee/",r=L(!1),_=D({}),h=a=>{Object.assign(_,a)};return(a,o)=>{const H=u("PageHeaderAction"),V=u("PageHeader"),S=u("ParentTransition"),v=u("DataCell"),C=u("FloatingMenuItem"),P=u("FloatingMenu"),R=u("DataRow"),T=u("BaseButton"),j=u("DataTable"),A=u("ListItem");return m(),$(A,{"init-url":b,uuid:s(k).params.uuid,onSetItems:h},{header:e(()=>[l.student.uuid?(m(),$(V,{key:0,title:a.$trans("student.fee.custom_fee"),navs:[{label:a.$trans("student.student"),path:"Student"},{label:l.student.contact.name,path:{name:"StudentShow",params:{uuid:l.student.uuid}}}]},{default:e(()=>[t(H,{url:`students/${l.student.uuid}/custom-fees/`,name:"StudentCustomFee",title:a.$trans("student.fee.custom_fee"),actions:s(p),"dropdown-actions":["print","pdf","excel"],onToggleFilter:o[0]||(o[0]=n=>r.value=!r.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):y("",!0)]),filter:e(()=>[t(S,{appear:"",visibility:r.value},{default:e(()=>[t(z,{onRefresh:o[1]||(o[1]=n=>s(c).emit("listItems")),onHide:o[2]||(o[2]=n=>r.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(S,{appear:"",visibility:!0},{default:e(()=>[t(j,{header:_.headers,meta:_.meta,module:"student.custom_fee",onRefresh:o[4]||(o[4]=n=>s(c).emit("listItems"))},{actionButton:e(()=>[s(F)("fee:edit")?(m(),$(T,{key:0,onClick:o[3]||(o[3]=n=>s(f).push({name:"StudentCustomFeeCreate"}))},{default:e(()=>[i(d(a.$trans("global.add",{attribute:a.$trans("student.fee.custom_fee")})),1)]),_:1})):y("",!0)]),default:e(()=>[(m(!0),I(w,null,M(_.data,n=>(m(),$(R,{key:n.uuid},{default:e(()=>[t(v,{name:"feeHead"},{default:e(()=>{var g;return[i(d(((g=n.head)==null?void 0:g.name)||"-"),1)]}),_:2},1024),t(v,{name:"amount"},{default:e(()=>[i(d(n.amount.formatted),1)]),_:2},1024),t(v,{name:"paid"},{default:e(()=>[i(d(n.paid.formatted),1)]),_:2},1024),t(v,{name:"dueDate"},{default:e(()=>[i(d(n.dueDate.formatted),1)]),_:2},1024),t(v,{name:"createdAt"},{default:e(()=>[i(d(n.createdAt.formatted),1)]),_:2},1024),t(v,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(C,{icon:"fas fa-arrow-circle-right",onClick:g=>s(f).push({name:"StudentCustomFeeShow",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:e(()=>[i(d(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),s(F)("fee:edit")?(m(),I(w,{key:0},[t(C,{icon:"fas fa-edit",onClick:g=>s(f).push({name:"StudentCustomFeeEdit",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:e(()=>[i(d(a.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(C,{icon:"fas fa-copy",onClick:g=>s(f).push({name:"StudentCustomFeeDuplicate",params:{uuid:l.student.uuid,muuid:n.uuid}})},{default:e(()=>[i(d(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(C,{icon:"fas fa-trash",onClick:g=>s(c).emit("deleteItem",{uuid:l.student.uuid,moduleUuid:n.uuid})},{default:e(()=>[i(d(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):y("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{K as default};
