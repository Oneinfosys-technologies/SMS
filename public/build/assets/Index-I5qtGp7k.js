import{m as I,r as s,o as p,q as $,w as e,d as k,e as t,y as h,l as j,u as o,b as V,s as l,t as i,a as A,v as U,F as B,f as L,h as M,j as O}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(m,{emit:C}){const b=C,v={name:"",alias:"",number:""},d=I({...v});return(_,u)=>{const c=s("BaseInput"),y=s("FilterForm");return p(),$(y,{"init-form":v,form:d,onHide:u[3]||(u[3]=n=>b("hide"))},{default:e(()=>[k("div",E,[k("div",q,[t(c,{type:"text",modelValue:d.name,"onUpdate:modelValue":u[0]||(u[0]=n=>d.name=n),name:"name",label:_.$trans("finance.account.props.name")},null,8,["modelValue","label"])]),k("div",z,[t(c,{type:"text",modelValue:d.alias,"onUpdate:modelValue":u[1]||(u[1]=n=>d.alias=n),name:"alias",label:_.$trans("finance.account.props.alias")},null,8,["modelValue","label"])]),k("div",G,[t(c,{type:"text",modelValue:d.number,"onUpdate:modelValue":u[2]||(u[2]=n=>d.number=n),name:"number",label:_.$trans("finance.account.props.number")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"StudentAccountList"},W=Object.assign(K,{props:{student:{type:Object,default(){return{}}}},setup(m){const C=L(),b=M(),v=O("emitter");let d=["filter"];h("student:edit")&&d.unshift("create");const _="student/account/",u=j(!1),c=I({}),y=n=>{Object.assign(c,n)};return(n,r)=>{const w=s("PageHeaderAction"),D=s("PageHeader"),S=s("ParentTransition"),f=s("DataCell"),g=s("FloatingMenuItem"),N=s("FloatingMenu"),H=s("DataRow"),P=s("BaseButton"),R=s("DataTable"),T=s("ListItem");return p(),$(T,{"init-url":_,uuid:o(C).params.uuid,onSetItems:y},{header:e(()=>[m.student.uuid?(p(),$(D,{key:0,title:n.$trans("finance.account.account"),navs:[{label:n.$trans("student.student"),path:"Student"},{label:m.student.contact.name,path:{name:"StudentShow",params:{uuid:m.student.uuid}}}]},{default:e(()=>[t(w,{url:`students/${m.student.uuid}/accounts/`,name:"StudentAccount",title:n.$trans("finance.account.account"),actions:o(d),"dropdown-actions":["print","pdf","excel"],onToggleFilter:r[0]||(r[0]=a=>u.value=!u.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):V("",!0)]),filter:e(()=>[t(S,{appear:"",visibility:u.value},{default:e(()=>[t(J,{onRefresh:r[1]||(r[1]=a=>o(v).emit("listItems")),onHide:r[2]||(r[2]=a=>u.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(S,{appear:"",visibility:!0},{default:e(()=>[t(R,{header:c.headers,meta:c.meta,module:"student.account",onRefresh:r[4]||(r[4]=a=>o(v).emit("listItems"))},{actionButton:e(()=>[o(h)("student:edit")?(p(),$(P,{key:0,onClick:r[3]||(r[3]=a=>o(b).push({name:"StudentAccountCreate"}))},{default:e(()=>[l(i(n.$trans("global.add",{attribute:n.$trans("finance.account.account")})),1)]),_:1})):V("",!0)]),default:e(()=>[(p(!0),A(B,null,U(c.data,a=>(p(),$(H,{key:a.uuid},{default:e(()=>[t(f,{name:"name"},{default:e(()=>[l(i(a.name),1)]),_:2},1024),t(f,{name:"alias"},{default:e(()=>[l(i(a.alias),1)]),_:2},1024),t(f,{name:"number"},{default:e(()=>[l(i(a.number),1)]),_:2},1024),t(f,{name:"bankName"},{default:e(()=>[l(i(a.bankName),1)]),_:2},1024),t(f,{name:"branchName"},{default:e(()=>[l(i(a.branchName),1)]),_:2},1024),t(f,{name:"createdAt"},{default:e(()=>[l(i(a.createdAt.formatted),1)]),_:2},1024),t(f,{name:"action"},{default:e(()=>[t(N,null,{default:e(()=>[t(g,{icon:"fas fa-arrow-circle-right",onClick:F=>o(b).push({name:"StudentAccountShow",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(h)("student:edit")?(p(),A(B,{key:0},[t(g,{icon:"fas fa-edit",onClick:F=>o(b).push({name:"StudentAccountEdit",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(n.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-copy",onClick:F=>o(b).push({name:"StudentAccountDuplicate",params:{uuid:m.student.uuid,muuid:a.uuid}})},{default:e(()=>[l(i(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(g,{icon:"fas fa-trash",onClick:F=>o(v).emit("deleteItem",{uuid:m.student.uuid,moduleUuid:a.uuid})},{default:e(()=>[l(i(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):V("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{W as default};
