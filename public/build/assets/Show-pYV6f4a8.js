import{m as V,a as m,e as s,w as a,u as f,F as g,r as i,o,q as p,s as l,t as n,b as c,y as N,d,v as T,i as A,f as I,h as L}from"./app-DCfJDSeM.js";const z={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},E={class:"flex"},O={class:"font-bold"},q={class:"ml-2"},U={class:"flex"},G={class:"font-bold"},J={class:"ml-2"},K={key:0},Q=["innerHTML"],W={name:"FinanceTransactionShow"},Z=Object.assign(W,{setup(X){A();const h=I(),$=L(),v={},j="finance/transaction/",e=V({...v}),w=t=>{Object.assign(e,t)};return(t,b)=>{const C=i("PageHeaderAction"),F=i("PageHeader"),y=i("BaseBadge"),k=i("TextMuted"),r=i("BaseDataView"),P=i("PaymentMethodDetail"),R=i("BaseButton"),S=i("ShowButton"),D=i("BaseCard"),H=i("ShowItem"),M=i("ParentTransition");return o(),m(g,null,[s(F,{title:t.$trans(f(h).meta.trans,{attribute:t.$trans(f(h).meta.label)}),navs:[{label:t.$trans("finance.finance"),path:"Finance"},{label:t.$trans("finance.transaction.transaction"),path:"FinanceTransactionList"}]},{default:a(()=>[s(C,{name:"FinanceTransaction",title:t.$trans("finance.transaction.transaction"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),s(M,{appear:"",visibility:!0},{default:a(()=>[s(H,{"init-url":j,uuid:f(h).params.uuid,onSetItem:w,onRedirectTo:b[1]||(b[1]=u=>f($).push({name:"FinanceTransaction"}))},{default:a(()=>[e.uuid?(o(),p(D,{key:0},{title:a(()=>[l(n(e.codeNumber)+" ("+n(e.type.label)+") ",1),e.isRejected?(o(),p(y,{key:0,design:"warning",size:"sm"},{default:a(()=>[l(n(t.$trans("general.rejected")),1)]),_:1})):c("",!0),e.isCancelled?(o(),p(y,{key:1,design:"danger",size:"sm"},{default:a(()=>[l(n(t.$trans("general.cancelled")),1)]),_:1})):c("",!0),e.isOnline&&!e.isCompleted?(o(),p(y,{key:2,design:"danger",size:"sm"},{default:a(()=>[l(n(t.$trans("general.failed")),1)]),_:1})):c("",!0)]),footer:a(()=>[s(S,null,{default:a(()=>[f(N)("transaction:edit")&&e.isEditable?(o(),p(R,{key:0,design:"primary",onClick:b[0]||(b[0]=u=>f($).push({name:"FinanceTransactionEdit",params:{uuid:e.uuid}}))},{default:a(()=>[l(n(t.$trans("general.edit")),1)]),_:1})):c("",!0)]),_:1})]),default:a(()=>[d("dl",z,[s(r,{label:t.$trans("finance.transaction.props.date")},{default:a(()=>[l(n(e.date.formatted)+" ",1),e.head?(o(),p(k,{key:0,block:""},{default:a(()=>[l(n(e.head),1)]),_:1})):c("",!0)]),_:1},8,["label"]),s(r,{label:t.$trans("finance.transaction.props.amount")},{default:a(()=>[l(n(e.amount.formatted),1)]),_:1},8,["label"]),s(r,{label:t.$trans("finance.ledger.ledger")},{default:a(()=>[(o(!0),m(g,null,T(e.payments,u=>{var _;return o(),m("div",null,[d("div",E,[d("span",O,n((_=u.ledger)==null?void 0:_.name),1),d("span",q,n(u.amount.formatted),1)])])}),256))]),_:1},8,["label"]),s(r,{label:t.$trans("finance.payment_method.payment_method")},{default:a(()=>[s(P,{payments:e.payments},null,8,["payments"])]),_:1},8,["label"]),s(r,{class:"col-span-1 sm:col-span-2",label:t.$trans("finance.ledger.secondary_ledger")},{default:a(()=>{var u;return[(o(!0),m(g,null,T(e.records,_=>{var B;return o(),m("div",null,[d("div",U,[d("span",G,n((B=_.ledger)==null?void 0:B.name),1),d("span",J,n(_.amount.formatted),1)])])}),256)),(u=e.transactionable)!=null&&u.name?(o(),m("span",K,[l(n(e.transactionable.name)+" ",1),s(k,{block:""},{default:a(()=>[l(n(e.transactionable.contact),1)]),_:1})])):c("",!0)]}),_:1},8,["label"]),s(r,{class:"col-span-1 sm:col-span-3",label:t.$trans("finance.transaction.props.remarks")},{default:a(()=>[d("div",{innerHTML:e.remarks},null,8,Q)]),_:1},8,["label"]),e.isRejected?(o(),m(g,{key:0},[s(r,{label:t.$trans("finance.transaction.props.rejected_date")},{default:a(()=>[l(n(e.rejectedDate.formatted),1)]),_:1},8,["label"]),s(r,{label:t.$trans("finance.transaction.props.rejection_charge")},{default:a(()=>[l(n(e.rejectionCharge.formatted),1)]),_:1},8,["label"]),s(r,{label:t.$trans("finance.transaction.props.rejection_remarks"),class:"col-span-1 sm:col-span-3"},{default:a(()=>[l(n(e.rejectionRemarks),1)]),_:1},8,["label"])],64)):c("",!0),e.cancellationRemarks?(o(),p(r,{key:1,label:t.$trans("finance.transaction.props.cancellation_remarks"),class:"col-span-1 sm:col-span-3"},{default:a(()=>[l(n(e.cancellationRemarks),1)]),_:1},8,["label"])):c("",!0),s(r,{label:t.$trans("general.created_at")},{default:a(()=>[l(n(e.createdAt.formatted),1)]),_:1},8,["label"]),s(r,{label:t.$trans("general.updated_at")},{default:a(()=>[l(n(e.updatedAt.formatted),1)]),_:1},8,["label"])])]),_:1})):c("",!0)]),_:1},8,["uuid"])]),_:1})],64)}}});export{Z as default};
