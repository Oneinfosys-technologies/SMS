import{f as N,m as v,n as S,r as o,o as y,q as b,w as e,d as w,s as i,t as s,b as V,e as t,l as j,u as f,a as q,v as A,F as H,h as P,j as O}from"./app-DCfJDSeM.js";const U={class:"grid grid-cols-3 gap-6"},R={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},z={__name:"Filter",emits:["hide"],setup(B,{emit:D}){const c=N(),F=D,g={employees:[],startDate:"",endDate:""},m=v({...g});v({});const d=v({employees:[],isLoaded:!c.query.employees});return S(async()=>{d.employees=c.query.employees?c.query.employees.split(","):[],d.isLoaded=!0}),(u,l)=>{const p=o("BaseSelectSearch"),r=o("DatePicker"),$=o("FilterForm");return y(),b($,{"init-form":g,form:m,multiple:["employees"],onHide:l[3]||(l[3]=a=>F("hide"))},{default:e(()=>[w("div",U,[w("div",R,[d.isLoaded?(y(),b(p,{key:0,multiple:"",name:"employees",label:u.$trans("global.select",{attribute:u.$trans("employee.employee")}),modelValue:m.employees,"onUpdate:modelValue":l[0]||(l[0]=a=>m.employees=a),"value-prop":"uuid","init-search":d.employees,"search-key":"name","search-action":"employee/summary"},{selectedOption:e(a=>[i(s(a.value.name)+" ("+s(a.value.codeNumber)+") ",1)]),listOption:e(a=>[i(s(a.option.name)+" ("+s(a.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):V("",!0)]),w("div",x,[t(r,{start:m.startDate,"onUpdate:start":l[1]||(l[1]=a=>m.startDate=a),end:m.endDate,"onUpdate:end":l[2]||(l[2]=a=>m.endDate=a),name:"dateBetween",as:"range",label:u.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},G={name:"EmployeeEditRequestList"},Q=Object.assign(G,{setup(B){const D=P(),c=O("emitter");let F=["create","filter"],g=["print","pdf","excel"];const m="employee/editRequest/",d=j(!1),u=v({}),l=p=>{Object.assign(u,p)};return(p,r)=>{const $=o("PageHeaderAction"),a=o("PageHeader"),h=o("ParentTransition"),_=o("DataCell"),k=o("TextMuted"),E=o("BaseBadge"),I=o("FloatingMenuItem"),T=o("FloatingMenu"),C=o("DataRow"),L=o("DataTable"),M=o("ListItem");return y(),b(M,{"init-url":m,onSetItems:l},{header:e(()=>[t(a,{title:p.$trans("employee.edit_request.edit_request"),navs:[{label:p.$trans("employee.employee"),path:"Employee"}]},{default:e(()=>[t($,{url:"employee/edit-requests/",name:"EmployeeEditRequest",title:p.$trans("employee.edit_request.edit_request"),actions:f(F),"dropdown-actions":f(g),onToggleFilter:r[0]||(r[0]=n=>d.value=!d.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(h,{appear:"",visibility:d.value},{default:e(()=>[t(z,{onRefresh:r[1]||(r[1]=n=>f(c).emit("listItems")),onHide:r[2]||(r[2]=n=>d.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(h,{appear:"",visibility:!0},{default:e(()=>[t(L,{header:u.headers,meta:u.meta,module:"employee.edit_request",onRefresh:r[3]||(r[3]=n=>f(c).emit("listItems"))},{default:e(()=>[(y(!0),q(H,null,A(u.data,n=>(y(),b(C,{key:n.uuid},{default:e(()=>[t(_,{name:"name"},{default:e(()=>[i(s(n.employee.name),1)]),_:2},1024),t(_,{name:"joiningDate"},{default:e(()=>[i(s(n.employee.joiningDate.formatted)+" ",1),t(k,{block:""},{default:e(()=>[i(s(n.employee.codeNumber),1)]),_:2},1024)]),_:2},1024),t(_,{name:"designation"},{default:e(()=>[i(s(n.employee.designation)+" ",1),t(k,{block:""},{default:e(()=>[i(s(n.employee.department),1)]),_:2},1024)]),_:2},1024),t(_,{name:"status"},{default:e(()=>[t(E,{design:n.status.color},{default:e(()=>[i(s(n.status.label),1)]),_:2},1032,["design"])]),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[i(s(n.createdAt.formatted),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(T,null,{default:e(()=>[t(I,{icon:"fas fa-arrow-circle-right",onClick:J=>f(D).push({name:"EmployeeEditRequestShow",params:{uuid:n.uuid}})},{default:e(()=>[i(s(p.$trans("general.show")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Q as default};
