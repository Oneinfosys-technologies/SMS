import{f as U,m as C,n as j,r as l,o as m,q as f,w as e,d as V,e as t,y as g,l as q,u as o,s,t as i,b,a as O,v as S,F as E,h as R,j as z}from"./app-DCfJDSeM.js";import{_ as G}from"./ModuleDropdown-CAwsQhjt.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={__name:"Filter",emits:["hide"],setup(B,{emit:p}){U();const h=p,$={startDate:"",endDate:""},u=C({...$}),D=C({isLoaded:!0});return j(async()=>{D.isLoaded=!0}),(_,d)=>{const T=l("DatePicker"),r=l("FilterForm");return m(),f(r,{"init-form":$,form:u,multiple:[],onHide:d[2]||(d[2]=n=>h("hide"))},{default:e(()=>[V("div",J,[V("div",K,[t(T,{start:u.startDate,"onUpdate:start":d[0]||(d[0]=n=>u.startDate=n),end:u.endDate,"onUpdate:end":d[1]||(d[1]=n=>u.endDate=n),name:"dateBetween",as:"range",label:_.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},W={name:"TransportVehicleFuelRecordList"},Z=Object.assign(W,{setup(B){const p=R(),h=z("emitter");let $=["filter"];g("vehicle-fuel-record:create")&&$.unshift("create");let u=[];g("vehicle-fuel-record:export")&&(u=["print","pdf","excel"]);const D="transport/vehicle/fuelRecord/",_=q(!1),d=C({}),T=r=>{Object.assign(d,r)};return(r,n)=>{const P=l("PageHeaderAction"),F=l("PageHeader"),y=l("ParentTransition"),I=l("TextMuted"),c=l("DataCell"),k=l("FloatingMenuItem"),M=l("FloatingMenu"),A=l("DataRow"),H=l("BaseButton"),L=l("DataTable"),N=l("ListItem");return m(),f(N,{"init-url":D,onSetItems:T},{header:e(()=>[t(F,{title:r.$trans("transport.vehicle.fuel_record.fuel_record"),navs:[{label:r.$trans("transport.transport"),path:"Transport"},{label:r.$trans("transport.vehicle.vehicle"),path:"TransportVehicle"}]},{default:e(()=>[t(P,{url:"transport/vehicle/fuel-records/",name:"TransportVehicleFuelRecord",title:r.$trans("transport.vehicle.fuel_record.fuel_record"),actions:o($),"dropdown-actions":o(u),onToggleFilter:n[0]||(n[0]=a=>_.value=!_.value)},{moduleOption:e(()=>[t(G)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(y,{appear:"",visibility:_.value},{default:e(()=>[t(Q,{onRefresh:n[1]||(n[1]=a=>o(h).emit("listItems")),onHide:n[2]||(n[2]=a=>_.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(y,{appear:"",visibility:!0},{default:e(()=>[t(L,{header:d.headers,meta:d.meta,module:"transport.vehicle.fuel_record",onRefresh:n[4]||(n[4]=a=>o(h).emit("listItems"))},{actionButton:e(()=>[o(g)("vehicle-fuel-record:create")?(m(),f(H,{key:0,onClick:n[3]||(n[3]=a=>o(p).push({name:"TransportVehicleFuelRecordCreate"}))},{default:e(()=>[s(i(r.$trans("global.add",{attribute:r.$trans("transport.vehicle.fuel_record.fuel_record")})),1)]),_:1})):b("",!0)]),default:e(()=>[(m(!0),O(E,null,S(d.data,a=>(m(),f(A,{key:a.uuid},{default:e(()=>[t(c,{name:"vehicle"},{default:e(()=>{var v;return[s(i((v=a.vehicle)==null?void 0:v.name)+" ",1),t(I,{block:""},{default:e(()=>{var w;return[s(i((w=a.vehicle)==null?void 0:w.registrationNumber),1)]}),_:2},1024)]}),_:2},1024),t(c,{name:"date"},{default:e(()=>[s(i(a.date.formatted),1)]),_:2},1024),t(c,{name:"quantity"},{default:e(()=>[s(i(a.quantity),1)]),_:2},1024),t(c,{name:"pricePerUnit"},{default:e(()=>[s(i(a.pricePerUnit.formatted),1)]),_:2},1024),t(c,{name:"cost"},{default:e(()=>[s(i(a.cost.formatted),1)]),_:2},1024),t(c,{name:"log"},{default:e(()=>[s(i(a.log),1)]),_:2},1024),t(c,{name:"createdAt"},{default:e(()=>[s(i(a.createdAt.formatted),1)]),_:2},1024),t(c,{name:"action"},{default:e(()=>[t(M,null,{default:e(()=>[t(k,{icon:"fas fa-arrow-circle-right",onClick:v=>o(p).push({name:"TransportVehicleFuelRecordShow",params:{uuid:a.uuid}})},{default:e(()=>[s(i(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(g)("vehicle-fuel-record:edit")?(m(),f(k,{key:0,icon:"fas fa-edit",onClick:v=>o(p).push({name:"TransportVehicleFuelRecordEdit",params:{uuid:a.uuid}})},{default:e(()=>[s(i(r.$trans("general.edit")),1)]),_:2},1032,["onClick"])):b("",!0),o(g)("vehicle-fuel-record:create")?(m(),f(k,{key:1,icon:"fas fa-copy",onClick:v=>o(p).push({name:"TransportVehicleFuelRecordDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[s(i(r.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):b("",!0),o(g)("vehicle-fuel-record:delete")?(m(),f(k,{key:2,icon:"fas fa-trash",onClick:v=>o(h).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[s(i(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
