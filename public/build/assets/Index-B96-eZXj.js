import{f as A,m as F,n as P,r as n,o as p,q as _,w as e,d as C,s as c,t as s,b as v,e as a,y as k,l as R,u as r,a as j,v as q,F as O,h as U,j as E}from"./app-DCfJDSeM.js";const z={class:"grid grid-cols-3 gap-6"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(H,{emit:g}){const h=A(),$=g,y={employees:[],startDate:"",endDate:""},d=F({...y}),m=F({employees:[],isLoaded:!h.query.employees});return P(async()=>{m.employees=h.query.employees?h.query.employees.split(","):[],m.isLoaded=!0}),(f,u)=>{const l=n("BaseSelectSearch"),i=n("DatePicker"),D=n("FilterForm");return p(),_(D,{"init-form":y,form:d,multiple:["employees"],onHide:u[3]||(u[3]=o=>$("hide"))},{default:e(()=>[C("div",z,[C("div",G,[m.isLoaded?(p(),_(l,{key:0,multiple:"",name:"employees",label:f.$trans("global.select",{attribute:f.$trans("employee.employee")}),modelValue:d.employees,"onUpdate:modelValue":u[0]||(u[0]=o=>d.employees=o),"value-prop":"uuid","init-search":m.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:e(o=>[c(s(o.value.name)+" ("+s(o.value.codeNumber)+") ",1)]),listOption:e(o=>[c(s(o.option.name)+" ("+s(o.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):v("",!0)]),C("div",J,[a(i,{start:d.startDate,"onUpdate:start":u[1]||(u[1]=o=>d.startDate=o),end:d.endDate,"onUpdate:end":u[2]||(u[2]=o=>d.endDate=o),name:"dateBetween",as:"range",label:f.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},Q={name:"HostelBlockInchargeList"},X=Object.assign(Q,{setup(H){const g=U(),h=E("emitter");let $=["filter"];k("hostel-incharge:create")&&$.unshift("create");let y=[];k("hostel-incharge:export")&&(y=["print","pdf","excel"]);const d="hostel/blockIncharge/",m=R(!1),f=F({}),u=l=>{Object.assign(f,l)};return(l,i)=>{const D=n("PageHeaderAction"),o=n("PageHeader"),w=n("ParentTransition"),b=n("DataCell"),T=n("TextMuted"),B=n("FloatingMenuItem"),L=n("FloatingMenu"),M=n("DataRow"),N=n("BaseButton"),S=n("DataTable"),V=n("ListItem");return p(),_(V,{"init-url":d,onSetItems:u},{header:e(()=>[a(o,{title:l.$trans("hostel.block_incharge.block_incharge"),navs:[{label:l.$trans("hostel.hostel"),path:"Hostel"}]},{default:e(()=>[a(D,{url:"hostel/block-incharges/",name:"HostelBlockIncharge",title:l.$trans("hostel.block_incharge.block_incharge"),actions:r($),"dropdown-actions":r(y),onToggleFilter:i[0]||(i[0]=t=>m.value=!m.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(w,{appear:"",visibility:m.value},{default:e(()=>[a(K,{onRefresh:i[1]||(i[1]=t=>r(h).emit("listItems")),onHide:i[2]||(i[2]=t=>m.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(w,{appear:"",visibility:!0},{default:e(()=>[a(S,{header:f.headers,meta:f.meta,module:"hostel.block_incharge",onRefresh:i[4]||(i[4]=t=>r(h).emit("listItems"))},{actionButton:e(()=>[r(k)("hostel-incharge:create")?(p(),_(N,{key:0,onClick:i[3]||(i[3]=t=>r(g).push({name:"HostelBlockInchargeCreate"}))},{default:e(()=>[c(s(l.$trans("global.add",{attribute:l.$trans("hostel.block_incharge.block_incharge")})),1)]),_:1})):v("",!0)]),default:e(()=>[(p(!0),j(O,null,q(f.data,t=>(p(),_(M,{key:t.uuid},{default:e(()=>[a(b,{name:"block"},{default:e(()=>[c(s(t.block.name),1)]),_:2},1024),a(b,{name:"employee"},{default:e(()=>[c(s(t.employee.name)+" ",1),a(T,{block:""},{default:e(()=>[c(s(t.employee.codeNumber),1)]),_:2},1024)]),_:2},1024),a(b,{name:"period"},{default:e(()=>[c(s(t.period),1)]),_:2},1024),a(b,{name:"createdAt"},{default:e(()=>[c(s(t.createdAt.formatted),1)]),_:2},1024),a(b,{name:"action"},{default:e(()=>[a(L,null,{default:e(()=>[a(B,{icon:"fas fa-arrow-circle-right",onClick:I=>r(g).push({name:"HostelBlockInchargeShow",params:{uuid:t.uuid}})},{default:e(()=>[c(s(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),r(k)("hostel-incharge:edit")?(p(),_(B,{key:0,icon:"fas fa-edit",onClick:I=>r(g).push({name:"HostelBlockInchargeEdit",params:{uuid:t.uuid}})},{default:e(()=>[c(s(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):v("",!0),r(k)("hostel-incharge:create")?(p(),_(B,{key:1,icon:"fas fa-copy",onClick:I=>r(g).push({name:"HostelBlockInchargeDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[c(s(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):v("",!0),r(k)("hostel-incharge:delete")?(p(),_(B,{key:2,icon:"fas fa-trash",onClick:I=>r(h).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[c(s(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):v("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{X as default};
