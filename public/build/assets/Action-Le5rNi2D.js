import{f as A,E as k,G as I,m as U,r as i,o as v,q as M,w as c,d as r,e as l,u as o,C as R,a as f,s as g,t as m,F as B,b as w,I as L}from"./app-DCfJDSeM.js";const P={class:"grid grid-cols-3 gap-6"},G={class:"col-span-3 sm:col-span-1"},z={key:0,class:"col-span-3 sm:col-span-1"},J={key:1,class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-2"},x={class:"col-span-3"},h={class:"grid grid-cols-1"},ee={class:"col"},te={name:"ReceptionComplaintForm"},ne=Object.assign(te,{setup(_){const b=A(),d={codeNumber:"",student:"",type:"",subject:"",date:"",complainantName:"",complainantContactNumber:"",complainantAddress:"",description:"",media:[],mediaUpdated:!1,mediaToken:k(),mediaHash:[]},y="reception/complaint/",s=I(y),N=U({students:[],types:[]}),p=U({selectedStudent:null}),n=U({...d}),$=U({student:"",isLoaded:!b.params.uuid}),F=a=>{Object.assign(N,a)},O=()=>{n.mediaToken=k(),n.mediaHash=[]},D=a=>{var u,V;let t=a.student;t&&(p.selectedStudent={uuid:t.uuid,name:t.name,codeNumber:t.codeNumber,courseName:t.courseName,batchName:t.batchName,joiningDate:t.joiningDate}),Object.assign(d,{...a,student:(u=a.student)==null?void 0:u.uuid,date:a.date.value,type:(V=a.type)==null?void 0:V.uuid}),Object.assign(n,L(d)),$.isLoaded=!0},S=a=>{n.student=a?a.uuid:""},j=()=>{p.selectedStudent=null,n.student=""};return(a,t)=>{const u=i("BaseInput"),V=i("BaseSelect"),H=i("BaseSelectSearch"),T=i("DatePicker"),C=i("BaseTextarea"),q=i("MediaUpload"),E=i("FormAction");return v(),M(E,{"pre-requisites":!0,onSetPreRequisites:F,"init-url":y,"init-form":d,form:n,"set-form":D,redirect:"ReceptionComplaint",onResetMediaFiles:O},{default:c(()=>[r("div",P,[r("div",G,[l(u,{type:"text",modelValue:n.codeNumber,"onUpdate:modelValue":t[0]||(t[0]=e=>n.codeNumber=e),name:"codeNumber",label:a.$trans("reception.complaint.props.code_number"),error:o(s).codeNumber,"onUpdate:error":t[1]||(t[1]=e=>o(s).codeNumber=e),disabled:!!o(b).params.uuid},null,8,["modelValue","label","error","disabled"])]),o(R)(["student","guardian"],"any")?(v(),f("div",z,[l(V,{name:"student",label:a.$trans("global.select",{attribute:a.$trans("student.student")}),modelValue:p.selectedStudent,"onUpdate:modelValue":t[2]||(t[2]=e=>p.selectedStudent=e),error:o(s).student,"onUpdate:error":t[3]||(t[3]=e=>o(s).student=e),options:N.students,"value-prop":"uuid","object-prop":!0,onSelected:S,onRemoved:j},{selectedOption:c(e=>[g(m(e.value.name)+" ("+m(e.value.courseName+" "+e.value.batchName)+") ",1)]),listOption:c(e=>[g(m(e.option.name)+" ("+m(e.option.courseName+" "+e.option.batchName)+") ",1)]),_:1},8,["label","modelValue","error","options"])])):(v(),f("div",J,[l(H,{name:"student",label:a.$trans("global.select",{attribute:a.$trans("student.student")}),modelValue:p.selectedStudent,"onUpdate:modelValue":t[4]||(t[4]=e=>p.selectedStudent=e),error:o(s).student,"onUpdate:error":t[5]||(t[5]=e=>o(s).student=e),"value-prop":"uuid","object-prop":!0,"init-search":$.student,"search-key":"name","search-action":"student/summary",onSelected:S,onRemoved:j},{selectedOption:c(e=>[g(m(e.value.name)+" ("+m(e.value.courseName+" "+e.value.batchName)+") ",1)]),listOption:c(e=>[g(m(e.option.name)+" ("+m(e.option.courseName+" "+e.option.batchName)+") ",1)]),_:1},8,["label","modelValue","error","init-search"])])),r("div",K,[l(V,{modelValue:n.type,"onUpdate:modelValue":t[6]||(t[6]=e=>n.type=e),name:"type",label:a.$trans("reception.complaint.props.type"),options:N.types,"label-prop":"name","value-prop":"uuid",error:o(s).type,"onUpdate:error":t[7]||(t[7]=e=>o(s).type=e)},null,8,["modelValue","label","options","error"])]),r("div",Q,[l(u,{type:"text",modelValue:n.subject,"onUpdate:modelValue":t[8]||(t[8]=e=>n.subject=e),name:"subject",label:a.$trans("reception.complaint.props.subject"),error:o(s).subject,"onUpdate:error":t[9]||(t[9]=e=>o(s).subject=e),autofocus:""},null,8,["modelValue","label","error"])]),o(R)(["student","guardian"],"any")?w("",!0):(v(),f(B,{key:2},[r("div",W,[l(T,{modelValue:n.date,"onUpdate:modelValue":t[10]||(t[10]=e=>n.date=e),name:"date",label:a.$trans("reception.complaint.props.date"),"no-clear":"",error:o(s).date,"onUpdate:error":t[11]||(t[11]=e=>o(s).date=e)},null,8,["modelValue","label","error"])]),r("div",X,[l(u,{type:"text",modelValue:n.complainantName,"onUpdate:modelValue":t[12]||(t[12]=e=>n.complainantName=e),name:"complainantName",label:a.$trans("reception.complaint.props.name"),error:o(s).complainantName,"onUpdate:error":t[13]||(t[13]=e=>o(s).complainantName=e)},null,8,["modelValue","label","error"])]),r("div",Y,[l(u,{type:"text",modelValue:n.complainantContactNumber,"onUpdate:modelValue":t[14]||(t[14]=e=>n.complainantContactNumber=e),name:"complainantContactNumber",label:a.$trans("reception.complaint.props.contact_number"),error:o(s).complainantContactNumber,"onUpdate:error":t[15]||(t[15]=e=>o(s).complainantContactNumber=e)},null,8,["modelValue","label","error"])]),r("div",Z,[l(C,{rows:1,modelValue:n.complainantAddress,"onUpdate:modelValue":t[16]||(t[16]=e=>n.complainantAddress=e),name:"complainantAddress",label:a.$trans("reception.complaint.props.address"),error:o(s).complainantAddress,"onUpdate:error":t[17]||(t[17]=e=>o(s).complainantAddress=e)},null,8,["modelValue","label","error"])])],64)),r("div",x,[l(C,{modelValue:n.description,"onUpdate:modelValue":t[18]||(t[18]=e=>n.description=e),name:"description",label:a.$trans("reception.complaint.props.description"),error:o(s).description,"onUpdate:error":t[19]||(t[19]=e=>o(s).description=e)},null,8,["modelValue","label","error"])])]),r("div",h,[r("div",ee,[l(q,{multiple:"",label:a.$trans("general.file"),module:"complaint",media:n.media,"media-token":n.mediaToken,onIsUpdated:t[20]||(t[20]=e=>n.mediaUpdated=!0),onSetHash:t[21]||(t[21]=e=>n.mediaHash.push(e))},null,8,["label","media","media-token"])])])]),_:1},8,["form"])}}}),oe={name:"ReceptionComplaintAction"},se=Object.assign(oe,{setup(_){const b=A();return(d,y)=>{const s=i("PageHeaderAction"),N=i("PageHeader"),p=i("ParentTransition");return v(),f(B,null,[l(N,{title:d.$trans(o(b).meta.trans,{attribute:d.$trans(o(b).meta.label)}),navs:[{label:d.$trans("reception.reception"),path:"Reception"},{label:d.$trans("reception.complaint.complaint"),path:"ReceptionComplaintList"}]},{default:c(()=>[l(s,{name:"ReceptionComplaint",title:d.$trans("reception.complaint.complaint"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),l(p,{appear:"",visibility:!0},{default:c(()=>[l(ne)]),_:1})],64)}}});export{se as default};
