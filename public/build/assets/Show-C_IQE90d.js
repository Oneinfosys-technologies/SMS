import{l as I,m as E,n as F,a as o,e as a,w as e,F as p,r as d,o as l,q as k,d as r,s as i,t as n,u as w,y as O,b,v as y,f as R,h as q,i as U}from"./app-DCfJDSeM.js";const W={class:"space-y-2"},z=["innerHTML"],G={class:"divide-y divide-gray-200 dark:divide-gray-700"},J={class:"grid grid-cols-6 gap-2 px-4 py-2"},K={class:"col-span-6 sm:col-span-1"},Q={class:"col-span-6 sm:col-span-5"},X={class:"flex flex-col sm:flex-row gap-2"},Y={class:"w-full"},Z={key:0},ee={class:"col-span-6 sm:col-span-1"},te={key:1,class:"block text-xs"},ae={class:"col-span-6 sm:col-span-5"},se={key:0,class:"flex flex-col sm:flex-row gap-2"},ne={class:"w-full"},le={key:0,class:"flex justify-center"},ie={key:1},oe={class:"flex justify-center"},ce={name:"AcademicTimetableShow"},me=Object.assign(ce,{setup(de){const T=R(),V=q(),L=U(),A="academic/timetable/",g=I(!1),c=E({}),C=async()=>{g.value=!0,await L.dispatch(A+"get",{uuid:T.params.uuid,params:{detail:!0}}).then(t=>{g.value=!1,Object.assign(c,t)}).catch(t=>{g.value=!1})},D=()=>{var t;return((t=c.days[0])==null?void 0:t.sessions)||[]};return F(async()=>{await C()}),(t,f)=>{const H=d("PageHeaderAction"),N=d("PageHeader"),u=d("ListItemView"),P=d("ListContainerVertical"),$=d("BaseCard"),_=d("BaseDataView"),h=d("TextMuted"),S=d("BaseButton"),j=d("ShowButton"),M=d("DetailLayoutVertical"),x=d("ParentTransition");return l(),o(p,null,[a(N,{title:t.$trans("academic.timetable.timetable"),navs:[{label:t.$trans("academic.academic"),path:"Academic"},{label:t.$trans("academic.timetable.timetable"),path:"AcademicTimetable"}]},{default:e(()=>[a(H,{name:"AcademicTimetable",title:t.$trans("academic.timetable.timetable"),actions:[]},null,8,["title"])]),_:1},8,["title","navs"]),a(x,{appear:"",visibility:!0},{default:e(()=>[c.uuid?(l(),k(M,{key:0},{detail:e(()=>[r("div",W,[a($,{"no-padding":"","no-content-padding":""},{title:e(()=>[i(n(t.$trans("academic.timetable.timetable")),1)]),action:e(()=>f[1]||(f[1]=[])),default:e(()=>[a(P,null,{default:e(()=>[a(u,{label:t.$trans("academic.batch.batch")},{default:e(()=>{var s,v,m;return[i(n(((v=(s=c.batch)==null?void 0:s.course)==null?void 0:v.nameWithTerm)+" "+((m=c.batch)==null?void 0:m.name)),1)]}),_:1},8,["label"]),a(u,{label:t.$trans("asset.building.room.room")},{default:e(()=>{var s;return[i(n((s=c.room)==null?void 0:s.fullName),1)]}),_:1},8,["label"]),a(u,{label:t.$trans("academic.timetable.props.effective_date")},{default:e(()=>[i(n(c.effectiveDate.formatted),1)]),_:1},8,["label"]),a(u,{label:t.$trans("academic.timetable.props.description")},{default:e(()=>[r("div",{innerHTML:c.description},null,8,z)]),_:1},8,["label"]),a(u,{label:t.$trans("general.created_at")},{default:e(()=>[i(n(c.createdAt.formatted),1)]),_:1},8,["label"]),a(u,{label:t.$trans("general.updated_at")},{default:e(()=>[i(n(c.updatedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1})])]),default:e(()=>[a($,{"no-padding":"","no-content-padding":"","bottom-content-padding":""},{title:e(()=>[i(n(t.$trans("global.detail",{attribute:t.$trans("academic.timetable.timetable")})),1)]),footer:e(()=>[a(j,null,{default:e(()=>[w(O)("timetable:edit")?(l(),k(S,{key:0,design:"primary",onClick:f[0]||(f[0]=s=>w(V).push({name:"AcademicTimetableEdit",params:{uuid:c.uuid}}))},{default:e(()=>[i(n(t.$trans("general.edit")),1)]),_:1})):b("",!0)]),_:1})]),default:e(()=>[r("div",G,[r("div",J,[r("div",K,[a(_)]),r("div",Q,[r("div",X,[(l(!0),o(p,null,y(D(),s=>(l(),o("div",Y,[a(_,null,{default:e(()=>[i(n(s.name)+" ",1),s.isBreak?(l(),o("span",Z,"("+n(t.$trans("academic.class_timing.break"))+")",1)):b("",!0),a(h,{block:""},{default:e(()=>[i(n(s.duration),1)]),_:2},1024)]),_:2},1024)]))),256))])])]),(l(!0),o(p,null,y(c.days,(s,v)=>(l(),o("div",{class:"grid grid-cols-6 gap-2 px-2 py-2",key:s.value},[r("div",ee,[a(_,null,{default:e(()=>[i(n(s.label)+" ",1),s.sessions.length>0?(l(),k(h,{key:0,block:""},{default:e(()=>[i(n(s.period),1)]),_:2},1024)):b("",!0),s.sessions.length>0?(l(),o("span",te,n(s.duration),1)):b("",!0)]),_:2},1024)]),r("div",ae,[s.sessions.length>0?(l(),o("div",se,[(l(!0),o(p,null,y(s.sessions,(m,re)=>(l(),o("div",ne,[m.isBreak?(l(),o("div",le,"-")):(l(),o(p,{key:1},[a(_,null,{default:e(()=>{var B;return[i(n((B=m.subject)==null?void 0:B.name),1)]}),_:2},1024),a(h,{block:""},{default:e(()=>[i(n(m.roomName),1)]),_:2},1024)],64))]))),256))])):(l(),o("div",ie,[r("div",oe,[a(_,null,{default:e(()=>[i(n(t.$trans("academic.timetable.props.holiday")),1)]),_:1})])]))])]))),128))])]),_:1})]),_:1})):b("",!0)]),_:1})],64)}}});export{me as default};
