import{f as A,m as D,n as H,r,o as v,q as y,w as e,d as $,e as t,y as _,l as L,u as i,s as c,t as p,b as B,a as T,v as O,F as E,h as z,j as G}from"./app-DCfJDSeM.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(w,{emit:b}){A();const P=b,k=w,I={codeNumber:"",startDate:"",endDate:"",inventory:"",fromPlaces:[],toPlaces:[]},s=D({...I}),f=D({inventories:k.preRequisites.inventories,places:k.preRequisites.places}),C=D({isLoaded:!0});return H(async()=>{C.isLoaded=!0}),(u,a)=>{const F=r("BaseInput"),n=r("BaseSelect"),d=r("DatePicker"),N=r("FilterForm");return v(),y(N,{"init-form":I,form:s,multiple:["fromPlaces","toPlaces"],onHide:a[6]||(a[6]=l=>P("hide"))},{default:e(()=>[$("div",J,[$("div",K,[t(F,{type:"text",modelValue:s.codeNumber,"onUpdate:modelValue":a[0]||(a[0]=l=>s.codeNumber=l),name:"codeNumber",label:u.$trans("inventory.stock_transfer.props.code_number")},null,8,["modelValue","label"])]),$("div",Q,[t(n,{modelValue:s.inventory,"onUpdate:modelValue":a[1]||(a[1]=l=>s.inventory=l),name:"inventory","label-prop":"name","value-prop":"uuid",label:u.$trans("inventory.inventory"),options:f.inventories},null,8,["modelValue","label","options"])]),$("div",W,[t(n,{multiple:"",modelValue:s.fromPlaces,"onUpdate:modelValue":a[2]||(a[2]=l=>s.fromPlaces=l),name:"fromPlaces","label-prop":"fullName","value-prop":"uuid",label:u.$trans("global.select",{attribute:u.$trans("inventory.stock_transfer.props.from")}),options:f.places},null,8,["modelValue","label","options"])]),$("div",X,[t(n,{multiple:"",modelValue:s.toPlaces,"onUpdate:modelValue":a[3]||(a[3]=l=>s.toPlaces=l),name:"toPlaces","label-prop":"fullName","value-prop":"uuid",label:u.$trans("global.select",{attribute:u.$trans("inventory.stock_transfer.props.to")}),options:f.places},null,8,["modelValue","label","options"])]),$("div",Y,[t(d,{start:s.startDate,"onUpdate:start":a[4]||(a[4]=l=>s.startDate=l),end:s.endDate,"onUpdate:end":a[5]||(a[5]=l=>s.endDate=l),name:"dateBetween",as:"range",label:u.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},x={name:"InventoryStockTransferList"},te=Object.assign(x,{setup(w){const b=z(),P=G("emitter");let k=["filter"];_("inventory:config")&&k.push("config"),_("stock-transfer:create")&&k.unshift("create");let I=[];_("stock-transfer:export")&&(I=["print","pdf","excel"]);const s="inventory/stockTransfer/",f=L(!1),C=D({inventories:[],places:[]}),u=D({}),a=n=>{Object.assign(C,n)},F=n=>{Object.assign(u,n)};return(n,d)=>{const N=r("PageHeaderAction"),l=r("PageHeader"),R=r("ParentTransition"),S=r("TextMuted"),g=r("DataCell"),V=r("FloatingMenuItem"),q=r("FloatingMenu"),h=r("DataRow"),M=r("BaseButton"),U=r("DataTable"),j=r("ListItem");return v(),y(j,{"init-url":s,"pre-requisites":!0,onSetPreRequisites:a,onSetItems:F},{header:e(()=>[t(l,{title:n.$trans("inventory.stock_transfer.stock_transfer"),navs:[{label:n.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[t(N,{url:"inventory/stock-transfers/",name:"InventoryStockTransfer",title:n.$trans("inventory.stock_transfer.stock_transfer"),actions:i(k),"dropdown-actions":i(I),"config-path":"InventoryConfig",onToggleFilter:d[0]||(d[0]=o=>f.value=!f.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(R,{appear:"",visibility:f.value},{default:e(()=>[t(Z,{onRefresh:d[1]||(d[1]=o=>i(P).emit("listItems")),"pre-requisites":C,onHide:d[2]||(d[2]=o=>f.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(R,{appear:"",visibility:!0},{default:e(()=>[t(U,{header:u.headers,meta:u.meta,module:"inventory.stock_transfer",onRefresh:d[4]||(d[4]=o=>i(P).emit("listItems"))},{actionButton:e(()=>[i(_)("stock-transfer:create")?(v(),y(M,{key:0,onClick:d[3]||(d[3]=o=>i(b).push({name:"InventoryStockTransferCreate"}))},{default:e(()=>[c(p(n.$trans("global.add",{attribute:n.$trans("inventory.stock_transfer.stock_transfer")})),1)]),_:1})):B("",!0)]),default:e(()=>[(v(!0),T(E,null,O(u.data,o=>(v(),y(h,{key:o.uuid},{default:e(()=>[t(g,{name:"codeNumber"},{default:e(()=>[c(p(o.codeNumber)+" ",1),t(S,{block:""},{default:e(()=>{var m;return[c(p((m=o.inventory)==null?void 0:m.name),1)]}),_:2},1024)]),_:2},1024),t(g,{name:"date"},{default:e(()=>[c(p(o.date.formatted),1)]),_:2},1024),t(g,{name:"fromPlace"},{default:e(()=>{var m;return[c(p(((m=o.fromPlace)==null?void 0:m.fullName)||"-"),1)]}),_:2},1024),t(g,{name:"toPlace"},{default:e(()=>{var m;return[c(p(((m=o.toPlace)==null?void 0:m.fullName)||"-"),1)]}),_:2},1024),t(g,{name:"createdAt"},{default:e(()=>[c(p(o.createdAt.formatted),1)]),_:2},1024),t(g,{name:"action"},{default:e(()=>[t(q,null,{default:e(()=>[t(V,{icon:"fas fa-arrow-circle-right",onClick:m=>i(b).push({name:"InventoryStockTransferShow",params:{uuid:o.uuid}})},{default:e(()=>[c(p(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),i(_)("stock-transfer:edit")?(v(),y(V,{key:0,icon:"fas fa-edit",onClick:m=>i(b).push({name:"InventoryStockTransferEdit",params:{uuid:o.uuid}})},{default:e(()=>[c(p(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):B("",!0),i(_)("stock-transfer:create")?(v(),y(V,{key:1,icon:"fas fa-copy",onClick:m=>i(b).push({name:"InventoryStockTransferDuplicate",params:{uuid:o.uuid}})},{default:e(()=>[c(p(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):B("",!0),i(_)("stock-transfer:delete")?(v(),y(V,{key:2,icon:"fas fa-trash",onClick:m=>i(P).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[c(p(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):B("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{te as default};
