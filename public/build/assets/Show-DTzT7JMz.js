import{m as O,a as g,e as t,w as e,u,F as b,r as i,o as s,C as A,q as c,d as f,t as o,s as l,b as m,v as L,y as C,i as q,f as U,h as z}from"./app-DCfJDSeM.js";const G={class:"flex items-center justify-center gap-2"},J={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},K={class:"mt-8 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},Q=["innerHTML"],W={class:"space-y-2"},X={class:"flex justify-center gap-2"},Y={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},Z=["innerHTML"],x={name:"CommunicationAnnouncementShow"},te=Object.assign(x,{setup(ee){q();const y=U(),k=z(),V={},T="communication/announcement/",n=O({...V}),H=a=>{Object.assign(n,a)},v=a=>n.audiences.filter(d=>d.type===a);return(a,d)=>{const M=i("PageHeaderAction"),P=i("PageHeader"),r=i("BaseDataView"),B=i("ListMedia"),$=i("BaseCard"),p=i("ListItemView"),h=i("TextMuted"),S=i("ListContainerVertical"),I=i("BaseBadge"),N=i("ViewLog"),D=i("BaseButton"),j=i("ShowButton"),R=i("DetailLayoutVertical"),E=i("ShowItem"),F=i("ParentTransition");return s(),g(b,null,[t(P,{title:a.$trans(u(y).meta.trans,{attribute:a.$trans(u(y).meta.label)}),navs:[{label:a.$trans("communication.communication"),path:"Communication"},{label:a.$trans("communication.announcement.announcement"),path:"CommunicationAnnouncement"}]},{default:e(()=>[t(M,{name:"CommunicationAnnouncement",title:a.$trans("communication.announcement.announcement"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),t(F,{appear:"",visibility:!0},{default:e(()=>[t(E,{"init-url":T,uuid:u(y).params.uuid,"module-uuid":u(y).params.muuid,onSetItem:H,onRedirectTo:d[1]||(d[1]=_=>u(k).push({name:"CommunicationAnnouncement",params:{uuid:n.uuid}}))},{default:e(()=>[n.uuid&&u(A)(["student","guardian"],"any")?(s(),c($,{key:0},{title:e(()=>[f("div",G,o(n.title),1)]),default:e(()=>[f("dl",J,[t(r,{label:a.$trans("communication.announcement.props.code_number")},{default:e(()=>[l(o(n.codeNumber),1)]),_:1},8,["label"]),t(r,{label:a.$trans("communication.announcement.props.type")},{default:e(()=>[l(o(n.type.name),1)]),_:1},8,["label"]),t(r,{label:a.$trans("general.date"),class:"col-span-1 sm:col-span-2"},{default:e(()=>[l(o(n.publishedAt.formatted),1)]),_:1},8,["label"])]),f("dl",K,[t(r,{class:"col-span-1 sm:col-span-2"},{default:e(()=>[f("div",{innerHTML:n.description},null,8,Q)]),_:1}),n.media.length>0?(s(),c(r,{key:0,class:"col-span-1 sm:col-span-2"},{default:e(()=>[t(B,{media:n.media,url:`/app/communication/announcements/${n.uuid}/`},null,8,["media","url"])]),_:1})):m("",!0)])]),_:1})):m("",!0),n.uuid&&!u(A)(["student","guardian"],"any")?(s(),c(R,{key:1},{detail:e(()=>[f("div",W,[t($,{"no-padding":"","no-content-padding":""},{title:e(()=>[l(" #"+o(n.codeNumber),1)]),action:e(()=>d[2]||(d[2]=[])),default:e(()=>[t(S,null,{default:e(()=>[t(p,{label:a.$trans("communication.announcement.props.title")},{default:e(()=>[l(o(n.title),1)]),_:1},8,["label"]),t(p,{label:a.$trans("communication.announcement.type.type")},{default:e(()=>[l(o(n.type.name),1)]),_:1},8,["label"]),t(p,{label:a.$trans("employee.employee")},{default:e(()=>{var _;return[l(o(((_=n.employee)==null?void 0:_.name)||"-")+" ",1),t(h,{block:""},{default:e(()=>{var w;return[l(o(((w=n.employee)==null?void 0:w.designation)||""),1)]}),_:1})]}),_:1},8,["label"]),n.isPublic?m("",!0):(s(),g(b,{key:0},[t(p,{label:a.$trans("communication.announcement.props.audience")},{default:e(()=>[l(o(n.studentAudienceType.label)+" ",1),(s(!0),g(b,null,L(v("student"),_=>(s(),c(h,{block:""},{default:e(()=>[l(o(_.name),1)]),_:2},1024))),256))]),_:1},8,["label"]),t(p,{label:a.$trans("communication.announcement.props.audience")},{default:e(()=>[n.employeeAudienceType.value?(s(),g(b,{key:0},[l(o(n.employeeAudienceType.label)+" ",1),(s(!0),g(b,null,L(v("employee"),_=>(s(),c(h,{block:""},{default:e(()=>[l(o(_.name),1)]),_:2},1024))),256))],64)):(s(),g(b,{key:1},[l("-")],64))]),_:1},8,["label"]),t(p,{label:a.$trans("general.created_at")},{default:e(()=>[l(o(n.createdAt.formatted),1)]),_:1},8,["label"]),t(p,{label:a.$trans("general.updated_at")},{default:e(()=>[l(o(n.updatedAt.formatted),1)]),_:1},8,["label"])],64)),t(p,{label:a.$trans("communication.announcement.props.published_at")},{default:e(()=>[l(o(n.publishedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1})])]),default:e(()=>[n.uuid?(s(),c($,{key:0},{title:e(()=>[f("div",X,[l(o(n.title)+" ",1),n.isPublic?(s(),c(I,{key:0,design:"primary"},{default:e(()=>[l(o(a.$trans("general.public")),1)]),_:1})):m("",!0)])]),footer:e(()=>[t(j,null,{default:e(()=>[u(C)("announcement:edit")?(s(),c(D,{key:0,design:"primary",onClick:d[0]||(d[0]=_=>u(k).push({name:"CommunicationAnnouncementEdit",params:{uuid:n.uuid}}))},{default:e(()=>[l(o(a.$trans("general.edit")),1)]),_:1})):m("",!0)]),_:1})]),default:e(()=>[f("dl",Y,[t(r,{class:"col-span-1 sm:col-span-2"},{default:e(()=>[f("div",{innerHTML:n.description},null,8,Z)]),_:1}),n.media.length>0?(s(),c(r,{key:0,class:"col-span-1 sm:col-span-2"},{default:e(()=>[t(B,{media:n.media,url:`/app/communication/announcements/${n.uuid}/`},null,8,["media","url"])]),_:1})):m("",!0),u(C)("announcement:view-log")?(s(),c(r,{key:1,class:"col-span-1 sm:col-span-2"},{default:e(()=>[t(N,{"view-logs":n.viewLogs},null,8,["view-logs"])]),_:1})):m("",!0)])]),_:1})):m("",!0)]),_:1})):m("",!0)]),_:1},8,["uuid","module-uuid"])]),_:1})],64)}}});export{te as default};
