import{m as E,r as l,o as y,q as b,w as e,d as B,e as t,y as D,l as A,u,b as C,s as o,t as n,a as I,v as L,F as w,f as M,h as N,j as O}from"./app-DCfJDSeM.js";const q={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(i,{emit:F}){const v=F,g={course:"",institute:"",affiliatedTo:""},d=E({...g});return($,m)=>{const p=l("BaseInput"),_=l("FilterForm");return y(),b(_,{"init-form":g,form:d,onHide:m[3]||(m[3]=c=>v("hide"))},{default:e(()=>[B("div",q,[B("div",z,[t(p,{type:"text",modelValue:d.course,"onUpdate:modelValue":m[0]||(m[0]=c=>d.course=c),name:"course",label:$.$trans("employee.qualification.props.course")},null,8,["modelValue","label"])]),B("div",G,[t(p,{type:"text",modelValue:d.institute,"onUpdate:modelValue":m[1]||(m[1]=c=>d.institute=c),name:"institute",label:$.$trans("employee.qualification.props.institute")},null,8,["modelValue","label"])]),B("div",J,[t(p,{type:"text",modelValue:d.affiliatedTo,"onUpdate:modelValue":m[2]||(m[2]=c=>d.affiliatedTo=c),name:"affiliatedTo",label:$.$trans("employee.qualification.props.affiliated_to")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},W={name:"EmployeeQualificationList"},Y=Object.assign(W,{props:{employee:{type:Object,default(){return{}}}},setup(i){const F=M(),v=N(),g=O("emitter"),d=i;let $=["filter"];(D("employee:edit")||d.employee.selfService)&&$.unshift("create");const m="employee/qualification/",p=A(!1),_=E({}),c=s=>{Object.assign(_,s)};return(s,r)=>{const T=l("PageHeaderAction"),S=l("PageHeader"),h=l("ParentTransition"),H=l("BaseBadge"),f=l("DataCell"),k=l("FloatingMenuItem"),P=l("FloatingMenu"),Q=l("DataRow"),R=l("BaseButton"),U=l("DataTable"),j=l("ListItem");return y(),b(j,{"init-url":m,uuid:u(F).params.uuid,onSetItems:c},{header:e(()=>[i.employee.uuid?(y(),b(S,{key:0,title:s.$trans("employee.qualification.qualification"),navs:[{label:s.$trans("employee.employee"),path:"Employee"},{label:i.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:i.employee.uuid}}}]},{default:e(()=>[t(T,{url:`employees/${i.employee.uuid}/qualifications/`,name:"EmployeeQualification",title:s.$trans("employee.qualification.qualification"),actions:u($),"dropdown-actions":["print","pdf","excel"],onToggleFilter:r[0]||(r[0]=a=>p.value=!p.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):C("",!0)]),filter:e(()=>[t(h,{appear:"",visibility:p.value},{default:e(()=>[t(K,{onRefresh:r[1]||(r[1]=a=>u(g).emit("listItems")),onHide:r[2]||(r[2]=a=>p.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(h,{appear:"",visibility:!0},{default:e(()=>[t(U,{header:_.headers,meta:_.meta,module:"employee.qualification",onRefresh:r[4]||(r[4]=a=>u(g).emit("listItems"))},{actionButton:e(()=>[u(D)("employee:edit")||i.employee.selfService?(y(),b(R,{key:0,onClick:r[3]||(r[3]=a=>u(v).push({name:"EmployeeQualificationCreate"}))},{default:e(()=>[o(n(s.$trans("global.add",{attribute:s.$trans("employee.qualification.qualification")})),1)]),_:1})):C("",!0)]),default:e(()=>[(y(!0),I(w,null,L(_.data,a=>(y(),b(Q,{key:a.uuid},{default:e(()=>[t(f,{name:"course"},{default:e(()=>[o(n(a.course)+" ",1),a.selfUpload?(y(),b(H,{key:0,design:a.verificationStatus.color},{default:e(()=>[o(n(a.verificationStatus.label),1)]),_:2},1032,["design"])):C("",!0)]),_:2},1024),t(f,{name:"institute"},{default:e(()=>[o(n(a.institute),1)]),_:2},1024),t(f,{name:"level"},{default:e(()=>[o(n(a.level.name),1)]),_:2},1024),t(f,{name:"startDate"},{default:e(()=>[o(n(a.startDate.formatted),1)]),_:2},1024),t(f,{name:"endDate"},{default:e(()=>[o(n(a.endDate.formatted),1)]),_:2},1024),t(f,{name:"result"},{default:e(()=>[o(n(a.result),1)]),_:2},1024),t(f,{name:"createdAt"},{default:e(()=>[o(n(a.createdAt.formatted),1)]),_:2},1024),t(f,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(k,{icon:"fas fa-arrow-circle-right",onClick:V=>u(v).push({name:"EmployeeQualificationShow",params:{uuid:i.employee.uuid,muuid:a.uuid}})},{default:e(()=>[o(n(s.$trans("general.show")),1)]),_:2},1032,["onClick"]),u(D)("employee:edit")||i.employee.selfService?(y(),I(w,{key:0},[t(k,{icon:"fas fa-edit",onClick:V=>u(v).push({name:"EmployeeQualificationEdit",params:{uuid:i.employee.uuid,muuid:a.uuid}})},{default:e(()=>[o(n(s.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(k,{icon:"fas fa-copy",onClick:V=>u(v).push({name:"EmployeeQualificationDuplicate",params:{uuid:i.employee.uuid,muuid:a.uuid}})},{default:e(()=>[o(n(s.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(k,{icon:"fas fa-trash",onClick:V=>u(g).emit("deleteItem",{uuid:i.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[o(n(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):C("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{Y as default};
