import{f as M,m as D,n as V,r as o,o as g,q as h,w as e,d as w,s as r,t as a,b as A,e as t,l as H,u as f,a as P,v as j,F as E,h as O,j as U}from"./app-DCfJDSeM.js";const q={class:"grid grid-cols-3 gap-6"},x={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",emits:["hide"],setup(N,{emit:k}){const p=M(),F=k,b={students:[],startDate:"",endDate:""},u=D({...b});D({});const i=D({students:[],isLoaded:!p.query.students});return V(async()=>{i.students=p.query.students?p.query.students.split(","):[],i.isLoaded=!0}),(m,d)=>{const c=o("BaseSelectSearch"),l=o("DatePicker"),$=o("FilterForm");return g(),h($,{"init-form":b,form:u,multiple:["students"],onHide:d[3]||(d[3]=s=>F("hide"))},{default:e(()=>[w("div",q,[w("div",x,[i.isLoaded?(g(),h(c,{key:0,multiple:"",name:"students",label:m.$trans("global.select",{attribute:m.$trans("student.student")}),modelValue:u.students,"onUpdate:modelValue":d[0]||(d[0]=s=>u.students=s),"value-prop":"uuid","init-search":i.students,"search-key":"name","search-action":"student/summary"},{selectedOption:e(s=>[r(a(s.value.name)+" ("+a(s.value.codeNumber)+") ",1)]),listOption:e(s=>[r(a(s.option.name)+" ("+a(s.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):A("",!0)]),w("div",z,[t(l,{start:u.startDate,"onUpdate:start":d[1]||(d[1]=s=>u.startDate=s),end:u.endDate,"onUpdate:end":d[2]||(d[2]=s=>u.endDate=s),name:"dateBetween",as:"range",label:m.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},J={name:"StudentEditRequestList"},W=Object.assign(J,{setup(N){const k=O(),p=U("emitter");let F=["create","filter"],b=["print","pdf","excel"];const u="student/editRequest/",i=H(!1),m=D({}),d=c=>{Object.assign(m,c)};return(c,l)=>{const $=o("PageHeaderAction"),s=o("PageHeader"),y=o("ParentTransition"),v=o("TextMuted"),_=o("DataCell"),B=o("BaseBadge"),S=o("FloatingMenuItem"),I=o("FloatingMenu"),T=o("DataRow"),C=o("DataTable"),L=o("ListItem");return g(),h(L,{"init-url":u,onSetItems:d},{header:e(()=>[t(s,{title:c.$trans("student.edit_request.edit_request"),navs:[{label:c.$trans("student.student"),path:"Student"}]},{default:e(()=>[t($,{url:"student/edit-requests/",name:"StudentEditRequest",title:c.$trans("student.edit_request.edit_request"),actions:f(F),"dropdown-actions":f(b),onToggleFilter:l[0]||(l[0]=n=>i.value=!i.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(y,{appear:"",visibility:i.value},{default:e(()=>[t(G,{onRefresh:l[1]||(l[1]=n=>f(p).emit("listItems")),onHide:l[2]||(l[2]=n=>i.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(y,{appear:"",visibility:!0},{default:e(()=>[t(C,{header:m.headers,meta:m.meta,module:"student.edit_request",onRefresh:l[3]||(l[3]=n=>f(p).emit("listItems"))},{default:e(()=>[(g(!0),P(E,null,j(m.data,n=>(g(),h(T,{key:n.uuid},{default:e(()=>[t(_,{name:"name"},{default:e(()=>[r(a(n.student.name)+" ",1),t(v,{block:""},{default:e(()=>[r(a(n.student.contactNumber),1)]),_:2},1024)]),_:2},1024),t(_,{name:"parent"},{default:e(()=>[r(a(n.student.fatherName)+" ",1),t(v,{block:""},{default:e(()=>[r(a(n.student.motherName),1)]),_:2},1024)]),_:2},1024),t(_,{name:"admissionDate"},{default:e(()=>[r(a(n.student.joiningDate.formatted)+" ",1),t(v,{block:""},{default:e(()=>[r(a(n.student.codeNumber),1)]),_:2},1024)]),_:2},1024),t(_,{name:"course"},{default:e(()=>[r(a(n.student.courseName)+" ",1),t(v,{block:""},{default:e(()=>[r(a(n.student.batchName),1)]),_:2},1024)]),_:2},1024),t(_,{name:"status"},{default:e(()=>[t(B,{design:n.status.color},{default:e(()=>[r(a(n.status.label),1)]),_:2},1032,["design"])]),_:2},1024),t(_,{name:"createdAt"},{default:e(()=>[r(a(n.createdAt.formatted),1)]),_:2},1024),t(_,{name:"action"},{default:e(()=>[t(I,null,{default:e(()=>[t(S,{icon:"fas fa-arrow-circle-right",onClick:K=>f(k).push({name:"StudentEditRequestShow",params:{uuid:n.uuid}})},{default:e(()=>[r(a(c.$trans("general.show")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
