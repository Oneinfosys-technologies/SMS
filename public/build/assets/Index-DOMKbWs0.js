import{m as B,r as a,o as R,q as H,w as e,d as _,e as t,l as A,u as m,s as r,t as i,a as S,v as T,F as U,h as L,j as M}from"./app-DCfJDSeM.js";const N={class:"grid grid-cols-3 gap-6"},O={class:"col-span-3 sm:col-span-1"},E={class:"col-span-3 sm:col-span-1"},W={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(V,{emit:p}){const f=p,v=V,k={name:"",number:"",floor:"",block:""},u=B({...k}),b=B({floors:v.preRequisites.floors,blocks:v.preRequisites.blocks});return(d,l)=>{const $=a("BaseInput"),g=a("BaseSelect"),n=a("FilterForm");return R(),H(n,{"init-form":k,form:u,onHide:l[4]||(l[4]=o=>f("hide"))},{default:e(()=>[_("div",N,[_("div",O,[t($,{type:"text",modelValue:u.name,"onUpdate:modelValue":l[0]||(l[0]=o=>u.name=o),name:"name",label:d.$trans("hostel.room.props.name")},null,8,["modelValue","label"])]),_("div",E,[t($,{type:"text",modelValue:u.number,"onUpdate:modelValue":l[1]||(l[1]=o=>u.number=o),name:"number",label:d.$trans("hostel.room.props.number")},null,8,["modelValue","label"])]),_("div",W,[t(g,{modelValue:u.block,"onUpdate:modelValue":l[2]||(l[2]=o=>u.block=o),name:"block","label-prop":"name","value-prop":"uuid",label:d.$trans("hostel.block.block"),options:b.blocks},null,8,["modelValue","label","options"])]),_("div",z,[t(g,{modelValue:u.floor,"onUpdate:modelValue":l[3]||(l[3]=o=>u.floor=o),name:"floor","label-prop":"nameWithBlock","value-prop":"uuid",label:d.$trans("hostel.floor.floor"),options:b.floors},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},J={name:"HostelRoomList"},Q=Object.assign(J,{setup(V){const p=L(),f=M("emitter");let v=["create","filter"],k=["print","pdf","excel"];const u="hostel/room/",b=B({floors:[]}),d=A(!1),l=B({}),$=n=>{Object.assign(l,n)},g=n=>{Object.assign(b,n)};return(n,o)=>{const C=a("BaseButton"),y=a("PageHeaderAction"),I=a("PageHeader"),w=a("ParentTransition"),c=a("DataCell"),h=a("FloatingMenuItem"),q=a("FloatingMenu"),D=a("DataRow"),P=a("DataTable"),j=a("ListItem");return R(),H(j,{"init-url":u,"pre-requisites":!0,onSetPreRequisites:g,onSetItems:$},{header:e(()=>[t(I,{title:n.$trans("hostel.room.room"),navs:[{label:n.$trans("hostel.hostel"),path:"Hostel"}]},{default:e(()=>[t(y,{url:"hostel/rooms/",name:"HostelRoom",title:n.$trans("hostel.room.room"),actions:m(v),"dropdown-actions":m(k),onToggleFilter:o[2]||(o[2]=s=>d.value=!d.value)},{default:e(()=>[t(C,{design:"white",onClick:o[0]||(o[0]=s=>m(p).push({name:"HostelBlock"}))},{default:e(()=>[r(i(n.$trans("hostel.block.block")),1)]),_:1}),t(C,{design:"white",onClick:o[1]||(o[1]=s=>m(p).push({name:"HostelFloor"}))},{default:e(()=>[r(i(n.$trans("hostel.floor.floor")),1)]),_:1})]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(w,{appear:"",visibility:d.value},{default:e(()=>[t(G,{onRefresh:o[3]||(o[3]=s=>m(f).emit("listItems")),"pre-requisites":b,onHide:o[4]||(o[4]=s=>d.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[t(w,{appear:"",visibility:!0},{default:e(()=>[t(P,{header:l.headers,meta:l.meta,module:"hostel.room",onRefresh:o[6]||(o[6]=s=>m(f).emit("listItems"))},{actionButton:e(()=>[t(C,{onClick:o[5]||(o[5]=s=>m(p).push({name:"HostelRoomCreate"}))},{default:e(()=>[r(i(n.$trans("global.add",{attribute:n.$trans("hostel.room.room")})),1)]),_:1})]),default:e(()=>[(R(!0),S(U,null,T(l.data,s=>(R(),H(D,{key:s.uuid},{default:e(()=>[t(c,{name:"name"},{default:e(()=>[r(i(s.name),1)]),_:2},1024),t(c,{name:"number"},{default:e(()=>[r(i(s.number),1)]),_:2},1024),t(c,{name:"floor"},{default:e(()=>[r(i(s.floorNameWithBlock),1)]),_:2},1024),t(c,{name:"capacity"},{default:e(()=>[r(i(s.capacity),1)]),_:2},1024),t(c,{name:"createdAt"},{default:e(()=>[r(i(s.createdAt.formatted),1)]),_:2},1024),t(c,{name:"action"},{default:e(()=>[t(q,null,{default:e(()=>[t(h,{icon:"fas fa-arrow-circle-right",onClick:F=>m(p).push({name:"HostelRoomShow",params:{uuid:s.uuid}})},{default:e(()=>[r(i(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(h,{icon:"fas fa-edit",onClick:F=>m(p).push({name:"HostelRoomEdit",params:{uuid:s.uuid}})},{default:e(()=>[r(i(n.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(h,{icon:"fas fa-copy",onClick:F=>m(p).push({name:"HostelRoomDuplicate",params:{uuid:s.uuid}})},{default:e(()=>[r(i(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(h,{icon:"fas fa-trash",onClick:F=>m(f).emit("deleteItem",{uuid:s.uuid})},{default:e(()=>[r(i(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Q as default};
