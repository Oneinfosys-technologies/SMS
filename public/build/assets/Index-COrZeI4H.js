import{f as S,m as w,n as H,r,o as _,q as g,w as e,d as D,s as i,t as a,b as v,e as s,y as h,l as O,u as l,a as P,v as R,F as U,h as j,j as W}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(B,{emit:y}){const p=S(),k=y,b={courses:[],employees:[],startDate:"",endDate:""},m=w({...b}),c=w({courses:[],employees:[],isLoaded:!(p.query.courses||p.query.employees)});return H(async()=>{c.courses=p.query.courses?p.query.courses.split(","):[],c.employees=p.query.employees?p.query.employees.split(","):[],c.isLoaded=!0}),(f,u)=>{const n=r("BaseSelectSearch"),d=r("DatePicker"),I=r("FilterForm");return _(),g(I,{"init-form":b,form:m,multiple:["courses","employees"],onHide:u[4]||(u[4]=t=>k("hide"))},{default:e(()=>[D("div",E,[D("div",z,[c.isLoaded?(_(),g(n,{key:0,multiple:"",name:"courses",label:f.$trans("global.select",{attribute:f.$trans("academic.course.course")}),modelValue:m.courses,"onUpdate:modelValue":u[0]||(u[0]=t=>m.courses=t),"value-prop":"uuid","init-search":c.courses,"search-key":"course_course","search-action":"academic/course/list"},{selectedOption:e(t=>[i(a(t.value.nameWithTerm),1)]),listOption:e(t=>[i(a(t.option.nameWithTerm),1)]),_:1},8,["label","modelValue","init-search"])):v("",!0)]),D("div",G,[c.isLoaded?(_(),g(n,{key:0,multiple:"",name:"employees",label:f.$trans("global.select",{attribute:f.$trans("employee.employee")}),modelValue:m.employees,"onUpdate:modelValue":u[1]||(u[1]=t=>m.employees=t),"value-prop":"uuid","init-search":c.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:e(t=>[i(a(t.value.name)+" ("+a(t.value.codeNumber)+") ",1)]),listOption:e(t=>[i(a(t.option.name)+" ("+a(t.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):v("",!0)]),D("div",J,[s(d,{start:m.startDate,"onUpdate:start":u[2]||(u[2]=t=>m.startDate=t),end:m.endDate,"onUpdate:end":u[3]||(u[3]=t=>m.endDate=t),name:"dateBetween",as:"range",label:f.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},Q={name:"AcademicCourseInchargeList"},Y=Object.assign(Q,{setup(B){const y=j(),p=W("emitter");let k=["filter"];h("course-incharge:create")&&k.unshift("create");let b=[];h("course-incharge:export")&&(b=["print","pdf","excel"]);const m="academic/courseIncharge/",c=O(!1),f=w({}),u=n=>{Object.assign(f,n)};return(n,d)=>{const I=r("PageHeaderAction"),t=r("PageHeader"),A=r("ParentTransition"),$=r("DataCell"),T=r("TextMuted"),C=r("FloatingMenuItem"),V=r("FloatingMenu"),L=r("DataRow"),q=r("BaseButton"),M=r("DataTable"),N=r("ListItem");return _(),g(N,{"init-url":m,onSetItems:u},{header:e(()=>[s(t,{title:n.$trans("academic.course_incharge.course_incharge"),navs:[{label:n.$trans("academic.academic"),path:"Academic"}]},{default:e(()=>[s(I,{url:"academic/course-incharges/",name:"AcademicCourseIncharge",title:n.$trans("academic.course_incharge.course_incharge"),actions:l(k),"dropdown-actions":l(b),onToggleFilter:d[0]||(d[0]=o=>c.value=!c.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[s(A,{appear:"",visibility:c.value},{default:e(()=>[s(K,{onRefresh:d[1]||(d[1]=o=>l(p).emit("listItems")),onHide:d[2]||(d[2]=o=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[s(A,{appear:"",visibility:!0},{default:e(()=>[s(M,{header:f.headers,meta:f.meta,module:"academic.course_incharge",onRefresh:d[4]||(d[4]=o=>l(p).emit("listItems"))},{actionButton:e(()=>[l(h)("course-incharge:create")?(_(),g(q,{key:0,onClick:d[3]||(d[3]=o=>l(y).push({name:"AcademicCourseInchargeCreate"}))},{default:e(()=>[i(a(n.$trans("global.add",{attribute:n.$trans("academic.course_incharge.course_incharge")})),1)]),_:1})):v("",!0)]),default:e(()=>[(_(!0),P(U,null,R(f.data,o=>(_(),g(L,{key:o.uuid},{default:e(()=>[s($,{name:"course"},{default:e(()=>[i(a(o.course.nameWithTerm),1)]),_:2},1024),s($,{name:"employee"},{default:e(()=>[i(a(o.employee.name)+" ",1),s(T,{block:""},{default:e(()=>[i(a(o.employee.codeNumber),1)]),_:2},1024)]),_:2},1024),s($,{name:"period"},{default:e(()=>[i(a(o.period),1)]),_:2},1024),s($,{name:"createdAt"},{default:e(()=>[i(a(o.createdAt.formatted),1)]),_:2},1024),s($,{name:"action"},{default:e(()=>[s(V,null,{default:e(()=>[s(C,{icon:"fas fa-arrow-circle-right",onClick:F=>l(y).push({name:"AcademicCourseInchargeShow",params:{uuid:o.uuid}})},{default:e(()=>[i(a(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),l(h)("course-incharge:edit")?(_(),g(C,{key:0,icon:"fas fa-edit",onClick:F=>l(y).push({name:"AcademicCourseInchargeEdit",params:{uuid:o.uuid}})},{default:e(()=>[i(a(n.$trans("general.edit")),1)]),_:2},1032,["onClick"])):v("",!0),l(h)("course-incharge:create")?(_(),g(C,{key:1,icon:"fas fa-copy",onClick:F=>l(y).push({name:"AcademicCourseInchargeDuplicate",params:{uuid:o.uuid}})},{default:e(()=>[i(a(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):v("",!0),l(h)("course-incharge:delete")?(_(),g(C,{key:2,icon:"fas fa-trash",onClick:F=>l(p).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[i(a(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])):v("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Y as default};
