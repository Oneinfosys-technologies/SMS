import{f as P,m as F,n as O,r as o,o as m,q as d,w as e,d as I,e as n,y as f,l as U,u as i,s,t as r,b as _,a as E,v as z,F as G,h as J,j as K}from"./app-DCfJDSeM.js";const Q={class:"grid grid-cols-3 gap-6"},W={class:"col-span-3 sm:col-span-1"},X={class:"col-span-3 sm:col-span-1"},Y={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(R,{emit:p}){P();const v=p,C={name:""},u=F({...C}),w=F({isLoaded:!0});return O(async()=>{w.isLoaded=!0}),(k,c)=>{const g=o("BaseInput"),A=o("BaseSelect"),h=o("FilterForm");return m(),d(h,{"init-form":C,form:u,multiple:[],onHide:c[2]||(c[2]=$=>v("hide"))},{default:e(()=>[I("div",Q,[I("div",W,[n(g,{type:"text",modelValue:u.name,"onUpdate:modelValue":c[0]||(c[0]=$=>u.name=$),name:"name",label:k.$trans("academic.certificate.template.props.name")},null,8,["modelValue","label"])]),I("div",X,[n(A,{modelValue:u.for,"onUpdate:modelValue":c[1]||(c[1]=$=>u.for=$),name:"for",label:k.$trans("academic.certificate.template.props.for"),options:R.preRequisites.for},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},Z={name:"AcademicCertificateTemplateList"},ee=Object.assign(Z,{setup(R){P();const p=J(),v=K("emitter");let C=["filter"];f("certificate-template:create")&&C.unshift("create");let u=[];f("certificate-template:export")&&(u=["print","pdf","excel"]);const w="academic/certificateTemplate/",k=F({for:[]}),c=U(!1),g=F({}),A=a=>{Object.assign(g,a)},h=a=>{Object.assign(k,a)},$=a=>{window.open(`/app/academic/certificate-templates/${a.uuid}/export?action=print`)};return(a,l)=>{const V=o("BaseButton"),M=o("PageHeaderAction"),T=o("PageHeader"),q=o("ParentTransition"),D=o("TextMuted"),y=o("DataCell"),j=o("BaseBadge"),b=o("FloatingMenuItem"),H=o("FloatingMenu"),L=o("DataRow"),S=o("DataTable"),N=o("ListItem");return m(),d(N,{"init-url":w,"pre-requisites":!0,onSetPreRequisites:h,onSetItems:A},{header:e(()=>[n(T,{title:a.$trans("academic.certificate.template.template"),navs:[{label:a.$trans("academic.academic"),path:"Academic"}]},{default:e(()=>[n(M,{url:"academic/certificate-templates/",name:"AcademicCertificateTemplate",title:a.$trans("academic.certificate.template.template"),actions:i(C),"dropdown-actions":i(u),onToggleFilter:l[1]||(l[1]=t=>c.value=!c.value)},{default:e(()=>[i(f)("certificate:read")?(m(),d(V,{key:0,design:"white",onClick:l[0]||(l[0]=t=>i(p).push({name:"AcademicCertificate"}))},{default:e(()=>[s(r(a.$trans("academic.certificate.certificate")),1)]),_:1})):_("",!0)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[n(q,{appear:"",visibility:c.value},{default:e(()=>[n(Y,{onRefresh:l[2]||(l[2]=t=>i(v).emit("listItems")),"pre-requisites":k,onHide:l[3]||(l[3]=t=>c.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[n(q,{appear:"",visibility:!0},{default:e(()=>[n(S,{header:g.headers,meta:g.meta,module:"academic.certificate.template",onRefresh:l[5]||(l[5]=t=>i(v).emit("listItems"))},{actionButton:e(()=>[i(f)("certificate-template:create")?(m(),d(V,{key:0,onClick:l[4]||(l[4]=t=>i(p).push({name:"AcademicCertificateTemplateCreate"}))},{default:e(()=>[s(r(a.$trans("global.add",{attribute:a.$trans("academic.certificate.template.template")})),1)]),_:1})):_("",!0)]),default:e(()=>[(m(!0),E(G,null,z(g.data,t=>(m(),d(L,{key:t.uuid},{default:e(()=>[n(y,{name:"name"},{default:e(()=>[s(r(t.name)+" ",1),n(D,{block:""},{default:e(()=>[s(r(t.type.label),1)]),_:2},1024)]),_:2},1024),n(y,{name:"for"},{default:e(()=>[s(r(t.for.label)+" ",1),t.hasCustomTemplateFile?(m(),d(j,{key:0,design:"info"},{default:e(()=>[s(r(a.$trans("academic.certificate.template.props.custom_template_file")),1)]),_:1})):_("",!0),t.hasCustomTemplateFile?(m(),d(D,{key:1,block:""},{default:e(()=>[s(r(t.customTemplateFileName),1)]),_:2},1024)):_("",!0)]),_:2},1024),n(y,{name:"createdAt"},{default:e(()=>[s(r(t.createdAt.formatted),1)]),_:2},1024),n(y,{name:"action"},{default:e(()=>[n(H,null,{default:e(()=>[n(b,{icon:"fas fa-arrow-circle-right",onClick:B=>i(p).push({name:"AcademicCertificateTemplateShow",params:{uuid:t.uuid}})},{default:e(()=>[s(r(a.$trans("general.show")),1)]),_:2},1032,["onClick"]),n(b,{icon:"fas fa-print",onClick:B=>$(t)},{default:e(()=>[s(r(a.$trans("general.print")),1)]),_:2},1032,["onClick"]),i(f)("certificate-template:edit")?(m(),d(b,{key:0,icon:"fas fa-edit",onClick:B=>i(p).push({name:"AcademicCertificateTemplateEdit",params:{uuid:t.uuid}})},{default:e(()=>[s(r(a.$trans("general.edit")),1)]),_:2},1032,["onClick"])):_("",!0),i(f)("certificate-template:create")?(m(),d(b,{key:1,icon:"fas fa-copy",onClick:B=>i(p).push({name:"AcademicCertificateTemplateDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[s(r(a.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):_("",!0),i(f)("certificate-template:delete")?(m(),d(b,{key:2,icon:"fas fa-trash",onClick:B=>i(v).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[s(r(a.$trans("general.delete")),1)]),_:2},1032,["onClick"])):_("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{ee as default};
