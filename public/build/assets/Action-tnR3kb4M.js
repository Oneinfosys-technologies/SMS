import{f as B,G as q,m as V,r as l,o as _,q as v,w as $,d as c,e as i,u as r,a as U,b as S,I as A,F as M}from"./app-DCfJDSeM.js";const O={class:"grid grid-cols-4 gap-6"},y={class:"col-span-4 sm:col-span-1"},H={class:"col-span-4 sm:col-span-3"},L={class:"mt-4 grid grid-cols-4 gap-6"},R={class:"col-span-4 sm:col-span-1"},C={key:0,class:"col-span-4 sm:col-span-1"},E={name:"SiteMenuForm"},I=Object.assign(E,{setup(F){const d=B(),s={name:"",placement:"",parent:"",page:""},f="site/menu/",o=q(f),p=V({placements:[],pages:[]}),n=V({...s}),m=V({parent:"",page:"",isLoaded:!d.params.uuid}),P=t=>{Object.assign(p,t)},j=t=>{var e,g,u,b;Object.assign(s,{...t,placement:t.placement.value,parent:(e=t.parent)==null?void 0:e.uuid,page:(g=t.page)==null?void 0:g.uuid}),Object.assign(n,A(s)),m.parent=(u=t.parent)==null?void 0:u.uuid,m.page=(b=t.page)==null?void 0:b.uuid,m.isLoaded=!0};return(t,e)=>{const g=l("BaseInput"),u=l("BaseSelect"),b=l("BaseSelectSearch"),k=l("FormAction");return _(),v(k,{"pre-requisites":!0,onSetPreRequisites:P,"init-url":f,"init-form":s,form:n,"set-form":j,redirect:"SiteMenu"},{default:$(()=>[c("div",O,[c("div",y,[i(g,{type:"text",modelValue:n.name,"onUpdate:modelValue":e[0]||(e[0]=a=>n.name=a),name:"name",label:t.$trans("site.menu.props.name"),error:r(o).name,"onUpdate:error":e[1]||(e[1]=a=>r(o).name=a)},null,8,["modelValue","label","error"])]),c("div",H,[i(u,{modelValue:n.page,"onUpdate:modelValue":e[2]||(e[2]=a=>n.page=a),name:"page",label:t.$trans("global.select",{attribute:t.$trans("site.page.page")}),"label-prop":"title","value-prop":"uuid",options:p.pages,error:r(o).page,"onUpdate:error":e[3]||(e[3]=a=>r(o).page=a)},null,8,["modelValue","label","options","error"])])]),c("div",L,[c("div",R,[i(u,{modelValue:n.placement,"onUpdate:modelValue":e[4]||(e[4]=a=>n.placement=a),name:"placement",label:t.$trans("global.select",{attribute:t.$trans("site.menu.props.placement")}),options:p.placements,error:r(o).placement,"onUpdate:error":e[5]||(e[5]=a=>r(o).placement=a)},null,8,["modelValue","label","options","error"])]),n.placement=="header"?(_(),U("div",C,[m.isLoaded?(_(),v(b,{key:0,name:"parent",label:t.$trans("global.select",{attribute:t.$trans("site.menu.props.parent")}),modelValue:n.parent,"onUpdate:modelValue":e[6]||(e[6]=a=>n.parent=a),error:r(o).parent,"onUpdate:error":e[7]||(e[7]=a=>r(o).parent=a),"init-search":m.parent,"search-action":"site/menu/list"},null,8,["label","modelValue","error","init-search"])):S("",!0)])):S("",!0)])]),_:1},8,["form"])}}}),N={name:"SiteMenuAction"},w=Object.assign(N,{setup(F){const d=B();return(s,f)=>{const o=l("PageHeaderAction"),p=l("PageHeader"),n=l("ParentTransition");return _(),U(M,null,[i(p,{title:s.$trans(r(d).meta.trans,{attribute:s.$trans(r(d).meta.label)}),navs:[{label:s.$trans("site.site"),path:"Site"},{label:s.$trans("site.menu.menu"),path:"SiteMenuList"}]},{default:$(()=>[i(o,{name:"SiteMenu",title:s.$trans("site.menu.menu"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),i(n,{appear:"",visibility:!0},{default:$(()=>[i(I)]),_:1})],64)}}});export{w as default};
