import{o as s,a as o,d as e,h as E,i as R,j as O,k as V,c as S,l as H,m as Z,n as K,p as I,r as u,q as j,w as x,s as M,t as c,b as r,F as w,v as G,x as L,e as i,u as d,g as v,y as J,z as Q,A as F,B as X,C as Y,f as ee,D as te}from"./app-DCfJDSeM.js";function se(B,l){return s(),o("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M2 4.75A.75.75 0 0 1 2.75 4h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 4.75ZM2 10a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75A.75.75 0 0 1 2 10Zm0 5.25a.75.75 0 0 1 .75-.75h14.5a.75.75 0 0 1 0 1.5H2.75a.75.75 0 0 1-.75-.75Z","clip-rule":"evenodd"})])}function oe(B,l,h){window.Echo&&window.Echo.private(B).listen("."+l,_=>{h(_)})}const ae={class:"space-y-2"},ne={key:1,class:"text-sm text-gray-800 dark:text-gray-400"},re={"aria-label":"Progress"},ie={role:"list",class:"mt-4 overflow-hidden"},le={key:0,class:"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-primary dark:bg-dark-body","aria-hidden":"true"},ce=["onClick"],de={class:"ml-4 flex min-w-0 flex-col"},ue={class:"text-sm font-medium dark:text-gray-400"},pe={key:0,class:"text-sm font-medium"},me={class:"text-sm text-gray-500"},he={class:"mt-2 flex justify-end"},fe={key:0,class:"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-gray-300","aria-hidden":"true"},_e=["onClick"],ye={class:"ml-4 flex min-w-0 flex-col"},ge={class:"text-sm font-medium text-gray-800 dark:text-gray-200"},ve={key:0,class:"text-sm font-medium"},be={class:"text-sm text-gray-500"},ke={class:"mt-2 flex justify-end"},xe={key:0,class:"absolute left-4 top-4 -ml-px mt-0.5 h-full w-0.5 bg-gray-300","aria-hidden":"true"},we=["onClick"],Se={class:"ml-4 flex min-w-0 flex-col"},$e={class:"text-sm font-medium text-gray-500"},Ce={key:0,class:"text-sm font-medium"},ze={class:"text-sm text-gray-500"},Be={class:"mt-2 flex justify-end"},Ae={key:2},Me={key:0,class:"mt-4 text-sm text-gray-800 dark:text-gray-400"},Pe={key:3},je={key:0,class:"mt-4 text-sm text-gray-800 dark:text-gray-400"},Le={name:"SetupWizard"},Te=Object.assign(Le,{setup(B){const l=E(),h=R(),_=O("emitter");V("profile.name");const $=S(()=>n.steps.every(a=>a.isCompleted)),p=H(null),g=H(!1),n=Z({header:"",footer:"",completed:"",steps:[]}),b=a=>{p.value=a},f=async()=>{g.value=!0,await h.dispatch("setup/wizard/getSteps").then(a=>{g.value=!1,Object.assign(n,a),p.value=n.steps.find(y=>!y.isCompleted)}).catch(a=>{g.value=!1})},k=async()=>{await h.dispatch("config/store",{form:{type:"system",showSetupWizard:!1}}).then(a=>{h.dispatch("config/get"),l.push({name:"Dashboard"})}).catch(a=>{})};return K(async()=>{await f(),_.on("refreshSetupWizard",()=>{f()})}),I(()=>{_.all.delete("refreshSetupWizard")}),(a,y)=>{const P=u("BaseAlert"),C=u("BaseButton"),m=u("BaseCard");return s(),j(m,{"is-loading":g.value},{title:x(()=>[M(c(a.$trans("config.system.props.setup_wizard")),1)]),action:x(()=>[e("i",{class:"fas fa-times fa-lg text-gray-500 cursor-pointer",onClick:k})]),default:x(()=>[e("div",ae,[n.steps.length==0?(s(),j(P,{key:0,size:"xs",design:"info"},{default:x(()=>[M(c(a.$trans("config.system.setup_wizard_not_available")),1)]),_:1})):r("",!0),n.header?(s(),o("p",ne,c(n.header),1)):r("",!0),e("nav",re,[e("ol",ie,[(s(!0),o(w,null,G(n.steps,(t,A)=>{var T,W,D,N;return s(),o("li",{key:t.name,class:L([A!==n.steps.length-1?"pb-10":"","relative"])},[t.isCompleted?(s(),o(w,{key:0},[A!==n.steps.length-1?(s(),o("div",le)):r("",!0),e("span",{onClick:z=>b(t),class:"group relative flex items-center cursor-pointer"},[y[0]||(y[0]=e("span",{class:"flex h-9 items-center"},[e("span",{class:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full bg-primary dark:bg-dark-body group-hover:bg-primary dark:group-hover:bg-dark-body"},[e("i",{class:"fas fa-check text-white"})])],-1)),e("span",de,[e("span",ue,c(t.title),1),t.name==((T=p.value)==null?void 0:T.name)?(s(),o(w,{key:0},[t.summary?(s(),o("span",pe,c(t.summary),1)):r("",!0),e("span",me,c(t.description),1),e("div",he,[i(C,{size:"xs",onClick:z=>d(l).push({name:t.route})},{default:x(()=>[M(c(a.$trans("general.proceed")),1)]),_:2},1032,["onClick"])])],64)):r("",!0)])],8,ce)],64)):t.name==((W=p.value)==null?void 0:W.name)?(s(),o(w,{key:1},[A!==n.steps.length-1?(s(),o("div",fe)):r("",!0),e("span",{onClick:z=>b(t),class:"cursor-pointer group relative flex items-start","aria-current":"step"},[y[1]||(y[1]=e("span",{class:"flex h-9 items-center","aria-hidden":"true"},[e("span",{class:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-primary dark:border-dark-body bg-white"},[e("span",{class:"h-2.5 w-2.5 rounded-full bg-primary"})])],-1)),e("span",ye,[e("span",ge,c(t.title),1),t.name==((D=p.value)==null?void 0:D.name)?(s(),o(w,{key:0},[t.summary?(s(),o("span",ve,c(t.summary),1)):r("",!0),e("span",be,c(t.description),1),e("div",ke,[i(C,{size:"xs",onClick:z=>d(l).push({name:t.route})},{default:x(()=>[M(c(a.$trans("general.proceed")),1)]),_:2},1032,["onClick"])])],64)):r("",!0)])],8,_e)],64)):(s(),o(w,{key:2},[A!==n.steps.length-1?(s(),o("div",xe)):r("",!0),e("span",{onClick:z=>b(t),class:"cursor-pointer group relative flex items-center"},[y[2]||(y[2]=e("span",{class:"flex h-9 items-center","aria-hidden":"true"},[e("span",{class:"relative z-10 flex h-8 w-8 items-center justify-center rounded-full border-2 border-gray-300 bg-white group-hover:border-gray-400"},[e("span",{class:"h-2.5 w-2.5 rounded-full bg-transparent group-hover:bg-gray-300"})])],-1)),e("span",Se,[e("span",$e,c(t.title),1),t.name==((N=p.value)==null?void 0:N.name)?(s(),o(w,{key:0},[t.summary?(s(),o("span",Ce,c(t.summary),1)):r("",!0),e("span",ze,c(t.description),1),e("div",Be,[i(C,{size:"xs",onClick:z=>d(l).push({name:t.route})},{default:x(()=>[M(c(a.$trans("general.proceed")),1)]),_:2},1032,["onClick"])])],64)):r("",!0)])],8,we)],64))],2)}),128))])]),$.value?(s(),o("div",Ae,[n.completed?(s(),o("p",Me,c(n.completed),1)):r("",!0),i(C,{block:"",size:"sm",onClick:k,class:"mt-2"},{default:x(()=>[M(c(a.$trans("global.hide",{attribute:a.$trans("config.system.props.setup_wizard")})),1)]),_:1})])):(s(),o("div",Pe,[n.footer?(s(),o("p",je,c(n.footer),1)):r("",!0)]))])]),_:1},8,["is-loading"])}}}),We={class:"hidden lg:flex lg:shrink-0"},De={class:"scroller-thin-y scroller-hidden flex h-0 flex-1 flex-col overflow-x-hidden"},Ne={class:"mt-6 px-0"},Re={__name:"AppSidebar",setup(B){const l=R(),h=S(()=>l.getters["layout/getSidebarType"]),_=S(()=>h.value==="mini"),$=S(()=>h.value==="full"),p=S(()=>h.value==="pinned");S(()=>$.value||p.value);const g=()=>{p.value||l.dispatch("layout/setSidebarType","full")},n=()=>{p.value||l.dispatch("layout/setSidebarType","mini")};return(b,f)=>{const k=u("MobileSidebar"),a=u("AppNavigation");return s(),o(w,null,[i(k),e("div",We,[e("div",{onMouseover:g,onMouseleave:n,class:L(["border-primary bg-primary dark:bg-dark-header flex flex-col border-r pb-4 pt-5 transition-all duration-200 ease-out dark:border-gray-700",{"absolute left-0 top-0 z-40 h-full":!p.value,"w-16":_.value,"w-64":$.value||p.value}])},[e("div",De,[e("nav",Ne,[i(a)])])],34)])],64)}}},Ue={class:"dark:bg-dark-header relative z-10 flex h-16 shrink-0 justify-between bg-black dark:border-b dark:border-gray-700"},Fe={class:"flex"},He={class:"flex items-center"},Oe=["src"],Ve=["src"],qe={key:0,class:"far fa-circle h-6 w-6","aria-hidden":"true"},Ee={key:1,class:"fas fa-dot-circle h-6 w-6","aria-hidden":"true"},Ze={class:"flex items-center justify-between space-x-4 px-4"},Ke={key:2},Ie={key:3,class:"hidden sm:block"},Ge={key:4,class:"hidden sm:block"},Je={class:"flex items-center"},Qe={__name:"AppHeader",setup(B){const l=R(),h=v("isImpersonating").value,_=J("config:store"),$=v("assets.logoLight"),p=v("layout.display").value=="dark"?v("assets.iconLight"):v("assets.icon"),g=v("system.mode"),n=v("system.enableMaintenanceMode"),b=S(()=>l.getters["layout/getSidebarType"]==="pinned"),f=m=>{l.dispatch("layout/setMobileSidebar",m)},k=m=>{l.dispatch("layout/setUserLayout",m)},a=()=>{let m=b.value?"mini":"pinned";k({sidebar:m})},y=async m=>{await l.dispatch("auth/user/unimpersonate").then(t=>{window.open("/","_self")}).catch(t=>{})},P=O("keySearch"),C=()=>{P.openSearch()};return(m,t)=>{const A=u("BaseBadge"),T=u("TimesheetClock"),W=u("PeriodSelection"),D=u("SessionWisePeriodSelection"),N=u("TeamSelection"),z=u("router-link"),q=u("ProfileDropdown"),U=Q("tooltip");return s(),o("div",Ue,[e("div",Fe,[e("div",He,[e("img",{src:d($),class:"ml-4 mr-2 hidden h-12 sm:block"},null,8,Oe),e("img",{src:d(p),class:"mx-2 h-12 sm:hidden"},null,8,Ve),F((s(),o("button",{type:"button",class:"hidden h-full w-full px-4 text-gray-500 focus:outline-none lg:block",onClick:a},[t[1]||(t[1]=e("span",{class:"sr-only"},"Pinned Sidebar",-1)),b.value?(s(),o("i",Ee)):(s(),o("i",qe))])),[[U,m.$trans("global.toggle",{attribute:m.$trans("general.sidebar")})]]),d(g)?r("",!0):(s(),j(A,{key:0,class:"hidden sm:block",design:"danger",label:m.$trans("general.demo")},null,8,["label"])),e("button",{type:"button",class:"h-full w-full px-2 text-gray-500 focus:outline-none sm:px-4 lg:hidden",onClick:t[0]||(t[0]=tt=>f(!0))},[t[2]||(t[2]=e("span",{class:"sr-only"},"Open Mobile Sidebar",-1)),i(d(se),{class:"h-6 w-6","aria-hidden":"true"})])])]),e("div",Ze,[i(T),d(v)("academic.periodSelection").value=="period_wise"?(s(),j(W,{key:0})):r("",!0),d(v)("academic.periodSelection").value=="session_wise"?(s(),j(D,{key:1})):r("",!0),i(N),d(_)?(s(),o("div",Ke,[i(z,{to:{name:"Config"}},{default:x(()=>t[3]||(t[3]=[e("i",{class:"fas fa-cog text-white"},null,-1)])),_:1})])):r("",!0),d(h)?(s(),o("div",Ie,[F(e("i",{class:"fas fa-circle text-warning cursor-pointer h-4 w-4",onClick:y},null,512),[[U,m.$trans("user.unimpersonate")]])])):r("",!0),d(n)?F((s(),o("div",Ge,t[4]||(t[4]=[e("i",{class:"fas fa-circle text-danger h-4 w-4"},null,-1)]))),[[U,m.$trans("general.under_maintenance")]]):r("",!0),e("button",{onClick:C,class:"text-white sm:hidden"},t[5]||(t[5]=[e("i",{class:"fas fa-search"},null,-1)])),e("div",Je,[i(q)])])])}}},Xe={class:"dark:bg-dark-body relative flex h-screen overflow-hidden bg-gray-200"},Ye={key:0,class:"h-screen flex-0 w-1/3 bg-white dark:bg-dark-header"},et={class:"scroller-thin-y scroller-hidden h-screen overflow-x-hidden"},ot={__name:"App",setup(B){const l=R(),h=ee(),_=H(null);te("keySearch",{openSearch:()=>{var f;return(f=_.value)==null?void 0:f.openSearch()},closeSearch:()=>{var f;return(f=_.value)==null?void 0:f.closeSearch()}});const $=v("system.showSetupWizard"),p=S(()=>l.getters["layout/getSidebarType"]==="pinned"),g=S(()=>!h.meta.noPadding),n=V("uuid");oe(`users.${n.value}`,"test.event",f=>{var k=new Audio("/notification.mp3");k.play()});const{screenSize:b}=X();return(f,k)=>{const a=u("NotificationBar"),y=u("router-view"),P=u("FooterCredit"),C=u("ReLogin"),m=u("KeySearch");return s(),o(w,null,[i(a,{type:"app"}),e("div",Xe,[i(Re),e("div",{class:L(["flex w-0 flex-1 flex-col overflow-hidden",{"lg:ml-16":!p.value}])},[i(Qe),e("main",{class:L(["scroller-thin-y scroller-hidden relative z-0 flex-1 focus:outline-none",{"overflow-y-auto":d(h).query.view!="board","overflow-y-hidden":d(h).query.view=="board"}])},[e("div",{class:L(["space-y-4",{"py-4 lg:px-4":g.value}])},[i(y)],2),i(P)],2)],2),!d(b).small&&d($)&&d(Y)("admin")?(s(),o("div",Ye,[e("div",et,[i(Te)])])):r("",!0)]),i(C),i(m,{ref_key:"keySearchRef",ref:_},null,512)],64)}}};export{ot as default};
