import{f as H,m as D,n as P,r as o,o as b,q as g,w as e,d as F,s,t as a,b as N,e as n,l as j,u as p,a as E,v as O,F as U,h as q,j as z}from"./app-DCfJDSeM.js";const G={class:"grid grid-cols-3 gap-6"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={__name:"Filter",emits:["hide"],setup(S,{emit:v}){const f=H(),h=v,k={students:[],startDate:"",endDate:""},i=D({...k});D({});const m=D({students:[],isLoaded:!f.query.students});return P(async()=>{m.students=f.query.students?f.query.students.split(","):[],m.isLoaded=!0}),(_,r)=>{const u=o("BaseSelectSearch"),l=o("DatePicker"),B=o("FilterForm");return b(),g(B,{"init-form":k,form:i,multiple:["students"],onHide:r[3]||(r[3]=d=>h("hide"))},{default:e(()=>[F("div",G,[F("div",J,[m.isLoaded?(b(),g(u,{key:0,multiple:"",name:"students",label:_.$trans("global.select",{attribute:_.$trans("student.student")}),modelValue:i.students,"onUpdate:modelValue":r[0]||(r[0]=d=>i.students=d),"value-prop":"uuid","init-search":m.students,"search-key":"name","search-action":"student/summary"},{selectedOption:e(d=>[s(a(d.value.name)+" ("+a(d.value.codeNumber)+") ",1)]),listOption:e(d=>[s(a(d.option.name)+" ("+a(d.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):N("",!0)]),F("div",K,[n(l,{start:i.startDate,"onUpdate:start":r[1]||(r[1]=d=>i.startDate=d),end:i.endDate,"onUpdate:end":r[2]||(r[2]=d=>i.endDate=d),name:"dateBetween",as:"range",label:_.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},W={name:"StudentTransferRequestList"},Y=Object.assign(W,{setup(S){const v=q(),f=z("emitter");let h=["create","filter"],k=["print","pdf","excel"];const i="student/transferRequest/",m=j(!1),_=D({}),r=u=>{Object.assign(_,u)};return(u,l)=>{const B=o("PageHeaderAction"),d=o("PageHeader"),w=o("ParentTransition"),c=o("DataCell"),$=o("TextMuted"),T=o("BaseBadge"),y=o("FloatingMenuItem"),I=o("FloatingMenu"),L=o("DataRow"),M=o("BaseButton"),V=o("DataTable"),A=o("ListItem");return b(),g(A,{"init-url":i,onSetItems:r},{header:e(()=>[n(d,{title:u.$trans("student.transfer_request.transfer_request"),navs:[{label:u.$trans("student.student"),path:"Student"}]},{default:e(()=>[n(B,{url:"student/transfer-requests/",name:"StudentTransferRequest",title:u.$trans("student.transfer_request.transfer_request"),actions:p(h),"dropdown-actions":p(k),onToggleFilter:l[0]||(l[0]=t=>m.value=!m.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[n(w,{appear:"",visibility:m.value},{default:e(()=>[n(Q,{onRefresh:l[1]||(l[1]=t=>p(f).emit("listItems")),onHide:l[2]||(l[2]=t=>m.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(w,{appear:"",visibility:!0},{default:e(()=>[n(V,{header:_.headers,meta:_.meta,module:"student.transfer_request",onRefresh:l[4]||(l[4]=t=>p(f).emit("listItems"))},{actionButton:e(()=>[n(M,{onClick:l[3]||(l[3]=t=>p(v).push({name:"StudentTransferRequestCreate"}))},{default:e(()=>[s(a(u.$trans("global.add",{attribute:u.$trans("student.transfer.transfer")})),1)]),_:1})]),default:e(()=>[(b(!0),E(U,null,O(_.data,t=>(b(),g(L,{key:t.uuid},{default:e(()=>[n(c,{name:"codeNumber"},{default:e(()=>[s(a(t.codeNumber),1)]),_:2},1024),n(c,{name:"name"},{default:e(()=>[s(a(t.student.name)+" ",1),n($,{block:""},{default:e(()=>[s(a(t.student.contactNumber),1)]),_:2},1024)]),_:2},1024),n(c,{name:"parent"},{default:e(()=>[s(a(t.student.fatherName)+" ",1),n($,{block:""},{default:e(()=>[s(a(t.student.motherName),1)]),_:2},1024)]),_:2},1024),n(c,{name:"admissionDate"},{default:e(()=>[s(a(t.student.joiningDate.formatted)+" ",1),n($,{block:""},{default:e(()=>[s(a(t.student.codeNumber),1)]),_:2},1024)]),_:2},1024),n(c,{name:"course"},{default:e(()=>[s(a(t.student.courseName)+" ",1),n($,{block:""},{default:e(()=>[s(a(t.student.batchName),1)]),_:2},1024)]),_:2},1024),n(c,{name:"requestDate"},{default:e(()=>[s(a(t.requestDate.formatted),1)]),_:2},1024),n(c,{name:"status"},{default:e(()=>[n(T,{design:t.status.color},{default:e(()=>[s(a(t.status.label),1)]),_:2},1032,["design"])]),_:2},1024),n(c,{name:"createdAt"},{default:e(()=>[s(a(t.createdAt.formatted),1)]),_:2},1024),n(c,{name:"action"},{default:e(()=>[n(I,null,{default:e(()=>[n(y,{icon:"fas fa-arrow-circle-right",onClick:C=>p(v).push({name:"StudentTransferRequestShow",params:{uuid:t.uuid}})},{default:e(()=>[s(a(u.$trans("general.show")),1)]),_:2},1032,["onClick"]),t.isEditable?(b(),g(y,{key:0,icon:"fas fa-edit",onClick:C=>p(v).push({name:"StudentTransferRequestEdit",params:{uuid:t.uuid}})},{default:e(()=>[s(a(u.$trans("general.edit")),1)]),_:2},1032,["onClick"])):N("",!0),t.isEditable?(b(),g(y,{key:1,icon:"fas fa-trash",onClick:C=>p(f).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[s(a(u.$trans("general.delete")),1)]),_:2},1032,["onClick"])):N("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Y as default};
