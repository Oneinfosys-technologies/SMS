import{f as S,m as C,n as A,r as i,o as f,q as g,w as e,d as h,s as r,t as a,b as w,e as n,l as H,u as v,a as O,v as P,F as R,h as U,j}from"./app-DCfJDSeM.js";const E={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={__name:"Filter",emits:["hide"],setup(B,{emit:y}){const c=S(),I=y,b={inventories:[],employees:[],startDate:"",endDate:""},m=C({...b}),l=C({inventories:[],employees:[],isLoaded:!(c.query.inventories||c.query.employees)});return A(async()=>{l.inventories=c.query.inventories?c.query.inventories.split(","):[],l.employees=c.query.employees?c.query.employees.split(","):[],l.isLoaded=!0}),(p,u)=>{const s=i("BaseSelectSearch"),d=i("DatePicker"),k=i("FilterForm");return f(),g(k,{"init-form":b,form:m,multiple:["inventories","employees"],onHide:u[4]||(u[4]=t=>I("hide"))},{default:e(()=>[h("div",E,[h("div",z,[l.isLoaded?(f(),g(s,{key:0,multiple:"",name:"inventories",label:p.$trans("global.select",{attribute:p.$trans("inventory.inventory")}),modelValue:m.inventories,"onUpdate:modelValue":u[0]||(u[0]=t=>m.inventories=t),"value-prop":"uuid","init-search":l.inventories,"search-key":"name","search-action":"inventory/list"},{selectedOption:e(t=>[r(a(t.value.name),1)]),listOption:e(t=>[r(a(t.option.name),1)]),_:1},8,["label","modelValue","init-search"])):w("",!0)]),h("div",G,[l.isLoaded?(f(),g(s,{key:0,multiple:"",name:"employees",label:p.$trans("global.select",{attribute:p.$trans("employee.employee")}),modelValue:m.employees,"onUpdate:modelValue":u[1]||(u[1]=t=>m.employees=t),"value-prop":"uuid","init-search":l.employees,"search-key":"name","search-action":"employee/list"},{selectedOption:e(t=>[r(a(t.value.name)+" ("+a(t.value.codeNumber)+") ",1)]),listOption:e(t=>[r(a(t.option.name)+" ("+a(t.option.codeNumber)+") ",1)]),_:1},8,["label","modelValue","init-search"])):w("",!0)]),h("div",J,[n(d,{start:m.startDate,"onUpdate:start":u[2]||(u[2]=t=>m.startDate=t),end:m.endDate,"onUpdate:end":u[3]||(u[3]=t=>m.endDate=t),name:"dateBetween",as:"range",label:p.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},Q={name:"InventoryInchargeList"},X=Object.assign(Q,{setup(B){const y=U(),c=j("emitter");let I=["create","filter"],b=["print","pdf","excel"];const m="inventory/incharge/",l=H(!1),p=C({}),u=s=>{Object.assign(p,s)};return(s,d)=>{const k=i("PageHeaderAction"),t=i("PageHeader"),F=i("ParentTransition"),_=i("DataCell"),V=i("TextMuted"),$=i("FloatingMenuItem"),L=i("FloatingMenu"),T=i("DataRow"),q=i("BaseButton"),M=i("DataTable"),N=i("ListItem");return f(),g(N,{"init-url":m,onSetItems:u},{header:e(()=>[n(t,{title:s.$trans("inventory.incharge.incharge"),navs:[{label:s.$trans("inventory.inventory"),path:"Inventory"}]},{default:e(()=>[n(k,{url:"inventory/incharges/",name:"InventoryIncharge",title:s.$trans("inventory.incharge.incharge"),actions:v(I),"dropdown-actions":v(b),onToggleFilter:d[0]||(d[0]=o=>l.value=!l.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[n(F,{appear:"",visibility:l.value},{default:e(()=>[n(K,{onRefresh:d[1]||(d[1]=o=>v(c).emit("listItems")),onHide:d[2]||(d[2]=o=>l.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(F,{appear:"",visibility:!0},{default:e(()=>[n(M,{header:p.headers,meta:p.meta,module:"inventory.incharge",onRefresh:d[4]||(d[4]=o=>v(c).emit("listItems"))},{actionButton:e(()=>[n(q,{onClick:d[3]||(d[3]=o=>v(y).push({name:"InventoryInchargeCreate"}))},{default:e(()=>[r(a(s.$trans("global.add",{attribute:s.$trans("inventory.incharge.incharge")})),1)]),_:1})]),default:e(()=>[(f(!0),O(R,null,P(p.data,o=>(f(),g(T,{key:o.uuid},{default:e(()=>[n(_,{name:"inventory"},{default:e(()=>[r(a(o.inventory.name),1)]),_:2},1024),n(_,{name:"employee"},{default:e(()=>[r(a(o.employee.name)+" ",1),n(V,{block:""},{default:e(()=>[r(a(o.employee.codeNumber),1)]),_:2},1024)]),_:2},1024),n(_,{name:"period"},{default:e(()=>[r(a(o.period),1)]),_:2},1024),n(_,{name:"createdAt"},{default:e(()=>[r(a(o.createdAt.formatted),1)]),_:2},1024),n(_,{name:"action"},{default:e(()=>[n(L,null,{default:e(()=>[n($,{icon:"fas fa-arrow-circle-right",onClick:D=>v(y).push({name:"InventoryInchargeShow",params:{uuid:o.uuid}})},{default:e(()=>[r(a(s.$trans("general.show")),1)]),_:2},1032,["onClick"]),n($,{icon:"fas fa-edit",onClick:D=>v(y).push({name:"InventoryInchargeEdit",params:{uuid:o.uuid}})},{default:e(()=>[r(a(s.$trans("general.edit")),1)]),_:2},1032,["onClick"]),n($,{icon:"fas fa-copy",onClick:D=>v(y).push({name:"InventoryInchargeDuplicate",params:{uuid:o.uuid}})},{default:e(()=>[r(a(s.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),n($,{icon:"fas fa-trash",onClick:D=>v(c).emit("deleteItem",{uuid:o.uuid})},{default:e(()=>[r(a(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{X as default};
