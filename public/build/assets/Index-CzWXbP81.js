import{m as P,r as m,o as c,q as _,w as e,d as k,e as a,y as f,l as j,u as i,s as d,t as r,b as D,a as F,v as L,F as N,h as S,j as E}from"./app-DCfJDSeM.js";const O={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={__name:"Filter",emits:["hide"],setup(B,{emit:g}){const y=g,$={name:"",code:"",shortcode:"",alias:"",startDate:"",endDate:""},s=P({...$});return(v,o)=>{const u=m("BaseInput"),V=m("DatePicker"),l=m("FilterForm");return c(),_(l,{"init-form":$,form:s,onHide:o[6]||(o[6]=t=>y("hide"))},{default:e(()=>[k("div",O,[k("div",q,[a(u,{type:"text",modelValue:s.name,"onUpdate:modelValue":o[0]||(o[0]=t=>s.name=t),name:"name",label:v.$trans("academic.period.props.name")},null,8,["modelValue","label"])]),k("div",z,[a(u,{type:"text",modelValue:s.code,"onUpdate:modelValue":o[1]||(o[1]=t=>s.code=t),name:"code",label:v.$trans("academic.period.props.code")},null,8,["modelValue","label"])]),k("div",G,[a(u,{type:"text",modelValue:s.shortcode,"onUpdate:modelValue":o[2]||(o[2]=t=>s.shortcode=t),name:"shortcode",label:v.$trans("academic.period.props.shortcode")},null,8,["modelValue","label"])]),k("div",J,[a(u,{type:"text",modelValue:s.alias,"onUpdate:modelValue":o[3]||(o[3]=t=>s.alias=t),name:"alias",label:v.$trans("academic.period.props.alias")},null,8,["modelValue","label"])]),k("div",K,[a(V,{start:s.startDate,"onUpdate:start":o[4]||(o[4]=t=>s.startDate=t),end:s.endDate,"onUpdate:end":o[5]||(o[5]=t=>s.endDate=t),name:"dateBetween",as:"range",label:v.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},W={key:0,class:"far fa-lg fa-check-circle text-success"},X={name:"AcademicPeriodList"},Z=Object.assign(X,{setup(B){const g=S(),y=E("emitter");let $=["filter"];f("period:create")&&$.unshift("create"),f("academic:config")&&$.push("config");let s=[];f("period:export")&&(s=["print","pdf","excel"]);const v="academic/period/",o=j(!1),u=P({}),V=l=>{Object.assign(u,l)};return(l,t)=>{const h=m("BaseButton"),I=m("PageHeaderAction"),T=m("PageHeader"),A=m("ParentTransition"),w=m("TextMuted"),p=m("DataCell"),C=m("FloatingMenuItem"),U=m("FloatingMenu"),H=m("DataRow"),M=m("DataTable"),R=m("ListItem");return c(),_(R,{"init-url":v,onSetItems:V},{header:e(()=>[a(T,{title:l.$trans("academic.period.period"),navs:[{label:l.$trans("academic.academic"),path:"Academic"}]},{default:e(()=>[a(I,{url:"academic/periods/",name:"AcademicPeriod",title:l.$trans("academic.period.period"),actions:i($),"dropdown-actions":i(s),onToggleFilter:t[1]||(t[1]=n=>o.value=!o.value),"config-path":"AcademicConfig"},{default:e(()=>[i(f)("session:manage")?(c(),_(h,{key:0,design:"white",onClick:t[0]||(t[0]=n=>i(g).push({name:"AcademicSession"}))},{default:e(()=>[d(r(l.$trans("academic.session.session")),1)]),_:1})):D("",!0)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(A,{appear:"",visibility:o.value},{default:e(()=>[a(Q,{onRefresh:t[2]||(t[2]=n=>i(y).emit("listItems")),onHide:t[3]||(t[3]=n=>o.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(A,{appear:"",visibility:!0},{default:e(()=>[a(M,{header:u.headers,meta:u.meta,module:"academic.period",onRefresh:t[5]||(t[5]=n=>i(y).emit("listItems"))},{actionButton:e(()=>[i(f)("period:create")?(c(),_(h,{key:0,onClick:t[4]||(t[4]=n=>i(g).push({name:"AcademicPeriodCreate"}))},{default:e(()=>[d(r(l.$trans("global.add",{attribute:l.$trans("academic.period.period")})),1)]),_:1})):D("",!0)]),default:e(()=>[(c(!0),F(N,null,L(u.data,n=>(c(),_(H,{key:n.uuid},{default:e(()=>[a(p,{name:"name"},{default:e(()=>[d(r(n.name)+" ",1),a(w,{block:""},{default:e(()=>[d(r(n.alias),1)]),_:2},1024)]),_:2},1024),a(p,null,{default:e(()=>[n.enableRegistration?(c(),F("i",W)):D("",!0)]),_:2},1024),a(p,{name:"session"},{default:e(()=>{var b;return[d(r(((b=n.session)==null?void 0:b.name)||"-"),1)]}),_:2},1024),a(p,{name:"code"},{default:e(()=>[d(r(n.code)+" ",1),a(w,{block:""},{default:e(()=>[d(r(n.shortcode),1)]),_:2},1024)]),_:2},1024),a(p,{name:"startDate"},{default:e(()=>[d(r(n.startDate.formatted),1)]),_:2},1024),a(p,{name:"endDate"},{default:e(()=>[d(r(n.endDate.formatted),1)]),_:2},1024),a(p,{name:"createdAt"},{default:e(()=>[d(r(n.createdAt.formatted),1)]),_:2},1024),a(p,{name:"action"},{default:e(()=>[a(U,null,{default:e(()=>[a(C,{icon:"fas fa-arrow-circle-right",onClick:b=>i(g).push({name:"AcademicPeriodShow",params:{uuid:n.uuid}})},{default:e(()=>[d(r(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),i(f)("period:edit")?(c(),_(C,{key:0,icon:"fas fa-edit",onClick:b=>i(g).push({name:"AcademicPeriodEdit",params:{uuid:n.uuid}})},{default:e(()=>[d(r(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):D("",!0),i(f)("period:create")?(c(),_(C,{key:1,icon:"fas fa-copy",onClick:b=>i(g).push({name:"AcademicPeriodDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[d(r(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):D("",!0),i(f)("period:delete")?(c(),_(C,{key:2,icon:"fas fa-trash",onClick:b=>i(y).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[d(r(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
