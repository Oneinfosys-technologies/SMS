import{G as w,g as B,m as G,n as H,I as A,a as z,q as y,u as o,b as V,e as s,w as S,F as M,f as J,r as d,o as b,d as l,s as k,t as L,H as K,j as Q}from"./app-DCfJDSeM.js";const W={class:"grid grid-cols-3 gap-6"},X={class:"col-span-3 sm:col-span-2"},Y={class:"flex"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},_={class:"col-span-3 sm:col-span-1"},ee={class:"col-span-3 sm:col-span-1"},ae={class:"col-span-3 sm:col-span-1"},te={class:"col-span-3 sm:col-span-1"},re={class:"col-span-3 sm:col-span-1"},oe={class:"col-span-3 sm:col-span-1"},ne={class:"col-span-3 sm:col-span-1"},le={class:"col-span-3 sm:col-span-1"},se={class:"col-span-3 sm:col-span-1"},ie={class:"col-span-3 sm:col-span-1"},ue={class:"col-span-3 sm:col-span-1"},de={class:"col-span-3 sm:col-span-1"},me={class:"col-span-3 sm:col-span-1"},pe={class:"col-span-3 sm:col-span-1"},be={name:"ContactEditBasic"},ce=Object.assign(be,{props:{guardian:{type:Object,default(){return{}}}},setup(m){const $=J(),T=Q("emitter"),j=m,f={firstName:"",middleName:"",thirdName:"",lastName:"",firstName:"",middleName:"",gender:"",birthDate:"",anniversaryDate:"",uniqueIdNumber1:"",uniqueIdNumber2:"",uniqueIdNumber3:"",birthPlace:"",nationality:"",motherTongue:"",bloodGroup:"",maritalStatus:"",religion:"",category:"",caste:""},P="guardian/",n=w(P),E=B("contact.uniqueIdNumber1Label"),R=B("contact.uniqueIdNumber2Label"),F=B("contact.uniqueIdNumber3Label"),v=G({genders:[],bloodGroups:[],maritalStatuses:[]}),r=G({...f}),u=G({religion:"",category:"",caste:"",isLoaded:!$.params.uuid}),C=t=>{Object.assign(v,t)};H(async()=>{var e,U,N,q,i,I,c,g,p,h,D,a;let t=(e=j.guardian)==null?void 0:e.contact;Object.assign(f,{firstName:t.firstName,middleName:t.middleName,thirdName:t.thirdName,lastName:t.lastName,fatherName:t.fatherName,motherName:t.motherName,gender:(U=t.gender)==null?void 0:U.value,birthDate:(N=t.birthDate)==null?void 0:N.value,anniversaryDate:(q=t.anniversaryDate)==null?void 0:q.value,uniqueIdNumber1:t.uniqueIdNumber1,uniqueIdNumber2:t.uniqueIdNumber2,uniqueIdNumber3:t.uniqueIdNumber3,birthPlace:t.birthPlace,bloodGroup:((i=t.bloodGroup)==null?void 0:i.value)||"",maritalStatus:((I=t.maritalStatus)==null?void 0:I.value)||"",nationality:t.nationality,motherTongue:t.motherTongue,religion:((c=t.religion)==null?void 0:c.uuid)||"",category:((g=t.category)==null?void 0:g.uuid)||"",caste:((p=t.caste)==null?void 0:p.uuid)||""}),Object.assign(r,A(f)),u.religion=((h=t.religion)==null?void 0:h.name)||"",u.category=((D=t.category)==null?void 0:D.name)||"",u.caste=((a=t.caste)==null?void 0:a.name)||"",u.isLoaded=!0});const O=()=>{T.emit("guardianUpdated")};return(t,e)=>{const U=d("PageHeader"),N=d("BaseLabel"),q=d("NameInput"),i=d("BaseInput"),I=d("BaseRadioGroup"),c=d("DatePicker"),g=d("BaseSelect"),p=d("BaseSelectSearch"),h=d("FormAction"),D=d("ParentTransition");return b(),z(M,null,[m.guardian.uuid?(b(),y(U,{key:0,title:t.$trans(o($).meta.trans,{attribute:t.$trans(o($).meta.label)}),navs:[{label:t.$trans("guardian.guardian"),path:"Guardian"},{label:m.guardian.contact.name,path:{name:"GuardianShow",params:{uuid:m.guardian.uuid}}}]},null,8,["title","navs"])):V("",!0),s(D,{appear:"",visibility:!0},{default:S(()=>[m.guardian.uuid?(b(),y(h,{key:0,"pre-requisites":!0,onSetPreRequisites:C,"init-url":P,"no-data-fetch":"","init-form":f,form:r,"stay-on":"","after-submit":O,redirect:{name:"GuardianShowBasic",params:{uuid:m.guardian.uuid}}},{default:S(()=>[l("div",W,[l("div",X,[s(N,null,{default:S(()=>[k(L(t.$trans("contact.props.name")),1)]),_:1}),l("div",Y,[s(q,{firstName:r.firstName,"onUpdate:firstName":e[0]||(e[0]=a=>r.firstName=a),middleName:r.middleName,"onUpdate:middleName":e[1]||(e[1]=a=>r.middleName=a),thirdName:r.thirdName,"onUpdate:thirdName":e[2]||(e[2]=a=>r.thirdName=a),lastName:r.lastName,"onUpdate:lastName":e[3]||(e[3]=a=>r.lastName=a),formErrors:o(n),"onUpdate:formErrors":e[4]||(e[4]=a=>K(n)?n.value=a:null)},null,8,["firstName","middleName","thirdName","lastName","formErrors"])])]),l("div",Z,[s(i,{type:"text",modelValue:r.fatherName,"onUpdate:modelValue":e[5]||(e[5]=a=>r.fatherName=a),name:"fatherName",label:t.$trans("contact.props.father_name"),error:o(n).fatherName,"onUpdate:error":e[6]||(e[6]=a=>o(n).fatherName=a)},null,8,["modelValue","label","error"])]),l("div",x,[s(i,{type:"text",modelValue:r.motherName,"onUpdate:modelValue":e[7]||(e[7]=a=>r.motherName=a),name:"motherName",label:t.$trans("contact.props.mother_name"),error:o(n).motherName,"onUpdate:error":e[8]||(e[8]=a=>o(n).motherName=a)},null,8,["modelValue","label","error"])]),l("div",_,[s(N,null,{default:S(()=>[k(L(t.$trans("contact.props.gender")),1)]),_:1}),s(I,{"top-margin":"",options:v.genders,name:"gender",modelValue:r.gender,"onUpdate:modelValue":e[9]||(e[9]=a=>r.gender=a),error:o(n).gender,"onUpdate:error":e[10]||(e[10]=a=>o(n).gender=a),horizontal:""},null,8,["options","modelValue","error"])]),l("div",ee,[s(c,{modelValue:r.birthDate,"onUpdate:modelValue":e[11]||(e[11]=a=>r.birthDate=a),name:"birthDate",label:t.$trans("contact.props.birth_date"),"no-clear":"",error:o(n).birthDate,"onUpdate:error":e[12]||(e[12]=a=>o(n).birthDate=a)},null,8,["modelValue","label","error"])]),l("div",ae,[s(c,{modelValue:r.anniversaryDate,"onUpdate:modelValue":e[13]||(e[13]=a=>r.anniversaryDate=a),name:"anniversaryDate",label:t.$trans("contact.props.anniversary_date"),"no-clear":"",error:o(n).anniversaryDate,"onUpdate:error":e[14]||(e[14]=a=>o(n).anniversaryDate=a)},null,8,["modelValue","label","error"])]),l("div",te,[s(i,{type:"text",modelValue:r.uniqueIdNumber1,"onUpdate:modelValue":e[15]||(e[15]=a=>r.uniqueIdNumber1=a),name:"uniqueIdNumber1",label:o(E),error:o(n).uniqueIdNumber1,"onUpdate:error":e[16]||(e[16]=a=>o(n).uniqueIdNumber1=a)},null,8,["modelValue","label","error"])]),l("div",re,[s(i,{type:"text",modelValue:r.uniqueIdNumber2,"onUpdate:modelValue":e[17]||(e[17]=a=>r.uniqueIdNumber2=a),name:"uniqueIdNumber2",label:o(R),error:o(n).uniqueIdNumber2,"onUpdate:error":e[18]||(e[18]=a=>o(n).uniqueIdNumber2=a)},null,8,["modelValue","label","error"])]),l("div",oe,[s(i,{type:"text",modelValue:r.uniqueIdNumber3,"onUpdate:modelValue":e[19]||(e[19]=a=>r.uniqueIdNumber3=a),name:"uniqueIdNumber3",label:o(F),error:o(n).uniqueIdNumber3,"onUpdate:error":e[20]||(e[20]=a=>o(n).uniqueIdNumber3=a)},null,8,["modelValue","label","error"])]),l("div",ne,[s(i,{type:"text",modelValue:r.birthPlace,"onUpdate:modelValue":e[21]||(e[21]=a=>r.birthPlace=a),name:"birthPlace",label:t.$trans("contact.props.birth_place"),error:o(n).birthPlace,"onUpdate:error":e[22]||(e[22]=a=>o(n).birthPlace=a)},null,8,["modelValue","label","error"])]),l("div",le,[s(i,{type:"text",modelValue:r.nationality,"onUpdate:modelValue":e[23]||(e[23]=a=>r.nationality=a),name:"nationality",label:t.$trans("contact.props.nationality"),error:o(n).nationality,"onUpdate:error":e[24]||(e[24]=a=>o(n).nationality=a)},null,8,["modelValue","label","error"])]),l("div",se,[s(i,{type:"text",modelValue:r.motherTongue,"onUpdate:modelValue":e[25]||(e[25]=a=>r.motherTongue=a),name:"motherTongue",label:t.$trans("contact.props.mother_tongue"),error:o(n).motherTongue,"onUpdate:error":e[26]||(e[26]=a=>o(n).motherTongue=a)},null,8,["modelValue","label","error"])]),l("div",ie,[s(g,{modelValue:r.bloodGroup,"onUpdate:modelValue":e[27]||(e[27]=a=>r.bloodGroup=a),name:"bloodGroup",label:t.$trans("contact.props.blood_group"),options:v.bloodGroups,error:o(n).bloodGroup,"onUpdate:error":e[28]||(e[28]=a=>o(n).bloodGroup=a)},null,8,["modelValue","label","options","error"])]),l("div",ue,[s(g,{modelValue:r.maritalStatus,"onUpdate:modelValue":e[29]||(e[29]=a=>r.maritalStatus=a),name:"maritalStatus",label:t.$trans("contact.props.marital_status"),options:v.maritalStatuses,error:o(n).maritalStatus,"onUpdate:error":e[30]||(e[30]=a=>o(n).maritalStatus=a)},null,8,["modelValue","label","options","error"])]),l("div",de,[u.isLoaded?(b(),y(p,{key:0,name:"religion",label:t.$trans("global.select",{attribute:t.$trans("contact.religion.religion")}),modelValue:r.religion,"onUpdate:modelValue":e[31]||(e[31]=a=>r.religion=a),error:o(n).religion,"onUpdate:error":e[32]||(e[32]=a=>o(n).religion=a),"label-prop":"name","value-prop":"uuid","init-search":u.religion,"init-search-key":"name","search-action":"option/list","additional-search-query":{type:"religion"}},null,8,["label","modelValue","error","init-search"])):V("",!0)]),l("div",me,[u.isLoaded?(b(),y(p,{key:0,name:"category",label:t.$trans("global.select",{attribute:t.$trans("contact.category.category")}),modelValue:r.category,"onUpdate:modelValue":e[33]||(e[33]=a=>r.category=a),error:o(n).category,"onUpdate:error":e[34]||(e[34]=a=>o(n).category=a),"label-prop":"name","value-prop":"uuid","init-search":u.category,"init-search-key":"name","search-action":"option/list","additional-search-query":{type:"member_category"}},null,8,["label","modelValue","error","init-search"])):V("",!0)]),l("div",pe,[u.isLoaded?(b(),y(p,{key:0,name:"caste",label:t.$trans("global.select",{attribute:t.$trans("contact.caste.caste")}),modelValue:r.caste,"onUpdate:modelValue":e[35]||(e[35]=a=>r.caste=a),error:o(n).caste,"onUpdate:error":e[36]||(e[36]=a=>o(n).caste=a),"label-prop":"name","value-prop":"uuid","init-search":u.caste,"init-search-key":"name","search-action":"option/list","additional-search-query":{type:"member_caste"}},null,8,["label","modelValue","error","init-search"])):V("",!0)])])]),_:1},8,["form","redirect"])):V("",!0)]),_:1})],64)}}});export{ce as default};
