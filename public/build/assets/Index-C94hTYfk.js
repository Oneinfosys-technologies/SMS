import{m as V,r as s,o as f,q as _,w as e,d as C,e as a,l as E,u as i,y as P,b as F,s as r,t as m,a as R,v as j,F as L,h as S,i as U,j as q}from"./app-DCfJDSeM.js";const O={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(D,{emit:u}){const v=u,$={name:"",code:""},c=V({...$});return(k,l)=>{const p=s("BaseInput"),y=s("FilterForm");return f(),_(y,{"init-form":$,form:c,onHide:l[2]||(l[2]=n=>v("hide"))},{default:e(()=>[C("div",O,[C("div",z,[a(p,{type:"text",modelValue:c.name,"onUpdate:modelValue":l[0]||(l[0]=n=>c.name=n),name:"name",label:k.$trans("exam.props.name")},null,8,["modelValue","label"])]),C("div",G,[a(p,{type:"text",modelValue:c.code,"onUpdate:modelValue":l[1]||(l[1]=n=>c.code=n),name:"code",label:k.$trans("exam.props.code")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"ExamList"},W=Object.assign(K,{setup(D){const u=S();U();const v=q("emitter");let $=["create","filter"],c=["print","pdf","excel"];const k="exam/";E(!1);const l=E(!1),p=V({}),y=n=>{Object.assign(p,n)};return(n,o)=>{const w=s("BaseButton"),T=s("PageHeaderAction"),h=s("PageHeader"),B=s("ParentTransition"),I=s("TextMuted"),g=s("DataCell"),b=s("FloatingMenuItem"),A=s("FloatingMenu"),H=s("DataRow"),M=s("DataTable"),N=s("ListItem");return f(),_(N,{"init-url":k,"additional-query":{details:!0},onSetItems:y},{header:e(()=>[a(h,{title:n.$trans("exam.exam"),navs:[{label:n.$trans("exam.exam"),path:"Exam"}]},{default:e(()=>[a(T,{url:"exams/",name:"Exam",title:n.$trans("exam.exam"),actions:i($),"dropdown-actions":i(c),onToggleFilter:o[1]||(o[1]=t=>l.value=!l.value)},{after:e(()=>[i(P)("exam:config")?(f(),_(w,{key:0,design:"white",onClick:o[0]||(o[0]=t=>i(u).push({name:"ExamConfig"}))},{default:e(()=>o[6]||(o[6]=[C("i",{class:"fas fa-cog"},null,-1)])),_:1})):F("",!0)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[a(B,{appear:"",visibility:l.value},{default:e(()=>[a(J,{onRefresh:o[2]||(o[2]=t=>i(v).emit("listItems")),onHide:o[3]||(o[3]=t=>l.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(B,{appear:"",visibility:!0},{default:e(()=>[a(M,{header:p.headers,meta:p.meta,module:"exam",onRefresh:o[5]||(o[5]=t=>i(v).emit("listItems"))},{actionButton:e(()=>[a(w,{onClick:o[4]||(o[4]=t=>i(u).push({name:"ExamCreate"}))},{default:e(()=>[r(m(n.$trans("global.add",{attribute:n.$trans("exam.exam")})),1)]),_:1})]),default:e(()=>[(f(!0),R(L,null,j(p.data,t=>(f(),_(H,{key:t.uuid},{default:e(()=>[a(g,{name:"name"},{default:e(()=>[r(m(t.name)+" ",1),t.code?(f(),_(I,{key:0,block:""},{default:e(()=>[r(m(t.code),1)]),_:2},1024)):F("",!0),t.displayName?(f(),_(I,{key:1,block:""},{default:e(()=>[r(m(t.displayName),1)]),_:2},1024)):F("",!0)]),_:2},1024),a(g,{name:"division"},{default:e(()=>{var d,x;return[r(m(((x=(d=t.term)==null?void 0:d.division)==null?void 0:x.name)||"-"),1)]}),_:2},1024),a(g,{name:"term"},{default:e(()=>{var d;return[r(m(((d=t.term)==null?void 0:d.name)||"-"),1)]}),_:2},1024),a(g,{name:"createdAt"},{default:e(()=>[r(m(t.createdAt.formatted),1)]),_:2},1024),a(g,{name:"action"},{default:e(()=>[a(A,null,{default:e(()=>[a(b,{icon:"fas fa-arrow-circle-right",onClick:d=>i(u).push({name:"ExamShow",params:{uuid:t.uuid}})},{default:e(()=>[r(m(n.$trans("general.show")),1)]),_:2},1032,["onClick"]),a(b,{icon:"fas fa-edit",onClick:d=>i(u).push({name:"ExamEdit",params:{uuid:t.uuid}})},{default:e(()=>[r(m(n.$trans("general.edit")),1)]),_:2},1032,["onClick"]),a(b,{icon:"fas fa-copy",onClick:d=>i(u).push({name:"ExamDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[r(m(n.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),a(b,{icon:"fas fa-trash",onClick:d=>i(v).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[r(m(n.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
