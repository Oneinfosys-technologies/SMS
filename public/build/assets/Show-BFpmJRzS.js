import{r as i,o as a,a as c,d as f,e as r,m as F,w as t,u as _,F as v,C as E,q as o,s as l,t as s,b as u,v as B,y as P,i as z,f as G,h as J}from"./app-DCfJDSeM.js";const K={class:"overflow-hidden bg-black"},Q={name:"CalendarEventCoverImage"},W=Object.assign(Q,{props:{event:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},emits:["refreshItem"],setup($,{emit:h}){const k=h;return(T,y)=>{const e=i("ImageUpload");return a(),c("div",K,[f("div",null,[r(e,{class:"h-32 w-full lg:h-48",disabled:$.disabled,label:T.$trans("calendar.event.props.cover_image"),src:$.event.coverImage,"upload-path":`calendar/events/${$.event.uuid}/assets/cover`,"remove-path":`calendar/events/${$.event.uuid}/assets/cover`,design:"modern","show-label":!1,onUploaded:y[0]||(y[0]=I=>k("refreshItem")),onRemoved:y[1]||(y[1]=I=>k("refreshItem"))},null,8,["disabled","label","src","upload-path","remove-path"])])])}}}),X={class:"flex items-center justify-center gap-2"},Y={class:"text-sm"},Z={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},x={class:"mt-8 grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},ee=["innerHTML"],te={class:"space-y-2"},ae={class:"flex justify-center gap-2"},ne={class:"grid grid-cols-1 gap-x-4 gap-y-8 sm:grid-cols-2"},le=["innerHTML"],se={name:"CalendarEventShow"},de=Object.assign(se,{setup($){z();const h=G(),k=J(),T={},y="calendar/event/",e=F({...T}),I=n=>{Object.assign(e,n)},w=n=>e.audiences.filter(p=>p.type===n);return(n,p)=>{const H=i("PageHeaderAction"),M=i("PageHeader"),b=i("BaseDataView"),L=i("ListMedia"),C=i("BaseCard"),m=i("ListItemView"),g=i("TextMuted"),S=i("ListContainerVertical"),j=i("BaseBadge"),N=i("BaseButton"),R=i("ShowButton"),O=i("DetailLayoutVertical"),U=i("ShowItem"),q=i("ParentTransition");return a(),c(v,null,[r(M,{title:n.$trans(_(h).meta.trans,{attribute:n.$trans(_(h).meta.label)}),navs:[{label:n.$trans("calendar.calendar"),path:"Calendar"},{label:n.$trans("calendar.event.event"),path:"CalendarEventList"}]},{default:t(()=>[r(H,{name:"CalendarEvent",title:n.$trans("calendar.event.event"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),r(q,{appear:"",visibility:!0},{default:t(()=>[r(U,{"init-url":y,uuid:_(h).params.uuid,onSetItem:I,onRedirectTo:p[2]||(p[2]=d=>_(k).push({name:"CalendarEvent"}))},{default:t(()=>[e.uuid&&_(E)(["student","guardian"],"any")?(a(),o(C,{key:0},{title:t(()=>[f("div",X,[l(s(e.title)+" ",1),f("span",Y,s(e.duration),1)])]),default:t(()=>[f("dl",Z,[r(b,{label:n.$trans("calendar.event.props.type")},{default:t(()=>[l(s(e.type.name),1)]),_:1},8,["label"]),r(b,{label:n.$trans("calendar.event.props.venue")},{default:t(()=>[l(s(e.venue),1)]),_:1},8,["label"]),r(b,{label:n.$trans("general.period"),class:"col-span-1 sm:col-span-2"},{default:t(()=>[l(s(e.durationInDetail),1)]),_:1},8,["label"])]),f("dl",x,[r(b,{class:"col-span-1 sm:col-span-2"},{default:t(()=>[f("div",{innerHTML:e.description},null,8,ee)]),_:1}),e.media.length>0?(a(),o(b,{key:0,class:"col-span-1 sm:col-span-2"},{default:t(()=>[r(L,{media:e.media,url:`/app/calendar/events/${e.uuid}/`},null,8,["media","url"])]),_:1})):u("",!0)])]),_:1})):u("",!0),e.uuid&&!_(E)(["student","guardian"],"any")?(a(),o(O,{key:1},{detail:t(()=>[f("div",te,[r(C,{"no-padding":"","no-content-padding":""},{title:t(()=>[l(" #"+s(e.codeNumber),1)]),action:t(()=>p[3]||(p[3]=[])),default:t(()=>[r(S,null,{default:t(()=>[r(m,{label:n.$trans("calendar.event.props.title")},{default:t(()=>[l(s(e.title),1)]),_:1},8,["label"]),r(m,{label:n.$trans("calendar.event.props.venue")},{default:t(()=>[l(s(e.venue),1)]),_:1},8,["label"]),r(m,{label:n.$trans("calendar.event.props.start_date")},{default:t(()=>[l(s(e.startDate.formatted)+" ",1),e.startTime.value?(a(),o(g,{key:0,block:""},{default:t(()=>[l(s(e.startTime.formatted),1)]),_:1})):u("",!0)]),_:1},8,["label"]),r(m,{label:n.$trans("calendar.event.props.end_date")},{default:t(()=>{var d;return[l(s(((d=e.endDate)==null?void 0:d.formatted)||"-")+" ",1),e.endTime.value?(a(),o(g,{key:0,block:""},{default:t(()=>[l(s(e.endTime.formatted),1)]),_:1})):u("",!0)]}),_:1},8,["label"]),r(m,{label:n.$trans("employee.incharge.incharge")},{default:t(()=>[(a(!0),c(v,null,B(e.incharges,d=>{var V,A;return a(),c(v,null,[l(s(((V=d.employee)==null?void 0:V.name)||"-")+" ",1),(A=d.employee)!=null&&A.designation?(a(),o(g,{key:0},{default:t(()=>{var D;return[l(s(((D=d.employee)==null?void 0:D.designation)||"-"),1)]}),_:2},1024)):u("",!0)],64)}),256))]),_:1},8,["label"]),!e.isPublic&&e.forAlumni?(a(),o(m,{key:0,label:n.$trans("calendar.event.props.audience")},{default:t(()=>[l(s(n.$trans("calendar.event.props.for_alumni"))+" ",1),(a(!0),c(v,null,B(e.periodDetails,d=>(a(),o(g,{block:""},{default:t(()=>[l(s(d.name),1)]),_:2},1024))),256)),(a(!0),c(v,null,B(e.sessionDetails,d=>(a(),o(g,{block:""},{default:t(()=>[l(s(d.name),1)]),_:2},1024))),256))]),_:1},8,["label"])):u("",!0),!e.isPublic&&!e.forAlumni?(a(),c(v,{key:1},[r(m,{label:n.$trans("calendar.event.props.audience")},{default:t(()=>[l(s(e.studentAudienceType.label)+" ",1),(a(!0),c(v,null,B(w("student"),d=>(a(),o(g,{block:""},{default:t(()=>[l(s(d.name),1)]),_:2},1024))),256))]),_:1},8,["label"]),r(m,{label:n.$trans("calendar.event.props.audience")},{default:t(()=>[e.employeeAudienceType.value?(a(),c(v,{key:0},[l(s(e.employeeAudienceType.label)+" ",1),(a(!0),c(v,null,B(w("employee"),d=>(a(),o(g,{block:""},{default:t(()=>[l(s(d.name),1)]),_:2},1024))),256))],64)):(a(),c(v,{key:1},[l("-")],64))]),_:1},8,["label"]),r(m,{label:n.$trans("general.created_at")},{default:t(()=>[l(s(e.createdAt.formatted),1)]),_:1},8,["label"]),r(m,{label:n.$trans("general.updated_at")},{default:t(()=>[l(s(e.updatedAt.formatted),1)]),_:1},8,["label"])],64)):u("",!0)]),_:1})]),_:1}),_(P)("event:edit")?(a(),o(C,{key:0,"no-padding":"","no-content-padding":""},{title:t(()=>[l(s(n.$trans("calendar.event.props.cover_image")),1)]),default:t(()=>[e.uuid?(a(),o(W,{key:0,event:e,onRefreshItem:p[0]||(p[0]=d=>n.refreshItem=!0)},null,8,["event"])):u("",!0)]),_:1})):u("",!0)])]),default:t(()=>[e.uuid?(a(),o(C,{key:0},{title:t(()=>[f("div",ae,[l(s(e.title)+" ",1),e.isPublic?(a(),o(j,{key:0,design:"primary"},{default:t(()=>[l(s(n.$trans("general.public")),1)]),_:1})):u("",!0)])]),footer:t(()=>[r(R,null,{default:t(()=>[_(P)("event:edit")?(a(),o(N,{key:0,design:"primary",onClick:p[1]||(p[1]=d=>_(k).push({name:"CalendarEventEdit",params:{uuid:e.uuid}}))},{default:t(()=>[l(s(n.$trans("general.edit")),1)]),_:1})):u("",!0)]),_:1})]),default:t(()=>[f("dl",ne,[r(b,{class:"col-span-1 sm:col-span-2"},{default:t(()=>[f("div",{innerHTML:e.description},null,8,le)]),_:1}),e.media.length>0?(a(),o(b,{key:0,class:"col-span-1 sm:col-span-2"},{default:t(()=>[r(L,{media:e.media,url:`/app/calendar/events/${e.uuid}/`},null,8,["media","url"])]),_:1})):u("",!0)])]),_:1})):u("",!0)]),_:1})):u("",!0)]),_:1},8,["uuid"])]),_:1})],64)}}});export{de as default};
