import{m as q,a as i,e as o,w as e,u as a,F as g,j as U,r as p,o as n,q as m,s as y,t as s,b as d,d as c,y as G,v as k,x as v,i as J,f as K,h as Q}from"./app-DCfJDSeM.js";const W={class:"space-y-4"},X={key:0,class:"px-4 py-2"},Y={key:0},Z={key:1},ee={key:1,class:"mt-2 border-2 border-gray-300 dark:border-gray-300 rounded-md p-2"},ae={class:"block mt-1"},te={key:0},le={class:"block font-semibold"},oe={key:2},ne={key:2,class:"grid grid-cols-1 gap-x-4 gap-y-8 px-4 pt-4 sm:grid-cols-2"},se=["innerHTML"],pe={name:"EmployeePayrollSalaryTemplateShow"},ye=Object.assign(pe,{setup(re){J();const h=K(),T=Q(),t=U("$trans"),S={},C="employee/payroll/salaryTemplate/",V=[{key:"payHead",label:t("employee.payroll.pay_head.pay_head"),visibility:!0},{key:"payHeadCode",label:t("employee.payroll.pay_head.props.code"),visibility:!0},{key:"type",label:t("employee.payroll.salary_template.props.type"),visibility:!0},{key:"attendanceType",label:"",visibility:!0},{key:"action",label:"",visibility:!0}],r=q({...S}),w=H=>{Object.assign(r,H)};return(H,b)=>{const L=p("PageHeaderAction"),D=p("PageHeader"),x=p("TextMuted"),f=p("ListItemView"),E=p("ListContainerVertical"),B=p("BaseCard"),A=p("BaseAlert"),u=p("DataCell"),I=p("DataRow"),R=p("SimpleTable"),j=p("BaseDataView"),M=p("BaseButton"),N=p("ShowButton"),O=p("DetailLayoutVertical"),$=p("ShowItem"),z=p("ParentTransition");return n(),i(g,null,[o(D,{title:a(t)(a(h).meta.trans,{attribute:a(t)(a(h).meta.label)}),navs:[{label:a(t)("employee.employee"),path:"Employee"},{label:a(t)("employee.payroll.payroll"),path:"EmployeePayroll"},{label:a(t)("employee.payroll.salary_template.salary_template"),path:"EmployeePayrollSalaryTemplateList"}]},{default:e(()=>[o(L,{name:"EmployeePayrollSalaryTemplate",title:a(t)("employee.payroll.salary_template.salary_template"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),o(z,{appear:"",visibility:!0},{default:e(()=>[o($,{"init-url":C,uuid:a(h).params.uuid,onSetItem:w,onRedirectTo:b[1]||(b[1]=l=>a(T).push({name:"EmployeePayrollSalaryTemplate"}))},{default:e(()=>[r.uuid?(n(),m(O,{key:0},{detail:e(()=>[o(B,{"no-padding":"","no-content-padding":""},{title:e(()=>[y(s(a(t)("global.detail",{attribute:a(t)("employee.payroll.salary_template.salary_template")})),1)]),default:e(()=>[o(E,null,{default:e(()=>[o(f,{label:a(t)("employee.payroll.salary_template.props.name")},{default:e(()=>[y(s(r.name)+" ",1),r.hasHourlyPayroll?(n(),m(x,{key:0,block:""},{default:e(()=>[y(s(a(t)("employee.payroll.salary_template.props.hourly_payroll")),1)]),_:1})):d("",!0)]),_:1},8,["label"]),o(f,{label:a(t)("employee.payroll.salary_template.props.alias")},{default:e(()=>[y(s(r.alias),1)]),_:1},8,["label"]),o(f,{label:a(t)("general.created_at")},{default:e(()=>[y(s(r.createdAt.formatted),1)]),_:1},8,["label"]),o(f,{label:a(t)("general.updated_at")},{default:e(()=>[y(s(r.updatedAt.formatted),1)]),_:1},8,["label"])]),_:1})]),_:1})]),default:e(()=>[c("div",W,[o(B,{"no-padding":"","no-content-padding":"","bottom-content-padding":""},{title:e(()=>[y(s(a(t)("employee.payroll.salary_template.salary_template")),1)]),footer:e(()=>[o(N,null,{default:e(()=>[a(G)("salary-template:edit")?(n(),m(M,{key:0,design:"primary",onClick:b[0]||(b[0]=l=>a(T).push({name:"EmployeePayrollSalaryTemplateEdit",params:{uuid:r.uuid}}))},{default:e(()=>[y(s(a(t)("general.edit")),1)]),_:1})):d("",!0)]),_:1})]),default:e(()=>[r.hasHourlyPayroll?(n(),i("div",X,[o(A,{design:"info",size:"xs"},{default:e(()=>[y(s(a(t)("employee.payroll.salary_template.hourly_payroll_info")),1)]),_:1})])):d("",!0),r.records.length>0?(n(),m(R,{key:1,header:V},{default:e(()=>[(n(!0),i(g,null,k(r.records,l=>(n(),m(I,{key:l.uuid},{default:e(()=>[o(u,{name:"payHead"},{default:e(()=>[c("span",{class:v({"text-success":l.payHead.type=="earning","text-danger":l.payHead.type=="deduction"})},s(l.payHead.name),3)]),_:2},1024),o(u,{name:"payHeadCode"},{default:e(()=>[c("span",{class:v({"text-success":l.payHead.category.value=="earning","text-danger":l.payHead.category.value=="deduction"})},s(l.payHead.code),3)]),_:2},1024),o(u,{name:"type"},{default:e(()=>[y(s(l.type.label),1)]),_:2},1024),o(u,{name:"attendanceType"},{default:e(()=>[l.attendanceType?(n(),i("div",Y,s(l.attendanceType.name),1)):l.computation?(n(),i("div",Z,[y(s(l.computation)+" ",1),l.hasRange&&l.minValue.value>=0?(n(),m(x,{key:0,block:""},{default:e(()=>[y(s(l.minValue.formatted)+" - "+s(l.maxValue.formatted),1)]),_:2},1024)):d("",!0),l.hasCondition?(n(),i("div",ee,[(n(!0),i(g,null,k(l.detailedConditionalFormulas,P=>(n(),i("span",ae,[(n(!0),i(g,null,k(P.conditions,(_,F)=>(n(),i("span",{class:v({"ml-1":F>0})},[y(s(a(t)("employee.payroll.salary_template.conditional_formula_if",{pay_head:_.referencePayHead,condition:_.operator.label,value:_.value}))+" ",1),_.logicalOperator?(n(),i("span",te,s(_.logicalOperator.label),1)):d("",!0)],2))),256)),c("span",le,s(a(t)("employee.payroll.salary_template.conditional_formula_then",{formula:P.formula})),1)]))),256))])):d("",!0)])):(n(),i("div",oe,"-"))]),_:2},1024),o(u,{name:"action"})]),_:2},1024))),128))]),_:1})):d("",!0),r.description?(n(),i("dl",ne,[o(j,{class:"col-span-1 sm:col-span-2",label:a(t)("employee.payroll.salary_template.props.description")},{default:e(()=>[c("div",{innerHTML:r.description},null,8,se)]),_:1},8,["label"])])):d("",!0)]),_:1})])]),_:1})):d("",!0)]),_:1},8,["uuid"])]),_:1})],64)}}});export{ye as default};
