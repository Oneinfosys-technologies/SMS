import{m as V,r as n,o as d,q as _,w as e,d as C,e as a,y as F,l as L,u,b as k,s as l,t as i,a as I,v as M,F as w,f as N,h as O,j as x}from"./app-DCfJDSeM.js";const q={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(o,{emit:E}){const y=E,v={headline:"",location:""},p=V({...v});return(h,r)=>{const c=n("BaseInput"),g=n("FilterForm");return d(),_(g,{"init-form":v,form:p,onHide:r[2]||(r[2]=$=>y("hide"))},{default:e(()=>[C("div",q,[C("div",z,[a(c,{type:"text",modelValue:p.headline,"onUpdate:modelValue":r[0]||(r[0]=$=>p.headline=$),name:"headline",label:h.$trans("employee.experience.props.headline")},null,8,["modelValue","label"])]),C("div",G,[a(c,{type:"text",modelValue:p.location,"onUpdate:modelValue":r[1]||(r[1]=$=>p.location=$),name:"location",label:h.$trans("employee.experience.props.location")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"EmployeeExperienceList"},W=Object.assign(K,{props:{employee:{type:Object,default(){return{}}}},setup(o){const E=N(),y=O(),v=x("emitter"),p=o;let h=["filter"];(F("employee:edit")||p.employee.selfService)&&h.unshift("create");const r="employee/experience/",c=L(!1),g=V({}),$=s=>{Object.assign(g,s)};return(s,m)=>{const S=n("PageHeaderAction"),T=n("PageHeader"),D=n("ParentTransition"),H=n("BaseBadge"),f=n("DataCell"),b=n("FloatingMenuItem"),P=n("FloatingMenu"),R=n("DataRow"),j=n("BaseButton"),A=n("DataTable"),U=n("ListItem");return d(),_(U,{"init-url":r,uuid:u(E).params.uuid,onSetItems:$},{header:e(()=>[o.employee.uuid?(d(),_(T,{key:0,title:s.$trans("employee.experience.experience"),navs:[{label:s.$trans("employee.employee"),path:"Employee"},{label:o.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:o.employee.uuid}}}]},{default:e(()=>[a(S,{url:`employees/${o.employee.uuid}/experiences/`,name:"EmployeeExperience",title:s.$trans("employee.experience.experience"),actions:u(h),"dropdown-actions":["print","pdf","excel"],onToggleFilter:m[0]||(m[0]=t=>c.value=!c.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):k("",!0)]),filter:e(()=>[a(D,{appear:"",visibility:c.value},{default:e(()=>[a(J,{onRefresh:m[1]||(m[1]=t=>u(v).emit("listItems")),onHide:m[2]||(m[2]=t=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[a(D,{appear:"",visibility:!0},{default:e(()=>[a(A,{header:g.headers,meta:g.meta,module:"employee.experience",onRefresh:m[4]||(m[4]=t=>u(v).emit("listItems"))},{actionButton:e(()=>[u(F)("employee:edit")||o.employee.selfService?(d(),_(j,{key:0,onClick:m[3]||(m[3]=t=>u(y).push({name:"EmployeeExperienceCreate"}))},{default:e(()=>[l(i(s.$trans("global.add",{attribute:s.$trans("employee.experience.experience")})),1)]),_:1})):k("",!0)]),default:e(()=>[(d(!0),I(w,null,M(g.data,t=>(d(),_(R,{key:t.uuid},{default:e(()=>[a(f,{name:"headline"},{default:e(()=>[l(i(t.headline)+" ",1),t.selfUpload?(d(),_(H,{key:0,design:t.verificationStatus.color},{default:e(()=>[l(i(t.verificationStatus.label),1)]),_:2},1032,["design"])):k("",!0)]),_:2},1024),a(f,{name:"location"},{default:e(()=>[l(i(t.location),1)]),_:2},1024),a(f,{name:"employmentType"},{default:e(()=>[l(i(t.employmentType.name),1)]),_:2},1024),a(f,{name:"startDate"},{default:e(()=>[l(i(t.startDate.formatted),1)]),_:2},1024),a(f,{name:"endDate"},{default:e(()=>[l(i(t.endDate.formatted),1)]),_:2},1024),a(f,{name:"createdAt"},{default:e(()=>[l(i(t.createdAt.formatted),1)]),_:2},1024),a(f,{name:"action"},{default:e(()=>[a(P,null,{default:e(()=>[a(b,{icon:"fas fa-arrow-circle-right",onClick:B=>u(y).push({name:"EmployeeExperienceShow",params:{uuid:o.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(s.$trans("general.show")),1)]),_:2},1032,["onClick"]),u(F)("employee:edit")||o.employee.selfService?(d(),I(w,{key:0},[a(b,{icon:"fas fa-edit",onClick:B=>u(y).push({name:"EmployeeExperienceEdit",params:{uuid:o.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(s.$trans("general.edit")),1)]),_:2},1032,["onClick"]),a(b,{icon:"fas fa-copy",onClick:B=>u(y).push({name:"EmployeeExperienceDuplicate",params:{uuid:o.employee.uuid,muuid:t.uuid}})},{default:e(()=>[l(i(s.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),a(b,{icon:"fas fa-trash",onClick:B=>u(v).emit("deleteItem",{uuid:o.employee.uuid,moduleUuid:t.uuid})},{default:e(()=>[l(i(s.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):k("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{W as default};
