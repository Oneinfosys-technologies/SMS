import{l as H,m as L,n as N,a as l,e as n,w as a,u as y,F as p,r as t,o,q as f,d as c,s as _,t as r,v,b,i as j,f as M,h as T}from"./app-DCfJDSeM.js";const q={class:"flex items-center"},A={class:"ml-4 text-sm"},O={class:"space-y-4"},x={key:0},E={class:"mt-4"},U={name:"ResourceDiaryShow"},J=Object.assign(U,{setup(z){const g=j(),u=M(),w=T(),B={},D="resource/diary/",d=H(!1),i=L({...B}),P=async()=>{d.value=!0,await g.dispatch(D+"preview",{params:u.query}).then(e=>{d.value=!1,Object.assign(i,e)}).catch(e=>{d.value=!1,w.push({name:"ResourceDiary"})})};return N(async()=>{await P()}),(e,G)=>{const R=t("PageHeaderAction"),k=t("PageHeader"),h=t("BaseDataView"),V=t("ListMedia"),$=t("BaseFieldset"),C=t("ShowButton"),S=t("BaseCard"),F=t("ParentTransition");return o(),l(p,null,[n(k,{title:e.$trans(y(u).meta.trans,{attribute:e.$trans(y(u).meta.label)}),navs:[{label:e.$trans("resource.resource"),path:"Resource"},{label:e.$trans("resource.diary.diary"),path:"ResourceDiary"}]},{default:a(()=>[n(R,{name:"ResourceDiary",title:e.$trans("resource.diary.diary"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),n(F,{appear:"",visibility:!0},{default:a(()=>[i.batch?(o(),f(S,{key:0},{title:a(()=>[c("div",q,[_(r(i.batch)+" ",1),c("span",A,r(i.date.formatted),1)])]),default:a(()=>[c("div",O,[(o(!0),l(p,null,v(i.records,s=>(o(),l("div",null,[n($,null,{legend:a(()=>[_(r(s.subject)+" ",1),s.employee?(o(),l("span",x," - "+r(s.employee.name)+" ("+r(s.employee.designation)+") ",1)):b("",!0)]),default:a(()=>[(o(!0),l(p,null,v(s.details,m=>(o(),f(h,{class:"mt-4 col-span-1 sm:col-span-2",key:m.heading,label:m.heading},{default:a(()=>[_(r(m.description),1)]),_:2},1032,["label"]))),128)),n(h,{class:"mt-4 col-span-1 sm:col-span-2"},{default:a(()=>[n(V,{"show-no-media-alert":!1,media:s.media,url:`/app/resource/diaries/${s.uuid}/`},null,8,["media","url"])]),_:2},1024)]),_:2},1024)]))),256))]),c("div",E,[n(C)])]),_:1})):b("",!0)]),_:1})],64)}}});export{J as default};
