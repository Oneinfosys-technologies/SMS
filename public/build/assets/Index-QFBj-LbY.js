import{f as R,m as F,n as j,r as s,o as u,q as m,w as e,d as y,e as t,y as v,l as O,u as o,s as l,t as d,b,a as S,v as U,F as E,h as q,j as z}from"./app-DCfJDSeM.js";import{_ as G}from"./ModuleDropdown-CAwsQhjt.js";const J={class:"grid grid-cols-3 gap-6"},K={class:"col-span-3 sm:col-span-1"},Q={__name:"Filter",emits:["hide"],setup(V,{emit:p}){R();const g=p,h={startDate:"",endDate:""},c=F({...h}),D=F({isLoaded:!0});return j(async()=>{D.isLoaded=!0}),(f,i)=>{const C=s("DatePicker"),r=s("FilterForm");return u(),m(r,{"init-form":h,form:c,multiple:[],onHide:i[2]||(i[2]=a=>g("hide"))},{default:e(()=>[y("div",J,[y("div",K,[t(C,{start:c.startDate,"onUpdate:start":i[0]||(i[0]=a=>c.startDate=a),end:c.endDate,"onUpdate:end":i[1]||(i[1]=a=>c.endDate=a),name:"dateBetween",as:"range",label:f.$trans("general.date_between")},null,8,["start","end","label"])])])]),_:1},8,["form"])}}},W={name:"TransportVehicleTravelRecordList"},Z=Object.assign(W,{setup(V){const p=q(),g=z("emitter");let h=["filter"];v("vehicle-travel-record:create")&&h.unshift("create");let c=[];v("vehicle-travel-record:export")&&(c=["print","pdf","excel"]);const D="transport/vehicle/travelRecord/",f=O(!1),i=F({}),C=r=>{Object.assign(i,r)};return(r,a)=>{const B=s("PageHeaderAction"),I=s("PageHeader"),T=s("ParentTransition"),P=s("TextMuted"),$=s("DataCell"),k=s("FloatingMenuItem"),M=s("FloatingMenu"),A=s("DataRow"),H=s("BaseButton"),L=s("DataTable"),N=s("ListItem");return u(),m(N,{"init-url":D,onSetItems:C},{header:e(()=>[t(I,{title:r.$trans("transport.vehicle.travel_record.travel_record"),navs:[{label:r.$trans("transport.transport"),path:"Transport"},{label:r.$trans("transport.vehicle.vehicle"),path:"TransportVehicle"}]},{default:e(()=>[t(B,{url:"transport/vehicle/travel-records/",name:"TransportVehicleTravelRecord",title:r.$trans("transport.vehicle.travel_record.travel_record"),actions:o(h),"dropdown-actions":o(c),onToggleFilter:a[0]||(a[0]=n=>f.value=!f.value)},{moduleOption:e(()=>[t(G)]),_:1},8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),filter:e(()=>[t(T,{appear:"",visibility:f.value},{default:e(()=>[t(Q,{onRefresh:a[1]||(a[1]=n=>o(g).emit("listItems")),onHide:a[2]||(a[2]=n=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(T,{appear:"",visibility:!0},{default:e(()=>[t(L,{header:i.headers,meta:i.meta,module:"transport.vehicle.travel_record",onRefresh:a[4]||(a[4]=n=>o(g).emit("listItems"))},{actionButton:e(()=>[o(v)("vehicle-travel-record:create")?(u(),m(H,{key:0,onClick:a[3]||(a[3]=n=>o(p).push({name:"TransportVehicleTravelRecordCreate"}))},{default:e(()=>[l(d(r.$trans("global.add",{attribute:r.$trans("transport.vehicle.travel_record.travel_record")})),1)]),_:1})):b("",!0)]),default:e(()=>[(u(!0),S(E,null,U(i.data,n=>(u(),m(A,{key:n.uuid},{default:e(()=>[t($,{name:"vehicle"},{default:e(()=>{var _;return[l(d((_=n.vehicle)==null?void 0:_.name)+" ",1),t(P,{block:""},{default:e(()=>{var w;return[l(d((w=n.vehicle)==null?void 0:w.registrationNumber),1)]}),_:2},1024)]}),_:2},1024),t($,{name:"date"},{default:e(()=>[l(d(n.date.formatted),1)]),_:2},1024),t($,{name:"log"},{default:e(()=>[l(d(n.log),1)]),_:2},1024),t($,{name:"createdAt"},{default:e(()=>[l(d(n.createdAt.formatted),1)]),_:2},1024),t($,{name:"action"},{default:e(()=>[t(M,null,{default:e(()=>[t(k,{icon:"fas fa-arrow-circle-right",onClick:_=>o(p).push({name:"TransportVehicleTravelRecordShow",params:{uuid:n.uuid}})},{default:e(()=>[l(d(r.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(v)("vehicle-travel-record:edit")?(u(),m(k,{key:0,icon:"fas fa-edit",onClick:_=>o(p).push({name:"TransportVehicleTravelRecordEdit",params:{uuid:n.uuid}})},{default:e(()=>[l(d(r.$trans("general.edit")),1)]),_:2},1032,["onClick"])):b("",!0),o(v)("vehicle-travel-record:create")?(u(),m(k,{key:1,icon:"fas fa-copy",onClick:_=>o(p).push({name:"TransportVehicleTravelRecordDuplicate",params:{uuid:n.uuid}})},{default:e(()=>[l(d(r.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):b("",!0),o(v)("vehicle-travel-record:delete")?(u(),m(k,{key:2,icon:"fas fa-trash",onClick:_=>o(g).emit("deleteItem",{uuid:n.uuid})},{default:e(()=>[l(d(r.$trans("general.delete")),1)]),_:2},1032,["onClick"])):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Z as default};
